var tA=Object.defineProperty;var nA=(n,a,s)=>a in n?tA(n,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[a]=s;var _=(n,a,s)=>nA(n,typeof a!="symbol"?a+"":a,s);(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function s(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(o){if(o.ep)return;o.ep=!0;const f=s(o);fetch(o.href,f)}})();var xf={exports:{}},lr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bm;function aA(){if(bm)return lr;bm=1;var n=Symbol.for("react.transitional.element"),a=Symbol.for("react.fragment");function s(r,o,f){var h=null;if(f!==void 0&&(h=""+f),o.key!==void 0&&(h=""+o.key),"key"in o){f={};for(var v in o)v!=="key"&&(f[v]=o[v])}else f=o;return o=f.ref,{$$typeof:n,type:r,key:h,ref:o!==void 0?o:null,props:f}}return lr.Fragment=a,lr.jsx=s,lr.jsxs=s,lr}var Am;function iA(){return Am||(Am=1,xf.exports=aA()),xf.exports}var Yu=iA(),Ef={exports:{}},sr={},Mf={exports:{}},Tf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wm;function lA(){return wm||(wm=1,function(n){function a(P,ne){var le=P.length;P.push(ne);e:for(;0<le;){var he=le-1>>>1,M=P[he];if(0<o(M,ne))P[he]=ne,P[le]=M,le=he;else break e}}function s(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var ne=P[0],le=P.pop();if(le!==ne){P[0]=le;e:for(var he=0,M=P.length,W=M>>>1;he<W;){var te=2*(he+1)-1,ce=P[te],se=te+1,Ee=P[se];if(0>o(ce,le))se<M&&0>o(Ee,ce)?(P[he]=Ee,P[se]=le,he=se):(P[he]=ce,P[te]=le,he=te);else if(se<M&&0>o(Ee,le))P[he]=Ee,P[se]=le,he=se;else break e}}return ne}function o(P,ne){var le=P.sortIndex-ne.sortIndex;return le!==0?le:P.id-ne.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;n.unstable_now=function(){return f.now()}}else{var h=Date,v=h.now();n.unstable_now=function(){return h.now()-v}}var g=[],p=[],w=1,R=null,y=3,q=!1,E=!1,N=!1,x=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function $(P){for(var ne=s(p);ne!==null;){if(ne.callback===null)r(p);else if(ne.startTime<=P)r(p),ne.sortIndex=ne.expirationTime,a(g,ne);else break;ne=s(p)}}function re(P){if(N=!1,$(P),!E)if(s(g)!==null)E=!0,me();else{var ne=s(p);ne!==null&&ve(re,ne.startTime-P)}}var ee=!1,O=-1,U=5,G=-1;function j(){return!(n.unstable_now()-G<U)}function F(){if(ee){var P=n.unstable_now();G=P;var ne=!0;try{e:{E=!1,N&&(N=!1,D(O),O=-1),q=!0;var le=y;try{t:{for($(P),R=s(g);R!==null&&!(R.expirationTime>P&&j());){var he=R.callback;if(typeof he=="function"){R.callback=null,y=R.priorityLevel;var M=he(R.expirationTime<=P);if(P=n.unstable_now(),typeof M=="function"){R.callback=M,$(P),ne=!0;break t}R===s(g)&&r(g),$(P)}else r(g);R=s(g)}if(R!==null)ne=!0;else{var W=s(p);W!==null&&ve(re,W.startTime-P),ne=!1}}break e}finally{R=null,y=le,q=!1}ne=void 0}}finally{ne?ae():ee=!1}}}var ae;if(typeof V=="function")ae=function(){V(F)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,ge=ue.port2;ue.port1.onmessage=F,ae=function(){ge.postMessage(null)}}else ae=function(){x(F,0)};function me(){ee||(ee=!0,ae())}function ve(P,ne){O=x(function(){P(n.unstable_now())},ne)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(P){P.callback=null},n.unstable_continueExecution=function(){E||q||(E=!0,me())},n.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<P?Math.floor(1e3/P):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return s(g)},n.unstable_next=function(P){switch(y){case 1:case 2:case 3:var ne=3;break;default:ne=y}var le=y;y=ne;try{return P()}finally{y=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(P,ne){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var le=y;y=P;try{return ne()}finally{y=le}},n.unstable_scheduleCallback=function(P,ne,le){var he=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?he+le:he):le=he,P){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=le+M,P={id:w++,callback:ne,priorityLevel:P,startTime:le,expirationTime:M,sortIndex:-1},le>he?(P.sortIndex=le,a(p,P),s(g)===null&&P===s(p)&&(N?(D(O),O=-1):N=!0,ve(re,le-he))):(P.sortIndex=M,a(g,P),E||q||(E=!0,me())),P},n.unstable_shouldYield=j,n.unstable_wrapCallback=function(P){var ne=y;return function(){var le=y;y=ne;try{return P.apply(this,arguments)}finally{y=le}}}}(Tf)),Tf}var Sm;function sA(){return Sm||(Sm=1,Mf.exports=lA()),Mf.exports}var Rf={exports:{}},Me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xm;function rA(){if(xm)return Me;xm=1;var n=Symbol.for("react.transitional.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.iterator;function y(M){return M===null||typeof M!="object"?null:(M=R&&M[R]||M["@@iterator"],typeof M=="function"?M:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,N={};function x(M,W,te){this.props=M,this.context=W,this.refs=N,this.updater=te||q}x.prototype.isReactComponent={},x.prototype.setState=function(M,W){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,W,"setState")},x.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function D(){}D.prototype=x.prototype;function V(M,W,te){this.props=M,this.context=W,this.refs=N,this.updater=te||q}var $=V.prototype=new D;$.constructor=V,E($,x.prototype),$.isPureReactComponent=!0;var re=Array.isArray,ee={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function U(M,W,te,ce,se,Ee){return te=Ee.ref,{$$typeof:n,type:M,key:W,ref:te!==void 0?te:null,props:Ee}}function G(M,W){return U(M.type,W,void 0,void 0,void 0,M.props)}function j(M){return typeof M=="object"&&M!==null&&M.$$typeof===n}function F(M){var W={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(te){return W[te]})}var ae=/\/+/g;function ue(M,W){return typeof M=="object"&&M!==null&&M.key!=null?F(""+M.key):W.toString(36)}function ge(){}function me(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(ge,ge):(M.status="pending",M.then(function(W){M.status==="pending"&&(M.status="fulfilled",M.value=W)},function(W){M.status==="pending"&&(M.status="rejected",M.reason=W)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function ve(M,W,te,ce,se){var Ee=typeof M;(Ee==="undefined"||Ee==="boolean")&&(M=null);var we=!1;if(M===null)we=!0;else switch(Ee){case"bigint":case"string":case"number":we=!0;break;case"object":switch(M.$$typeof){case n:case a:we=!0;break;case w:return we=M._init,ve(we(M._payload),W,te,ce,se)}}if(we)return se=se(M),we=ce===""?"."+ue(M,0):ce,re(se)?(te="",we!=null&&(te=we.replace(ae,"$&/")+"/"),ve(se,W,te,"",function(Fe){return Fe})):se!=null&&(j(se)&&(se=G(se,te+(se.key==null||M&&M.key===se.key?"":(""+se.key).replace(ae,"$&/")+"/")+we)),W.push(se)),1;we=0;var st=ce===""?".":ce+":";if(re(M))for(var Oe=0;Oe<M.length;Oe++)ce=M[Oe],Ee=st+ue(ce,Oe),we+=ve(ce,W,te,Ee,se);else if(Oe=y(M),typeof Oe=="function")for(M=Oe.call(M),Oe=0;!(ce=M.next()).done;)ce=ce.value,Ee=st+ue(ce,Oe++),we+=ve(ce,W,te,Ee,se);else if(Ee==="object"){if(typeof M.then=="function")return ve(me(M),W,te,ce,se);throw W=String(M),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return we}function P(M,W,te){if(M==null)return M;var ce=[],se=0;return ve(M,ce,"","",function(Ee){return W.call(te,Ee,se++)}),ce}function ne(M){if(M._status===-1){var W=M._result;W=W(),W.then(function(te){(M._status===0||M._status===-1)&&(M._status=1,M._result=te)},function(te){(M._status===0||M._status===-1)&&(M._status=2,M._result=te)}),M._status===-1&&(M._status=0,M._result=W)}if(M._status===1)return M._result.default;throw M._result}var le=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function he(){}return Me.Children={map:P,forEach:function(M,W,te){P(M,function(){W.apply(this,arguments)},te)},count:function(M){var W=0;return P(M,function(){W++}),W},toArray:function(M){return P(M,function(W){return W})||[]},only:function(M){if(!j(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Me.Component=x,Me.Fragment=s,Me.Profiler=o,Me.PureComponent=V,Me.StrictMode=r,Me.Suspense=g,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ee,Me.act=function(){throw Error("act(...) is not supported in production builds of React.")},Me.cache=function(M){return function(){return M.apply(null,arguments)}},Me.cloneElement=function(M,W,te){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ce=E({},M.props),se=M.key,Ee=void 0;if(W!=null)for(we in W.ref!==void 0&&(Ee=void 0),W.key!==void 0&&(se=""+W.key),W)!O.call(W,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&W.ref===void 0||(ce[we]=W[we]);var we=arguments.length-2;if(we===1)ce.children=te;else if(1<we){for(var st=Array(we),Oe=0;Oe<we;Oe++)st[Oe]=arguments[Oe+2];ce.children=st}return U(M.type,se,void 0,void 0,Ee,ce)},Me.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:f,_context:M},M},Me.createElement=function(M,W,te){var ce,se={},Ee=null;if(W!=null)for(ce in W.key!==void 0&&(Ee=""+W.key),W)O.call(W,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(se[ce]=W[ce]);var we=arguments.length-2;if(we===1)se.children=te;else if(1<we){for(var st=Array(we),Oe=0;Oe<we;Oe++)st[Oe]=arguments[Oe+2];se.children=st}if(M&&M.defaultProps)for(ce in we=M.defaultProps,we)se[ce]===void 0&&(se[ce]=we[ce]);return U(M,Ee,void 0,void 0,null,se)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(M){return{$$typeof:v,render:M}},Me.isValidElement=j,Me.lazy=function(M){return{$$typeof:w,_payload:{_status:-1,_result:M},_init:ne}},Me.memo=function(M,W){return{$$typeof:p,type:M,compare:W===void 0?null:W}},Me.startTransition=function(M){var W=ee.T,te={};ee.T=te;try{var ce=M(),se=ee.S;se!==null&&se(te,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(he,le)}catch(Ee){le(Ee)}finally{ee.T=W}},Me.unstable_useCacheRefresh=function(){return ee.H.useCacheRefresh()},Me.use=function(M){return ee.H.use(M)},Me.useActionState=function(M,W,te){return ee.H.useActionState(M,W,te)},Me.useCallback=function(M,W){return ee.H.useCallback(M,W)},Me.useContext=function(M){return ee.H.useContext(M)},Me.useDebugValue=function(){},Me.useDeferredValue=function(M,W){return ee.H.useDeferredValue(M,W)},Me.useEffect=function(M,W){return ee.H.useEffect(M,W)},Me.useId=function(){return ee.H.useId()},Me.useImperativeHandle=function(M,W,te){return ee.H.useImperativeHandle(M,W,te)},Me.useInsertionEffect=function(M,W){return ee.H.useInsertionEffect(M,W)},Me.useLayoutEffect=function(M,W){return ee.H.useLayoutEffect(M,W)},Me.useMemo=function(M,W){return ee.H.useMemo(M,W)},Me.useOptimistic=function(M,W){return ee.H.useOptimistic(M,W)},Me.useReducer=function(M,W,te){return ee.H.useReducer(M,W,te)},Me.useRef=function(M){return ee.H.useRef(M)},Me.useState=function(M){return ee.H.useState(M)},Me.useSyncExternalStore=function(M,W,te){return ee.H.useSyncExternalStore(M,W,te)},Me.useTransition=function(){return ee.H.useTransition()},Me.version="19.0.0",Me}var Em;function Vf(){return Em||(Em=1,Rf.exports=rA()),Rf.exports}var qf={exports:{}},Ut={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mm;function uA(){if(Mm)return Ut;Mm=1;var n=Vf();function a(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)p+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(a(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(g,p,w){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:R==null?null:""+R,children:g,containerInfo:p,implementation:w}}var h=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ut.createPortal=function(g,p){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(a(299));return f(g,p,null,w)},Ut.flushSync=function(g){var p=h.T,w=r.p;try{if(h.T=null,r.p=2,g)return g()}finally{h.T=p,r.p=w,r.d.f()}},Ut.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(g,p))},Ut.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},Ut.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var w=p.as,R=v(w,p.crossOrigin),y=typeof p.integrity=="string"?p.integrity:void 0,q=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;w==="style"?r.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:R,integrity:y,fetchPriority:q}):w==="script"&&r.d.X(g,{crossOrigin:R,integrity:y,fetchPriority:q,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Ut.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var w=v(p.as,p.crossOrigin);r.d.M(g,{crossOrigin:w,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(g)},Ut.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var w=p.as,R=v(w,p.crossOrigin);r.d.L(g,w,{crossOrigin:R,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Ut.preloadModule=function(g,p){if(typeof g=="string")if(p){var w=v(p.as,p.crossOrigin);r.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:w,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(g)},Ut.requestFormReset=function(g){r.d.r(g)},Ut.unstable_batchedUpdates=function(g,p){return g(p)},Ut.useFormState=function(g,p,w){return h.H.useFormState(g,p,w)},Ut.useFormStatus=function(){return h.H.useHostTransitionStatus()},Ut.version="19.0.0",Ut}var Tm;function oA(){if(Tm)return qf.exports;Tm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(a){console.error(a)}}return n(),qf.exports=uA(),qf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm;function cA(){if(Rm)return sr;Rm=1;var n=sA(),a=Vf(),s=oA();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var f=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),R=Symbol.for("react.provider"),y=Symbol.for("react.consumer"),q=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),$=Symbol.for("react.offscreen"),re=Symbol.for("react.memo_cache_sentinel"),ee=Symbol.iterator;function O(e){return e===null||typeof e!="object"?null:(e=ee&&e[ee]||e["@@iterator"],typeof e=="function"?e:null)}var U=Symbol.for("react.client.reference");function G(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===U?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case g:return"Fragment";case v:return"Portal";case w:return"Profiler";case p:return"StrictMode";case N:return"Suspense";case x:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case q:return(e.displayName||"Context")+".Provider";case y:return(e._context.displayName||"Context")+".Consumer";case E:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case D:return t=e.displayName||null,t!==null?t:G(e.type)||"Memo";case V:t=e._payload,e=e._init;try{return G(e(t))}catch{}}return null}var j=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=Object.assign,ae,ue;function ge(e){if(ae===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);ae=t&&t[1]||"",ue=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ae+e+ue}var me=!1;function ve(e,t){if(!e||me)return"";me=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var k=function(){throw Error()};if(Object.defineProperty(k.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(k,[])}catch(Q){var L=Q}Reflect.construct(e,[],k)}else{try{k.call()}catch(Q){L=Q}e.call(k.prototype)}}else{try{throw Error()}catch(Q){L=Q}(k=e())&&typeof k.catch=="function"&&k.catch(function(){})}}catch(Q){if(Q&&L&&typeof Q.stack=="string")return[Q.stack,L.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=l.DetermineComponentFrameRoot(),m=c[0],A=c[1];if(m&&A){var S=m.split(`
`),C=A.split(`
`);for(u=l=0;l<S.length&&!S[l].includes("DetermineComponentFrameRoot");)l++;for(;u<C.length&&!C[u].includes("DetermineComponentFrameRoot");)u++;if(l===S.length||u===C.length)for(l=S.length-1,u=C.length-1;1<=l&&0<=u&&S[l]!==C[u];)u--;for(;1<=l&&0<=u;l--,u--)if(S[l]!==C[u]){if(l!==1||u!==1)do if(l--,u--,0>u||S[l]!==C[u]){var Z=`
`+S[l].replace(" at new "," at ");return e.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",e.displayName)),Z}while(1<=l&&0<=u);break}}}finally{me=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?ge(i):""}function P(e){switch(e.tag){case 26:case 27:case 5:return ge(e.type);case 16:return ge("Lazy");case 13:return ge("Suspense");case 19:return ge("SuspenseList");case 0:case 15:return e=ve(e.type,!1),e;case 11:return e=ve(e.type.render,!1),e;case 1:return e=ve(e.type,!0),e;default:return""}}function ne(e){try{var t="";do t+=P(e),e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function le(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function he(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function M(e){if(le(e)!==e)throw Error(r(188))}function W(e){var t=e.alternate;if(!t){if(t=le(e),t===null)throw Error(r(188));return t!==e?null:e}for(var i=e,l=t;;){var u=i.return;if(u===null)break;var c=u.alternate;if(c===null){if(l=u.return,l!==null){i=l;continue}break}if(u.child===c.child){for(c=u.child;c;){if(c===i)return M(u),e;if(c===l)return M(u),t;c=c.sibling}throw Error(r(188))}if(i.return!==l.return)i=u,l=c;else{for(var m=!1,A=u.child;A;){if(A===i){m=!0,i=u,l=c;break}if(A===l){m=!0,l=u,i=c;break}A=A.sibling}if(!m){for(A=c.child;A;){if(A===i){m=!0,i=c,l=u;break}if(A===l){m=!0,l=c,i=u;break}A=A.sibling}if(!m)throw Error(r(189))}}if(i.alternate!==l)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?e:t}function te(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=te(e),t!==null)return t;e=e.sibling}return null}var ce=Array.isArray,se=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ee={pending:!1,data:null,method:null,action:null},we=[],st=-1;function Oe(e){return{current:e}}function Fe(e){0>st||(e.current=we[st],we[st]=null,st--)}function Ne(e,t){st++,we[st]=e.current,e.current=t}var rt=Oe(null),Yn=Oe(null),qt=Oe(null),de=Oe(null);function Ae(e,t){switch(Ne(qt,t),Ne(Yn,e),Ne(rt,null),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?Jp(t):0;break;default:if(e=e===8?t.parentNode:t,t=e.tagName,e=e.namespaceURI)e=Jp(e),t=Pp(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Fe(rt),Ne(rt,t)}function Se(){Fe(rt),Fe(Yn),Fe(qt)}function Le(e){e.memoizedState!==null&&Ne(de,e);var t=rt.current,i=Pp(t,e.type);t!==i&&(Ne(Yn,e),Ne(rt,i))}function Je(e){Yn.current===e&&(Fe(rt),Fe(Yn)),de.current===e&&(Fe(de),er._currentValue=Ee)}var Ce=Object.prototype.hasOwnProperty,gt=n.unstable_scheduleCallback,fn=n.unstable_cancelCallback,us=n.unstable_shouldYield,os=n.unstable_requestPaint,_t=n.unstable_now,Qi=n.unstable_getCurrentPriorityLevel,wa=n.unstable_ImmediatePriority,jt=n.unstable_UserBlockingPriority,Xt=n.unstable_NormalPriority,Sa=n.unstable_LowPriority,Ht=n.unstable_IdlePriority,ui=n.log,Rn=n.unstable_setDisableYieldValue,qn=null,Dt=null;function cs(e){if(Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(qn,e,void 0,(e.current.flags&128)===128)}catch{}}function Dn(e){if(typeof ui=="function"&&Rn(e),Dt&&typeof Dt.setStrictMode=="function")try{Dt.setStrictMode(qn,e)}catch{}}var Ot=Math.clz32?Math.clz32:Ki,Nt=Math.log,fs=Math.LN2;function Ki(e){return e>>>=0,e===0?32:31-(Nt(e)/fs|0)|0}var oi=128,ci=4194304;function In(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function fi(e,t){var i=e.pendingLanes;if(i===0)return 0;var l=0,u=e.suspendedLanes,c=e.pingedLanes,m=e.warmLanes;e=e.finishedLanes!==0;var A=i&134217727;return A!==0?(i=A&~u,i!==0?l=In(i):(c&=A,c!==0?l=In(c):e||(m=A&~m,m!==0&&(l=In(m))))):(A=i&~u,A!==0?l=In(A):c!==0?l=In(c):e||(m=i&~m,m!==0&&(l=In(m)))),l===0?0:t!==0&&t!==l&&!(t&u)&&(u=l&-l,m=t&-t,u>=m||u===32&&(m&4194176)!==0)?t:l}function xa(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function T(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function X(){var e=oi;return oi<<=1,!(oi&4194176)&&(oi=128),e}function J(){var e=ci;return ci<<=1,!(ci&62914560)&&(ci=4194304),e}function ie(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function be(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Qe(e,t,i,l,u,c){var m=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var A=e.entanglements,S=e.expirationTimes,C=e.hiddenUpdates;for(i=m&~i;0<i;){var Z=31-Ot(i),k=1<<Z;A[Z]=0,S[Z]=-1;var L=C[Z];if(L!==null)for(C[Z]=null,Z=0;Z<L.length;Z++){var Q=L[Z];Q!==null&&(Q.lane&=-536870913)}i&=~k}l!==0&&pt(e,l,0),c!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=c&~(m&~t))}function pt(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Ot(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|i&4194218}function Ie(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var l=31-Ot(i),u=1<<l;u&t|e[l]&t&&(e[l]|=t),i&=~u}}function hn(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function $t(){var e=se.p;return e!==0?e:(e=window.event,e===void 0?32:dm(e.type))}function On(e,t){var i=se.p;try{return se.p=e,t()}finally{se.p=i}}var Ea=Math.random().toString(36).slice(2),Bt="__reactFiber$"+Ea,Vt="__reactProps$"+Ea,Zi="__reactContainer$"+Ea,vo="__reactEvents$"+Ea,Z1="__reactListeners$"+Ea,F1="__reactHandles$"+Ea,Zh="__reactResources$"+Ea,hs="__reactMarker$"+Ea;function bo(e){delete e[Bt],delete e[Vt],delete e[vo],delete e[Z1],delete e[F1]}function hi(e){var t=e[Bt];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Zi]||i[Bt]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=$p(e);e!==null;){if(i=e[Bt])return i;e=$p(e)}return t}e=i,i=e.parentNode}return null}function Fi(e){if(e=e[Bt]||e[Zi]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function ds(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function Ji(e){var t=e[Zh];return t||(t=e[Zh]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function vt(e){e[hs]=!0}var Fh=new Set,Jh={};function di(e,t){Pi(e,t),Pi(e+"Capture",t)}function Pi(e,t){for(Jh[e]=t,e=0;e<t.length;e++)Fh.add(t[e])}var $n=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),J1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ph={},Wh={};function P1(e){return Ce.call(Wh,e)?!0:Ce.call(Ph,e)?!1:J1.test(e)?Wh[e]=!0:(Ph[e]=!0,!1)}function Tr(e,t,i){if(P1(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function Rr(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function kn(e,t,i,l){if(l===null)e.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+l)}}function dn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ih(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function W1(e){var t=Ih(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var u=i.get,c=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(m){l=""+m,c.call(this,m)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return l},setValue:function(m){l=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qr(e){e._valueTracker||(e._valueTracker=W1(e))}function $h(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),l="";return e&&(l=Ih(e)?e.checked?"true":"false":e.value),e=l,e!==i?(t.setValue(e),!0):!1}function Dr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var I1=/[\n"\\]/g;function gn(e){return e.replace(I1,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ao(e,t,i,l,u,c,m,A){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+dn(t)):e.value!==""+dn(t)&&(e.value=""+dn(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?wo(e,m,dn(t)):i!=null?wo(e,m,dn(i)):l!=null&&e.removeAttribute("value"),u==null&&c!=null&&(e.defaultChecked=!!c),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?e.name=""+dn(A):e.removeAttribute("name")}function kh(e,t,i,l,u,c,m,A){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||i!=null){if(!(c!=="submit"&&c!=="reset"||t!=null))return;i=i!=null?""+dn(i):"",t=t!=null?""+dn(t):i,A||t===e.value||(e.value=t),e.defaultValue=t}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=A?e.checked:!!l,e.defaultChecked=!!l,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m)}function wo(e,t,i){t==="number"&&Dr(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Wi(e,t,i,l){if(e=e.options,t){t={};for(var u=0;u<i.length;u++)t["$"+i[u]]=!0;for(i=0;i<e.length;i++)u=t.hasOwnProperty("$"+e[i].value),e[i].selected!==u&&(e[i].selected=u),u&&l&&(e[i].defaultSelected=!0)}else{for(i=""+dn(i),t=null,u=0;u<e.length;u++){if(e[u].value===i){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function ed(e,t,i){if(t!=null&&(t=""+dn(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+dn(i):""}function td(e,t,i,l){if(t==null){if(l!=null){if(i!=null)throw Error(r(92));if(ce(l)){if(1<l.length)throw Error(r(93));l=l[0]}i=l}i==null&&(i=""),t=i}i=dn(t),e.defaultValue=i,l=e.textContent,l===i&&l!==""&&l!==null&&(e.value=l)}function Ii(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var $1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nd(e,t,i){var l=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,i):typeof i!="number"||i===0||$1.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function ad(e,t,i){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,i!=null){for(var l in i)!i.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var u in t)l=t[u],t.hasOwnProperty(u)&&i[u]!==l&&nd(e,u,l)}else for(var c in t)t.hasOwnProperty(c)&&nd(e,c,t[c])}function So(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var k1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ev=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Or(e){return ev.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var xo=null;function Eo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $i=null,ki=null;function id(e){var t=Fi(e);if(t&&(e=t.stateNode)){var i=e[Vt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ao(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+gn(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var l=i[t];if(l!==e&&l.form===e.form){var u=l[Vt]||null;if(!u)throw Error(r(90));Ao(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<i.length;t++)l=i[t],l.form===e.form&&$h(l)}break e;case"textarea":ed(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&Wi(e,!!i.multiple,t,!1)}}}var Mo=!1;function ld(e,t,i){if(Mo)return e(t,i);Mo=!0;try{var l=e(t);return l}finally{if(Mo=!1,($i!==null||ki!==null)&&(du(),$i&&(t=$i,e=ki,ki=$i=null,id(t),e)))for(t=0;t<e.length;t++)id(e[t])}}function gs(e,t){var i=e.stateNode;if(i===null)return null;var l=i[Vt]||null;if(l===null)return null;i=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(r(231,t,typeof i));return i}var To=!1;if($n)try{var ps={};Object.defineProperty(ps,"passive",{get:function(){To=!0}}),window.addEventListener("test",ps,ps),window.removeEventListener("test",ps,ps)}catch{To=!1}var Ma=null,Ro=null,Br=null;function sd(){if(Br)return Br;var e,t=Ro,i=t.length,l,u="value"in Ma?Ma.value:Ma.textContent,c=u.length;for(e=0;e<i&&t[e]===u[e];e++);var m=i-e;for(l=1;l<=m&&t[i-l]===u[c-l];l++);return Br=u.slice(e,1<l?1-l:void 0)}function Cr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ur(){return!0}function rd(){return!1}function Qt(e){function t(i,l,u,c,m){this._reactName=i,this._targetInst=u,this.type=l,this.nativeEvent=c,this.target=m,this.currentTarget=null;for(var A in e)e.hasOwnProperty(A)&&(i=e[A],this[A]=i?i(c):c[A]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Ur:rd,this.isPropagationStopped=rd,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Ur)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Ur)},persist:function(){},isPersistent:Ur}),t}var gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zr=Qt(gi),ms=F({},gi,{view:0,detail:0}),tv=Qt(ms),qo,Do,ys,_r=F({},ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ys&&(ys&&e.type==="mousemove"?(qo=e.screenX-ys.screenX,Do=e.screenY-ys.screenY):Do=qo=0,ys=e),qo)},movementY:function(e){return"movementY"in e?e.movementY:Do}}),ud=Qt(_r),nv=F({},_r,{dataTransfer:0}),av=Qt(nv),iv=F({},ms,{relatedTarget:0}),Oo=Qt(iv),lv=F({},gi,{animationName:0,elapsedTime:0,pseudoElement:0}),sv=Qt(lv),rv=F({},gi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uv=Qt(rv),ov=F({},gi,{data:0}),od=Qt(ov),cv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=hv[e])?!!t[e]:!1}function Bo(){return dv}var gv=F({},ms,{key:function(e){if(e.key){var t=cv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Cr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bo,charCode:function(e){return e.type==="keypress"?Cr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Cr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pv=Qt(gv),mv=F({},_r,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cd=Qt(mv),yv=F({},ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bo}),vv=Qt(yv),bv=F({},gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Av=Qt(bv),wv=F({},_r,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Sv=Qt(wv),xv=F({},gi,{newState:0,oldState:0}),Ev=Qt(xv),Mv=[9,13,27,32],Co=$n&&"CompositionEvent"in window,vs=null;$n&&"documentMode"in document&&(vs=document.documentMode);var Tv=$n&&"TextEvent"in window&&!vs,fd=$n&&(!Co||vs&&8<vs&&11>=vs),hd=" ",dd=!1;function gd(e,t){switch(e){case"keyup":return Mv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var el=!1;function Rv(e,t){switch(e){case"compositionend":return pd(t);case"keypress":return t.which!==32?null:(dd=!0,hd);case"textInput":return e=t.data,e===hd&&dd?null:e;default:return null}}function qv(e,t){if(el)return e==="compositionend"||!Co&&gd(e,t)?(e=sd(),Br=Ro=Ma=null,el=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return fd&&t.locale!=="ko"?null:t.data;default:return null}}var Dv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function md(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Dv[e.type]:t==="textarea"}function yd(e,t,i,l){$i?ki?ki.push(l):ki=[l]:$i=l,t=vu(t,"onChange"),0<t.length&&(i=new zr("onChange","change",null,i,l),e.push({event:i,listeners:t}))}var bs=null,As=null;function Ov(e){Vp(e,0)}function Hr(e){var t=ds(e);if($h(t))return e}function vd(e,t){if(e==="change")return t}var bd=!1;if($n){var Uo;if($n){var zo="oninput"in document;if(!zo){var Ad=document.createElement("div");Ad.setAttribute("oninput","return;"),zo=typeof Ad.oninput=="function"}Uo=zo}else Uo=!1;bd=Uo&&(!document.documentMode||9<document.documentMode)}function wd(){bs&&(bs.detachEvent("onpropertychange",Sd),As=bs=null)}function Sd(e){if(e.propertyName==="value"&&Hr(As)){var t=[];yd(t,As,e,Eo(e)),ld(Ov,t)}}function Bv(e,t,i){e==="focusin"?(wd(),bs=t,As=i,bs.attachEvent("onpropertychange",Sd)):e==="focusout"&&wd()}function Cv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hr(As)}function Uv(e,t){if(e==="click")return Hr(t)}function zv(e,t){if(e==="input"||e==="change")return Hr(t)}function _v(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kt=typeof Object.is=="function"?Object.is:_v;function ws(e,t){if(kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),l=Object.keys(t);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var u=i[l];if(!Ce.call(t,u)||!kt(e[u],t[u]))return!1}return!0}function xd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ed(e,t){var i=xd(e);e=0;for(var l;i;){if(i.nodeType===3){if(l=e+i.textContent.length,e<=t&&l>=t)return{node:i,offset:t-e};e=l}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=xd(i)}}function Md(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Md(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Td(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Dr(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Dr(e.document)}return t}function _o(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Hv(e,t){var i=Td(t);t=e.focusedElem;var l=e.selectionRange;if(i!==t&&t&&t.ownerDocument&&Md(t.ownerDocument.documentElement,t)){if(l!==null&&_o(t)){if(e=l.start,i=l.end,i===void 0&&(i=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(i,t.value.length);else if(i=(e=t.ownerDocument||document)&&e.defaultView||window,i.getSelection){i=i.getSelection();var u=t.textContent.length,c=Math.min(l.start,u);l=l.end===void 0?c:Math.min(l.end,u),!i.extend&&c>l&&(u=l,l=c,c=u),u=Ed(t,c);var m=Ed(t,l);u&&m&&(i.rangeCount!==1||i.anchorNode!==u.node||i.anchorOffset!==u.offset||i.focusNode!==m.node||i.focusOffset!==m.offset)&&(e=e.createRange(),e.setStart(u.node,u.offset),i.removeAllRanges(),c>l?(i.addRange(e),i.extend(m.node,m.offset)):(e.setEnd(m.node,m.offset),i.addRange(e)))}}for(e=[],i=t;i=i.parentNode;)i.nodeType===1&&e.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)i=e[t],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Nv=$n&&"documentMode"in document&&11>=document.documentMode,tl=null,Ho=null,Ss=null,No=!1;function Rd(e,t,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;No||tl==null||tl!==Dr(l)||(l=tl,"selectionStart"in l&&_o(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ss&&ws(Ss,l)||(Ss=l,l=vu(Ho,"onSelect"),0<l.length&&(t=new zr("onSelect","select",null,t,i),e.push({event:t,listeners:l}),t.target=tl)))}function pi(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var nl={animationend:pi("Animation","AnimationEnd"),animationiteration:pi("Animation","AnimationIteration"),animationstart:pi("Animation","AnimationStart"),transitionrun:pi("Transition","TransitionRun"),transitionstart:pi("Transition","TransitionStart"),transitioncancel:pi("Transition","TransitionCancel"),transitionend:pi("Transition","TransitionEnd")},Go={},qd={};$n&&(qd=document.createElement("div").style,"AnimationEvent"in window||(delete nl.animationend.animation,delete nl.animationiteration.animation,delete nl.animationstart.animation),"TransitionEvent"in window||delete nl.transitionend.transition);function mi(e){if(Go[e])return Go[e];if(!nl[e])return e;var t=nl[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in qd)return Go[e]=t[i];return e}var Dd=mi("animationend"),Od=mi("animationiteration"),Bd=mi("animationstart"),Gv=mi("transitionrun"),Lv=mi("transitionstart"),Yv=mi("transitioncancel"),Cd=mi("transitionend"),Ud=new Map,zd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Bn(e,t){Ud.set(e,t),di(t,[e])}var pn=[],al=0,Lo=0;function Nr(){for(var e=al,t=Lo=al=0;t<e;){var i=pn[t];pn[t++]=null;var l=pn[t];pn[t++]=null;var u=pn[t];pn[t++]=null;var c=pn[t];if(pn[t++]=null,l!==null&&u!==null){var m=l.pending;m===null?u.next=u:(u.next=m.next,m.next=u),l.pending=u}c!==0&&_d(i,u,c)}}function Gr(e,t,i,l){pn[al++]=e,pn[al++]=t,pn[al++]=i,pn[al++]=l,Lo|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Yo(e,t,i,l){return Gr(e,t,i,l),Lr(e)}function Ta(e,t){return Gr(e,null,null,t),Lr(e)}function _d(e,t,i){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i);for(var u=!1,c=e.return;c!==null;)c.childLanes|=i,l=c.alternate,l!==null&&(l.childLanes|=i),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(u=!0)),e=c,c=c.return;u&&t!==null&&e.tag===3&&(c=e.stateNode,u=31-Ot(i),c=c.hiddenUpdates,e=c[u],e===null?c[u]=[t]:e.push(t),t.lane=i|536870912)}function Lr(e){if(50<Fs)throw Fs=0,Zc=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var il={},Hd=new WeakMap;function mn(e,t){if(typeof e=="object"&&e!==null){var i=Hd.get(e);return i!==void 0?i:(t={value:e,source:t,stack:ne(t)},Hd.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var ll=[],sl=0,Yr=null,jr=0,yn=[],vn=0,yi=null,ea=1,ta="";function vi(e,t){ll[sl++]=jr,ll[sl++]=Yr,Yr=e,jr=t}function Nd(e,t,i){yn[vn++]=ea,yn[vn++]=ta,yn[vn++]=yi,yi=e;var l=ea;e=ta;var u=32-Ot(l)-1;l&=~(1<<u),i+=1;var c=32-Ot(t)+u;if(30<c){var m=u-u%5;c=(l&(1<<m)-1).toString(32),l>>=m,u-=m,ea=1<<32-Ot(t)+u|i<<u|l,ta=c+e}else ea=1<<c|i<<u|l,ta=e}function jo(e){e.return!==null&&(vi(e,1),Nd(e,1,0))}function Xo(e){for(;e===Yr;)Yr=ll[--sl],ll[sl]=null,jr=ll[--sl],ll[sl]=null;for(;e===yi;)yi=yn[--vn],yn[vn]=null,ta=yn[--vn],yn[vn]=null,ea=yn[--vn],yn[vn]=null}var Gt=null,Et=null,ze=!1,Cn=null,jn=!1,Vo=Error(r(519));function bi(e){var t=Error(r(418,""));throw Ms(mn(t,e)),Vo}function Gd(e){var t=e.stateNode,i=e.type,l=e.memoizedProps;switch(t[Bt]=e,t[Vt]=l,i){case"dialog":Be("cancel",t),Be("close",t);break;case"iframe":case"object":case"embed":Be("load",t);break;case"video":case"audio":for(i=0;i<Ps.length;i++)Be(Ps[i],t);break;case"source":Be("error",t);break;case"img":case"image":case"link":Be("error",t),Be("load",t);break;case"details":Be("toggle",t);break;case"input":Be("invalid",t),kh(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),qr(t);break;case"select":Be("invalid",t);break;case"textarea":Be("invalid",t),td(t,l.value,l.defaultValue,l.children),qr(t)}i=l.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||l.suppressHydrationWarning===!0||Fp(t.textContent,i)?(l.popover!=null&&(Be("beforetoggle",t),Be("toggle",t)),l.onScroll!=null&&Be("scroll",t),l.onScrollEnd!=null&&Be("scrollend",t),l.onClick!=null&&(t.onclick=bu),t=!0):t=!1,t||bi(e)}function Ld(e){for(Gt=e.return;Gt;)switch(Gt.tag){case 3:case 27:jn=!0;return;case 5:case 13:jn=!1;return;default:Gt=Gt.return}}function xs(e){if(e!==Gt)return!1;if(!ze)return Ld(e),ze=!0,!1;var t=!1,i;if((i=e.tag!==3&&e.tag!==27)&&((i=e.tag===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||cf(e.type,e.memoizedProps)),i=!i),i&&(t=!0),t&&Et&&bi(e),Ld(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(i=e.data,i==="/$"){if(t===0){Et=zn(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++;e=e.nextSibling}Et=null}}else Et=Gt?zn(e.stateNode.nextSibling):null;return!0}function Es(){Et=Gt=null,ze=!1}function Ms(e){Cn===null?Cn=[e]:Cn.push(e)}var Ts=Error(r(460)),Yd=Error(r(474)),Qo={then:function(){}};function jd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Xr(){}function Xd(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(Xr,Xr),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,e===Ts?Error(r(483)):e;default:if(typeof t.status=="string")t.then(Xr,Xr);else{if(e=Ke,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=l}},function(l){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,e===Ts?Error(r(483)):e}throw Rs=t,Ts}}var Rs=null;function Vd(){if(Rs===null)throw Error(r(459));var e=Rs;return Rs=null,e}var rl=null,qs=0;function Vr(e){var t=qs;return qs+=1,rl===null&&(rl=[]),Xd(rl,e,t)}function Ds(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Qr(e,t){throw t.$$typeof===f?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Qd(e){var t=e._init;return t(e._payload)}function Kd(e){function t(z,B){if(e){var H=z.deletions;H===null?(z.deletions=[B],z.flags|=16):H.push(B)}}function i(z,B){if(!e)return null;for(;B!==null;)t(z,B),B=B.sibling;return null}function l(z){for(var B=new Map;z!==null;)z.key!==null?B.set(z.key,z):B.set(z.index,z),z=z.sibling;return B}function u(z,B){return z=Ga(z,B),z.index=0,z.sibling=null,z}function c(z,B,H){return z.index=H,e?(H=z.alternate,H!==null?(H=H.index,H<B?(z.flags|=33554434,B):H):(z.flags|=33554434,B)):(z.flags|=1048576,B)}function m(z){return e&&z.alternate===null&&(z.flags|=33554434),z}function A(z,B,H,I){return B===null||B.tag!==6?(B=Gc(H,z.mode,I),B.return=z,B):(B=u(B,H),B.return=z,B)}function S(z,B,H,I){var oe=H.type;return oe===g?Z(z,B,H.props.children,I,H.key):B!==null&&(B.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===V&&Qd(oe)===B.type)?(B=u(B,H.props),Ds(B,H),B.return=z,B):(B=uu(H.type,H.key,H.props,null,z.mode,I),Ds(B,H),B.return=z,B)}function C(z,B,H,I){return B===null||B.tag!==4||B.stateNode.containerInfo!==H.containerInfo||B.stateNode.implementation!==H.implementation?(B=Lc(H,z.mode,I),B.return=z,B):(B=u(B,H.children||[]),B.return=z,B)}function Z(z,B,H,I,oe){return B===null||B.tag!==7?(B=Di(H,z.mode,I,oe),B.return=z,B):(B=u(B,H),B.return=z,B)}function k(z,B,H){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Gc(""+B,z.mode,H),B.return=z,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case h:return H=uu(B.type,B.key,B.props,null,z.mode,H),Ds(H,B),H.return=z,H;case v:return B=Lc(B,z.mode,H),B.return=z,B;case V:var I=B._init;return B=I(B._payload),k(z,B,H)}if(ce(B)||O(B))return B=Di(B,z.mode,H,null),B.return=z,B;if(typeof B.then=="function")return k(z,Vr(B),H);if(B.$$typeof===q)return k(z,lu(z,B),H);Qr(z,B)}return null}function L(z,B,H,I){var oe=B!==null?B.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return oe!==null?null:A(z,B,""+H,I);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case h:return H.key===oe?S(z,B,H,I):null;case v:return H.key===oe?C(z,B,H,I):null;case V:return oe=H._init,H=oe(H._payload),L(z,B,H,I)}if(ce(H)||O(H))return oe!==null?null:Z(z,B,H,I,null);if(typeof H.then=="function")return L(z,B,Vr(H),I);if(H.$$typeof===q)return L(z,B,lu(z,H),I);Qr(z,H)}return null}function Q(z,B,H,I,oe){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return z=z.get(H)||null,A(B,z,""+I,oe);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case h:return z=z.get(I.key===null?H:I.key)||null,S(B,z,I,oe);case v:return z=z.get(I.key===null?H:I.key)||null,C(B,z,I,oe);case V:var Re=I._init;return I=Re(I._payload),Q(z,B,H,I,oe)}if(ce(I)||O(I))return z=z.get(H)||null,Z(B,z,I,oe,null);if(typeof I.then=="function")return Q(z,B,H,Vr(I),oe);if(I.$$typeof===q)return Q(z,B,H,lu(B,I),oe);Qr(B,I)}return null}function fe(z,B,H,I){for(var oe=null,Re=null,pe=B,ye=B=0,wt=null;pe!==null&&ye<H.length;ye++){pe.index>ye?(wt=pe,pe=null):wt=pe.sibling;var _e=L(z,pe,H[ye],I);if(_e===null){pe===null&&(pe=wt);break}e&&pe&&_e.alternate===null&&t(z,pe),B=c(_e,B,ye),Re===null?oe=_e:Re.sibling=_e,Re=_e,pe=wt}if(ye===H.length)return i(z,pe),ze&&vi(z,ye),oe;if(pe===null){for(;ye<H.length;ye++)pe=k(z,H[ye],I),pe!==null&&(B=c(pe,B,ye),Re===null?oe=pe:Re.sibling=pe,Re=pe);return ze&&vi(z,ye),oe}for(pe=l(pe);ye<H.length;ye++)wt=Q(pe,z,ye,H[ye],I),wt!==null&&(e&&wt.alternate!==null&&pe.delete(wt.key===null?ye:wt.key),B=c(wt,B,ye),Re===null?oe=wt:Re.sibling=wt,Re=wt);return e&&pe.forEach(function(Ka){return t(z,Ka)}),ze&&vi(z,ye),oe}function xe(z,B,H,I){if(H==null)throw Error(r(151));for(var oe=null,Re=null,pe=B,ye=B=0,wt=null,_e=H.next();pe!==null&&!_e.done;ye++,_e=H.next()){pe.index>ye?(wt=pe,pe=null):wt=pe.sibling;var Ka=L(z,pe,_e.value,I);if(Ka===null){pe===null&&(pe=wt);break}e&&pe&&Ka.alternate===null&&t(z,pe),B=c(Ka,B,ye),Re===null?oe=Ka:Re.sibling=Ka,Re=Ka,pe=wt}if(_e.done)return i(z,pe),ze&&vi(z,ye),oe;if(pe===null){for(;!_e.done;ye++,_e=H.next())_e=k(z,_e.value,I),_e!==null&&(B=c(_e,B,ye),Re===null?oe=_e:Re.sibling=_e,Re=_e);return ze&&vi(z,ye),oe}for(pe=l(pe);!_e.done;ye++,_e=H.next())_e=Q(pe,z,ye,_e.value,I),_e!==null&&(e&&_e.alternate!==null&&pe.delete(_e.key===null?ye:_e.key),B=c(_e,B,ye),Re===null?oe=_e:Re.sibling=_e,Re=_e);return e&&pe.forEach(function(eA){return t(z,eA)}),ze&&vi(z,ye),oe}function at(z,B,H,I){if(typeof H=="object"&&H!==null&&H.type===g&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case h:e:{for(var oe=H.key;B!==null;){if(B.key===oe){if(oe=H.type,oe===g){if(B.tag===7){i(z,B.sibling),I=u(B,H.props.children),I.return=z,z=I;break e}}else if(B.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===V&&Qd(oe)===B.type){i(z,B.sibling),I=u(B,H.props),Ds(I,H),I.return=z,z=I;break e}i(z,B);break}else t(z,B);B=B.sibling}H.type===g?(I=Di(H.props.children,z.mode,I,H.key),I.return=z,z=I):(I=uu(H.type,H.key,H.props,null,z.mode,I),Ds(I,H),I.return=z,z=I)}return m(z);case v:e:{for(oe=H.key;B!==null;){if(B.key===oe)if(B.tag===4&&B.stateNode.containerInfo===H.containerInfo&&B.stateNode.implementation===H.implementation){i(z,B.sibling),I=u(B,H.children||[]),I.return=z,z=I;break e}else{i(z,B);break}else t(z,B);B=B.sibling}I=Lc(H,z.mode,I),I.return=z,z=I}return m(z);case V:return oe=H._init,H=oe(H._payload),at(z,B,H,I)}if(ce(H))return fe(z,B,H,I);if(O(H)){if(oe=O(H),typeof oe!="function")throw Error(r(150));return H=oe.call(H),xe(z,B,H,I)}if(typeof H.then=="function")return at(z,B,Vr(H),I);if(H.$$typeof===q)return at(z,B,lu(z,H),I);Qr(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,B!==null&&B.tag===6?(i(z,B.sibling),I=u(B,H),I.return=z,z=I):(i(z,B),I=Gc(H,z.mode,I),I.return=z,z=I),m(z)):i(z,B)}return function(z,B,H,I){try{qs=0;var oe=at(z,B,H,I);return rl=null,oe}catch(pe){if(pe===Ts)throw pe;var Re=Sn(29,pe,null,z.mode);return Re.lanes=I,Re.return=z,Re}finally{}}}var Ai=Kd(!0),Zd=Kd(!1),ul=Oe(null),Kr=Oe(0);function Fd(e,t){e=ha,Ne(Kr,e),Ne(ul,t),ha=e|t.baseLanes}function Ko(){Ne(Kr,ha),Ne(ul,ul.current)}function Zo(){ha=Kr.current,Fe(ul),Fe(Kr)}var bn=Oe(null),Xn=null;function Ra(e){var t=e.alternate;Ne(mt,mt.current&1),Ne(bn,e),Xn===null&&(t===null||ul.current!==null||t.memoizedState!==null)&&(Xn=e)}function Jd(e){if(e.tag===22){if(Ne(mt,mt.current),Ne(bn,e),Xn===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Xn=e)}}else qa()}function qa(){Ne(mt,mt.current),Ne(bn,bn.current)}function na(e){Fe(bn),Xn===e&&(Xn=null),Fe(mt)}var mt=Oe(0);function Zr(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},Xv=n.unstable_scheduleCallback,Vv=n.unstable_NormalPriority,yt={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fo(){return{controller:new jv,data:new Map,refCount:0}}function Os(e){e.refCount--,e.refCount===0&&Xv(Vv,function(){e.controller.abort()})}var Bs=null,Jo=0,ol=0,cl=null;function Qv(e,t){if(Bs===null){var i=Bs=[];Jo=0,ol=ef(),cl={status:"pending",value:void 0,then:function(l){i.push(l)}}}return Jo++,t.then(Pd,Pd),t}function Pd(){if(--Jo===0&&Bs!==null){cl!==null&&(cl.status="fulfilled");var e=Bs;Bs=null,ol=0,cl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Kv(e,t){var i=[],l={status:"pending",value:null,reason:null,then:function(u){i.push(u)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var u=0;u<i.length;u++)(0,i[u])(t)},function(u){for(l.status="rejected",l.reason=u,u=0;u<i.length;u++)(0,i[u])(void 0)}),l}var Wd=j.S;j.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Qv(e,t),Wd!==null&&Wd(e,t)};var wi=Oe(null);function Po(){var e=wi.current;return e!==null?e:Ke.pooledCache}function Fr(e,t){t===null?Ne(wi,wi.current):Ne(wi,t.pool)}function Id(){var e=Po();return e===null?null:{parent:yt._currentValue,pool:e}}var Da=0,Te=null,Ye=null,ot=null,Jr=!1,fl=!1,Si=!1,Pr=0,Cs=0,hl=null,Zv=0;function ut(){throw Error(r(321))}function Wo(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!kt(e[i],t[i]))return!1;return!0}function Io(e,t,i,l,u,c){return Da=c,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,j.H=e===null||e.memoizedState===null?xi:Oa,Si=!1,c=i(l,u),Si=!1,fl&&(c=kd(t,i,l,u)),$d(e),c}function $d(e){j.H=Vn;var t=Ye!==null&&Ye.next!==null;if(Da=0,ot=Ye=Te=null,Jr=!1,Cs=0,hl=null,t)throw Error(r(300));e===null||bt||(e=e.dependencies,e!==null&&iu(e)&&(bt=!0))}function kd(e,t,i,l){Te=e;var u=0;do{if(fl&&(hl=null),Cs=0,fl=!1,25<=u)throw Error(r(301));if(u+=1,ot=Ye=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}j.H=Ei,c=t(i,l)}while(fl);return c}function Fv(){var e=j.H,t=e.useState()[0];return t=typeof t.then=="function"?Us(t):t,e=e.useState()[0],(Ye!==null?Ye.memoizedState:null)!==e&&(Te.flags|=1024),t}function $o(){var e=Pr!==0;return Pr=0,e}function ko(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function ec(e){if(Jr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Jr=!1}Da=0,ot=Ye=Te=null,fl=!1,Cs=Pr=0,hl=null}function Kt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?Te.memoizedState=ot=e:ot=ot.next=e,ot}function ct(){if(Ye===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=Ye.next;var t=ot===null?Te.memoizedState:ot.next;if(t!==null)ot=t,Ye=e;else{if(e===null)throw Te.alternate===null?Error(r(467)):Error(r(310));Ye=e,e={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},ot===null?Te.memoizedState=ot=e:ot=ot.next=e}return ot}var Wr;Wr=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Us(e){var t=Cs;return Cs+=1,hl===null&&(hl=[]),e=Xd(hl,e,t),t=Te,(ot===null?t.memoizedState:ot.next)===null&&(t=t.alternate,j.H=t===null||t.memoizedState===null?xi:Oa),e}function Ir(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Us(e);if(e.$$typeof===q)return Ct(e)}throw Error(r(438,String(e)))}function tc(e){var t=null,i=Te.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var l=Te.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=Wr(),Te.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),l=0;l<e;l++)i[l]=re;return t.index++,i}function aa(e,t){return typeof t=="function"?t(e):t}function $r(e){var t=ct();return nc(t,Ye,e)}function nc(e,t,i){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var u=e.baseQueue,c=l.pending;if(c!==null){if(u!==null){var m=u.next;u.next=c.next,c.next=m}t.baseQueue=u=c,l.pending=null}if(c=e.baseState,u===null)e.memoizedState=c;else{t=u.next;var A=m=null,S=null,C=t,Z=!1;do{var k=C.lane&-536870913;if(k!==C.lane?(Ue&k)===k:(Da&k)===k){var L=C.revertLane;if(L===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null}),k===ol&&(Z=!0);else if((Da&L)===L){C=C.next,L===ol&&(Z=!0);continue}else k={lane:0,revertLane:C.revertLane,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},S===null?(A=S=k,m=c):S=S.next=k,Te.lanes|=L,La|=L;k=C.action,Si&&i(c,k),c=C.hasEagerState?C.eagerState:i(c,k)}else L={lane:k,revertLane:C.revertLane,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},S===null?(A=S=L,m=c):S=S.next=L,Te.lanes|=k,La|=k;C=C.next}while(C!==null&&C!==t);if(S===null?m=c:S.next=A,!kt(c,e.memoizedState)&&(bt=!0,Z&&(i=cl,i!==null)))throw i;e.memoizedState=c,e.baseState=m,e.baseQueue=S,l.lastRenderedState=c}return u===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function ac(e){var t=ct(),i=t.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=e;var l=i.dispatch,u=i.pending,c=t.memoizedState;if(u!==null){i.pending=null;var m=u=u.next;do c=e(c,m.action),m=m.next;while(m!==u);kt(c,t.memoizedState)||(bt=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),i.lastRenderedState=c}return[c,l]}function eg(e,t,i){var l=Te,u=ct(),c=ze;if(c){if(i===void 0)throw Error(r(407));i=i()}else i=t();var m=!kt((Ye||u).memoizedState,i);if(m&&(u.memoizedState=i,bt=!0),u=u.queue,sc(ag.bind(null,l,u,e),[e]),u.getSnapshot!==t||m||ot!==null&&ot.memoizedState.tag&1){if(l.flags|=2048,dl(9,ng.bind(null,l,u,i,t),{destroy:void 0},null),Ke===null)throw Error(r(349));c||Da&60||tg(l,t,i)}return i}function tg(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Te.updateQueue,t===null?(t=Wr(),Te.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function ng(e,t,i,l){t.value=i,t.getSnapshot=l,ig(t)&&lg(e)}function ag(e,t,i){return i(function(){ig(t)&&lg(e)})}function ig(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!kt(e,i)}catch{return!0}}function lg(e){var t=Ta(e,2);t!==null&&Lt(t,e,2)}function ic(e){var t=Kt();if(typeof e=="function"){var i=e;if(e=i(),Si){Dn(!0);try{i()}finally{Dn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:e},t}function sg(e,t,i,l){return e.baseState=i,nc(e,Ye,typeof l=="function"?l:aa)}function Jv(e,t,i,l,u){if(tu(e))throw Error(r(485));if(e=t.action,e!==null){var c={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){c.listeners.push(m)}};j.T!==null?i(!0):c.isTransition=!1,l(c),i=t.pending,i===null?(c.next=t.pending=c,rg(t,c)):(c.next=i.next,t.pending=i.next=c)}}function rg(e,t){var i=t.action,l=t.payload,u=e.state;if(t.isTransition){var c=j.T,m={};j.T=m;try{var A=i(u,l),S=j.S;S!==null&&S(m,A),ug(e,t,A)}catch(C){lc(e,t,C)}finally{j.T=c}}else try{c=i(u,l),ug(e,t,c)}catch(C){lc(e,t,C)}}function ug(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(l){og(e,t,l)},function(l){return lc(e,t,l)}):og(e,t,i)}function og(e,t,i){t.status="fulfilled",t.value=i,cg(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,rg(e,i)))}function lc(e,t,i){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=i,cg(t),t=t.next;while(t!==l)}e.action=null}function cg(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function fg(e,t){return t}function hg(e,t){if(ze){var i=Ke.formState;if(i!==null){e:{var l=Te;if(ze){if(Et){t:{for(var u=Et,c=jn;u.nodeType!==8;){if(!c){u=null;break t}if(u=zn(u.nextSibling),u===null){u=null;break t}}c=u.data,u=c==="F!"||c==="F"?u:null}if(u){Et=zn(u.nextSibling),l=u.data==="F!";break e}}bi(l)}l=!1}l&&(t=i[0])}}return i=Kt(),i.memoizedState=i.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fg,lastRenderedState:t},i.queue=l,i=Og.bind(null,Te,l),l.dispatch=i,l=ic(!1),c=fc.bind(null,Te,!1,l.queue),l=Kt(),u={state:t,dispatch:null,action:e,pending:null},l.queue=u,i=Jv.bind(null,Te,u,c,i),u.dispatch=i,l.memoizedState=e,[t,i,!1]}function dg(e){var t=ct();return gg(t,Ye,e)}function gg(e,t,i){t=nc(e,t,fg)[0],e=$r(aa)[0],t=typeof t=="object"&&t!==null&&typeof t.then=="function"?Us(t):t;var l=ct(),u=l.queue,c=u.dispatch;return i!==l.memoizedState&&(Te.flags|=2048,dl(9,Pv.bind(null,u,i),{destroy:void 0},null)),[t,c,e]}function Pv(e,t){e.action=t}function pg(e){var t=ct(),i=Ye;if(i!==null)return gg(t,i,e);ct(),t=t.memoizedState,i=ct();var l=i.queue.dispatch;return i.memoizedState=e,[t,l,!1]}function dl(e,t,i,l){return e={tag:e,create:t,inst:i,deps:l,next:null},t=Te.updateQueue,t===null&&(t=Wr(),Te.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(l=i.next,i.next=e,e.next=l,t.lastEffect=e),e}function mg(){return ct().memoizedState}function kr(e,t,i,l){var u=Kt();Te.flags|=e,u.memoizedState=dl(1|t,i,{destroy:void 0},l===void 0?null:l)}function eu(e,t,i,l){var u=ct();l=l===void 0?null:l;var c=u.memoizedState.inst;Ye!==null&&l!==null&&Wo(l,Ye.memoizedState.deps)?u.memoizedState=dl(t,i,c,l):(Te.flags|=e,u.memoizedState=dl(1|t,i,c,l))}function yg(e,t){kr(8390656,8,e,t)}function sc(e,t){eu(2048,8,e,t)}function vg(e,t){return eu(4,2,e,t)}function bg(e,t){return eu(4,4,e,t)}function Ag(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function wg(e,t,i){i=i!=null?i.concat([e]):null,eu(4,4,Ag.bind(null,t,e),i)}function rc(){}function Sg(e,t){var i=ct();t=t===void 0?null:t;var l=i.memoizedState;return t!==null&&Wo(t,l[1])?l[0]:(i.memoizedState=[e,t],e)}function xg(e,t){var i=ct();t=t===void 0?null:t;var l=i.memoizedState;if(t!==null&&Wo(t,l[1]))return l[0];if(l=e(),Si){Dn(!0);try{e()}finally{Dn(!1)}}return i.memoizedState=[l,t],l}function uc(e,t,i){return i===void 0||Da&1073741824?e.memoizedState=t:(e.memoizedState=i,e=Mp(),Te.lanes|=e,La|=e,i)}function Eg(e,t,i,l){return kt(i,t)?i:ul.current!==null?(e=uc(e,i,l),kt(e,t)||(bt=!0),e):Da&42?(e=Mp(),Te.lanes|=e,La|=e,t):(bt=!0,e.memoizedState=i)}function Mg(e,t,i,l,u){var c=se.p;se.p=c!==0&&8>c?c:8;var m=j.T,A={};j.T=A,fc(e,!1,t,i);try{var S=u(),C=j.S;if(C!==null&&C(A,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var Z=Kv(S,l);zs(e,t,Z,an(e))}else zs(e,t,l,an(e))}catch(k){zs(e,t,{then:function(){},status:"rejected",reason:k},an())}finally{se.p=c,j.T=m}}function Wv(){}function oc(e,t,i,l){if(e.tag!==5)throw Error(r(476));var u=Tg(e).queue;Mg(e,u,t,Ee,i===null?Wv:function(){return Rg(e),i(l)})}function Tg(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Ee,baseState:Ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:Ee},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Rg(e){var t=Tg(e).next.queue;zs(e,t,{},an())}function cc(){return Ct(er)}function qg(){return ct().memoizedState}function Dg(){return ct().memoizedState}function Iv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=an();e=Ua(i);var l=za(t,e,i);l!==null&&(Lt(l,t,i),Ns(l,t,i)),t={cache:Fo()},e.payload=t;return}t=t.return}}function $v(e,t,i){var l=an();i={lane:l,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},tu(e)?Bg(t,i):(i=Yo(e,t,i,l),i!==null&&(Lt(i,e,l),Cg(i,t,l)))}function Og(e,t,i){var l=an();zs(e,t,i,l)}function zs(e,t,i,l){var u={lane:l,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(tu(e))Bg(t,u);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var m=t.lastRenderedState,A=c(m,i);if(u.hasEagerState=!0,u.eagerState=A,kt(A,m))return Gr(e,t,u,0),Ke===null&&Nr(),!1}catch{}finally{}if(i=Yo(e,t,u,l),i!==null)return Lt(i,e,l),Cg(i,t,l),!0}return!1}function fc(e,t,i,l){if(l={lane:2,revertLane:ef(),action:l,hasEagerState:!1,eagerState:null,next:null},tu(e)){if(t)throw Error(r(479))}else t=Yo(e,i,l,2),t!==null&&Lt(t,e,2)}function tu(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function Bg(e,t){fl=Jr=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Cg(e,t,i){if(i&4194176){var l=t.lanes;l&=e.pendingLanes,i|=l,t.lanes=i,Ie(e,i)}}var Vn={readContext:Ct,use:Ir,useCallback:ut,useContext:ut,useEffect:ut,useImperativeHandle:ut,useLayoutEffect:ut,useInsertionEffect:ut,useMemo:ut,useReducer:ut,useRef:ut,useState:ut,useDebugValue:ut,useDeferredValue:ut,useTransition:ut,useSyncExternalStore:ut,useId:ut};Vn.useCacheRefresh=ut,Vn.useMemoCache=ut,Vn.useHostTransitionStatus=ut,Vn.useFormState=ut,Vn.useActionState=ut,Vn.useOptimistic=ut;var xi={readContext:Ct,use:Ir,useCallback:function(e,t){return Kt().memoizedState=[e,t===void 0?null:t],e},useContext:Ct,useEffect:yg,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,kr(4194308,4,Ag.bind(null,t,e),i)},useLayoutEffect:function(e,t){return kr(4194308,4,e,t)},useInsertionEffect:function(e,t){kr(4,2,e,t)},useMemo:function(e,t){var i=Kt();t=t===void 0?null:t;var l=e();if(Si){Dn(!0);try{e()}finally{Dn(!1)}}return i.memoizedState=[l,t],l},useReducer:function(e,t,i){var l=Kt();if(i!==void 0){var u=i(t);if(Si){Dn(!0);try{i(t)}finally{Dn(!1)}}}else u=t;return l.memoizedState=l.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},l.queue=e,e=e.dispatch=$v.bind(null,Te,e),[l.memoizedState,e]},useRef:function(e){var t=Kt();return e={current:e},t.memoizedState=e},useState:function(e){e=ic(e);var t=e.queue,i=Og.bind(null,Te,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:rc,useDeferredValue:function(e,t){var i=Kt();return uc(i,e,t)},useTransition:function(){var e=ic(!1);return e=Mg.bind(null,Te,e.queue,!0,!1),Kt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var l=Te,u=Kt();if(ze){if(i===void 0)throw Error(r(407));i=i()}else{if(i=t(),Ke===null)throw Error(r(349));Ue&60||tg(l,t,i)}u.memoizedState=i;var c={value:i,getSnapshot:t};return u.queue=c,yg(ag.bind(null,l,c,e),[e]),l.flags|=2048,dl(9,ng.bind(null,l,c,i,t),{destroy:void 0},null),i},useId:function(){var e=Kt(),t=Ke.identifierPrefix;if(ze){var i=ta,l=ea;i=(l&~(1<<32-Ot(l)-1)).toString(32)+i,t=":"+t+"R"+i,i=Pr++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=Zv++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return Kt().memoizedState=Iv.bind(null,Te)}};xi.useMemoCache=tc,xi.useHostTransitionStatus=cc,xi.useFormState=hg,xi.useActionState=hg,xi.useOptimistic=function(e){var t=Kt();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=fc.bind(null,Te,!0,i),i.dispatch=t,[e,t]};var Oa={readContext:Ct,use:Ir,useCallback:Sg,useContext:Ct,useEffect:sc,useImperativeHandle:wg,useInsertionEffect:vg,useLayoutEffect:bg,useMemo:xg,useReducer:$r,useRef:mg,useState:function(){return $r(aa)},useDebugValue:rc,useDeferredValue:function(e,t){var i=ct();return Eg(i,Ye.memoizedState,e,t)},useTransition:function(){var e=$r(aa)[0],t=ct().memoizedState;return[typeof e=="boolean"?e:Us(e),t]},useSyncExternalStore:eg,useId:qg};Oa.useCacheRefresh=Dg,Oa.useMemoCache=tc,Oa.useHostTransitionStatus=cc,Oa.useFormState=dg,Oa.useActionState=dg,Oa.useOptimistic=function(e,t){var i=ct();return sg(i,Ye,e,t)};var Ei={readContext:Ct,use:Ir,useCallback:Sg,useContext:Ct,useEffect:sc,useImperativeHandle:wg,useInsertionEffect:vg,useLayoutEffect:bg,useMemo:xg,useReducer:ac,useRef:mg,useState:function(){return ac(aa)},useDebugValue:rc,useDeferredValue:function(e,t){var i=ct();return Ye===null?uc(i,e,t):Eg(i,Ye.memoizedState,e,t)},useTransition:function(){var e=ac(aa)[0],t=ct().memoizedState;return[typeof e=="boolean"?e:Us(e),t]},useSyncExternalStore:eg,useId:qg};Ei.useCacheRefresh=Dg,Ei.useMemoCache=tc,Ei.useHostTransitionStatus=cc,Ei.useFormState=pg,Ei.useActionState=pg,Ei.useOptimistic=function(e,t){var i=ct();return Ye!==null?sg(i,Ye,e,t):(i.baseState=e,[e,i.queue.dispatch])};function hc(e,t,i,l){t=e.memoizedState,i=i(l,t),i=i==null?t:F({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var dc={isMounted:function(e){return(e=e._reactInternals)?le(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var l=an(),u=Ua(l);u.payload=t,i!=null&&(u.callback=i),t=za(e,u,l),t!==null&&(Lt(t,e,l),Ns(t,e,l))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var l=an(),u=Ua(l);u.tag=1,u.payload=t,i!=null&&(u.callback=i),t=za(e,u,l),t!==null&&(Lt(t,e,l),Ns(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=an(),l=Ua(i);l.tag=2,t!=null&&(l.callback=t),t=za(e,l,i),t!==null&&(Lt(t,e,i),Ns(t,e,i))}};function Ug(e,t,i,l,u,c,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,c,m):t.prototype&&t.prototype.isPureReactComponent?!ws(i,l)||!ws(u,c):!0}function zg(e,t,i,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,l),t.state!==e&&dc.enqueueReplaceState(t,t.state,null)}function Mi(e,t){var i=t;if("ref"in t){i={};for(var l in t)l!=="ref"&&(i[l]=t[l])}if(e=e.defaultProps){i===t&&(i=F({},i));for(var u in e)i[u]===void 0&&(i[u]=e[u])}return i}var nu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function _g(e){nu(e)}function Hg(e){console.error(e)}function Ng(e){nu(e)}function au(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Gg(e,t,i){try{var l=e.onCaughtError;l(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function gc(e,t,i){return i=Ua(i),i.tag=3,i.payload={element:null},i.callback=function(){au(e,t)},i}function Lg(e){return e=Ua(e),e.tag=3,e}function Yg(e,t,i,l){var u=i.type.getDerivedStateFromError;if(typeof u=="function"){var c=l.value;e.payload=function(){return u(c)},e.callback=function(){Gg(t,i,l)}}var m=i.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){Gg(t,i,l),typeof u!="function"&&(Ya===null?Ya=new Set([this]):Ya.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function kv(e,t,i,l,u){if(i.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=i.alternate,t!==null&&Hs(t,i,u,!0),i=bn.current,i!==null){switch(i.tag){case 13:return Xn===null?Pc():i.alternate===null&&nt===0&&(nt=3),i.flags&=-257,i.flags|=65536,i.lanes=u,l===Qo?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([l]):t.add(l),Ic(e,l,u)),!1;case 22:return i.flags|=65536,l===Qo?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([l]):i.add(l)),Ic(e,l,u)),!1}throw Error(r(435,i.tag))}return Ic(e,l,u),Pc(),!1}if(ze)return t=bn.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=u,l!==Vo&&(e=Error(r(422),{cause:l}),Ms(mn(e,i)))):(l!==Vo&&(t=Error(r(423),{cause:l}),Ms(mn(t,i))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,l=mn(l,i),u=gc(e.stateNode,l,u),Dc(e,u),nt!==4&&(nt=2)),!1;var c=Error(r(520),{cause:l});if(c=mn(c,i),Ks===null?Ks=[c]:Ks.push(c),nt!==4&&(nt=2),t===null)return!0;l=mn(l,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=u&-u,i.lanes|=e,e=gc(i.stateNode,l,e),Dc(i,e),!1;case 1:if(t=i.type,c=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(Ya===null||!Ya.has(c))))return i.flags|=65536,u&=-u,i.lanes|=u,u=Lg(u),Yg(u,e,i,l),Dc(i,u),!1}i=i.return}while(i!==null);return!1}var jg=Error(r(461)),bt=!1;function Mt(e,t,i,l){t.child=e===null?Zd(t,null,i,l):Ai(t,e.child,i,l)}function Xg(e,t,i,l,u){i=i.render;var c=t.ref;if("ref"in l){var m={};for(var A in l)A!=="ref"&&(m[A]=l[A])}else m=l;return Ri(t),l=Io(e,t,i,m,c,u),A=$o(),e!==null&&!bt?(ko(e,t,u),ia(e,t,u)):(ze&&A&&jo(t),t.flags|=1,Mt(e,t,l,u),t.child)}function Vg(e,t,i,l,u){if(e===null){var c=i.type;return typeof c=="function"&&!Nc(c)&&c.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=c,Qg(e,t,c,l,u)):(e=uu(i.type,null,l,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!xc(e,u)){var m=c.memoizedProps;if(i=i.compare,i=i!==null?i:ws,i(m,l)&&e.ref===t.ref)return ia(e,t,u)}return t.flags|=1,e=Ga(c,l),e.ref=t.ref,e.return=t,t.child=e}function Qg(e,t,i,l,u){if(e!==null){var c=e.memoizedProps;if(ws(c,l)&&e.ref===t.ref)if(bt=!1,t.pendingProps=l=c,xc(e,u))e.flags&131072&&(bt=!0);else return t.lanes=e.lanes,ia(e,t,u)}return pc(e,t,i,l,u)}function Kg(e,t,i){var l=t.pendingProps,u=l.children,c=(t.stateNode._pendingVisibility&2)!==0,m=e!==null?e.memoizedState:null;if(_s(e,t),l.mode==="hidden"||c){if(t.flags&128){if(l=m!==null?m.baseLanes|i:i,e!==null){for(u=t.child=e.child,c=0;u!==null;)c=c|u.lanes|u.childLanes,u=u.sibling;t.childLanes=c&~l}else t.childLanes=0,t.child=null;return Zg(e,t,l,i)}if(i&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Fr(t,m!==null?m.cachePool:null),m!==null?Fd(t,m):Ko(),Jd(t);else return t.lanes=t.childLanes=536870912,Zg(e,t,m!==null?m.baseLanes|i:i,i)}else m!==null?(Fr(t,m.cachePool),Fd(t,m),qa(),t.memoizedState=null):(e!==null&&Fr(t,null),Ko(),qa());return Mt(e,t,u,i),t.child}function Zg(e,t,i,l){var u=Po();return u=u===null?null:{parent:yt._currentValue,pool:u},t.memoizedState={baseLanes:i,cachePool:u},e!==null&&Fr(t,null),Ko(),Jd(t),e!==null&&Hs(e,t,l,!0),null}function _s(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=2097664);else{if(typeof i!="function"&&typeof i!="object")throw Error(r(284));(e===null||e.ref!==i)&&(t.flags|=2097664)}}function pc(e,t,i,l,u){return Ri(t),i=Io(e,t,i,l,void 0,u),l=$o(),e!==null&&!bt?(ko(e,t,u),ia(e,t,u)):(ze&&l&&jo(t),t.flags|=1,Mt(e,t,i,u),t.child)}function Fg(e,t,i,l,u,c){return Ri(t),t.updateQueue=null,i=kd(t,l,i,u),$d(e),l=$o(),e!==null&&!bt?(ko(e,t,c),ia(e,t,c)):(ze&&l&&jo(t),t.flags|=1,Mt(e,t,i,c),t.child)}function Jg(e,t,i,l,u){if(Ri(t),t.stateNode===null){var c=il,m=i.contextType;typeof m=="object"&&m!==null&&(c=Ct(m)),c=new i(l,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=dc,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=l,c.state=t.memoizedState,c.refs={},Rc(t),m=i.contextType,c.context=typeof m=="object"&&m!==null?Ct(m):il,c.state=t.memoizedState,m=i.getDerivedStateFromProps,typeof m=="function"&&(hc(t,i,m,l),c.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(m=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),m!==c.state&&dc.enqueueReplaceState(c,c.state,null),Ls(t,l,c,u),Gs(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){c=t.stateNode;var A=t.memoizedProps,S=Mi(i,A);c.props=S;var C=c.context,Z=i.contextType;m=il,typeof Z=="object"&&Z!==null&&(m=Ct(Z));var k=i.getDerivedStateFromProps;Z=typeof k=="function"||typeof c.getSnapshotBeforeUpdate=="function",A=t.pendingProps!==A,Z||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(A||C!==m)&&zg(t,c,l,m),Ca=!1;var L=t.memoizedState;c.state=L,Ls(t,l,c,u),Gs(),C=t.memoizedState,A||L!==C||Ca?(typeof k=="function"&&(hc(t,i,k,l),C=t.memoizedState),(S=Ca||Ug(t,i,S,l,L,C,m))?(Z||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=C),c.props=l,c.state=C,c.context=m,l=S):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{c=t.stateNode,qc(e,t),m=t.memoizedProps,Z=Mi(i,m),c.props=Z,k=t.pendingProps,L=c.context,C=i.contextType,S=il,typeof C=="object"&&C!==null&&(S=Ct(C)),A=i.getDerivedStateFromProps,(C=typeof A=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(m!==k||L!==S)&&zg(t,c,l,S),Ca=!1,L=t.memoizedState,c.state=L,Ls(t,l,c,u),Gs();var Q=t.memoizedState;m!==k||L!==Q||Ca||e!==null&&e.dependencies!==null&&iu(e.dependencies)?(typeof A=="function"&&(hc(t,i,A,l),Q=t.memoizedState),(Z=Ca||Ug(t,i,Z,l,L,Q,S)||e!==null&&e.dependencies!==null&&iu(e.dependencies))?(C||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(l,Q,S),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(l,Q,S)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||m===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=Q),c.props=l,c.state=Q,c.context=S,l=Z):(typeof c.componentDidUpdate!="function"||m===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),l=!1)}return c=l,_s(e,t),l=(t.flags&128)!==0,c||l?(c=t.stateNode,i=l&&typeof i.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&l?(t.child=Ai(t,e.child,null,u),t.child=Ai(t,null,i,u)):Mt(e,t,i,u),t.memoizedState=c.state,e=t.child):e=ia(e,t,u),e}function Pg(e,t,i,l){return Es(),t.flags|=256,Mt(e,t,i,l),t.child}var mc={dehydrated:null,treeContext:null,retryLane:0};function yc(e){return{baseLanes:e,cachePool:Id()}}function vc(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=xn),e}function Wg(e,t,i){var l=t.pendingProps,u=!1,c=(t.flags&128)!==0,m;if((m=c)||(m=e!==null&&e.memoizedState===null?!1:(mt.current&2)!==0),m&&(u=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(ze){if(u?Ra(t):qa(),ze){var A=Et,S;if(S=A){e:{for(S=A,A=jn;S.nodeType!==8;){if(!A){A=null;break e}if(S=zn(S.nextSibling),S===null){A=null;break e}}A=S}A!==null?(t.memoizedState={dehydrated:A,treeContext:yi!==null?{id:ea,overflow:ta}:null,retryLane:536870912},S=Sn(18,null,null,0),S.stateNode=A,S.return=t,t.child=S,Gt=t,Et=null,S=!0):S=!1}S||bi(t)}if(A=t.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return A.data==="$!"?t.lanes=16:t.lanes=536870912,null;na(t)}return A=l.children,l=l.fallback,u?(qa(),u=t.mode,A=Ac({mode:"hidden",children:A},u),l=Di(l,u,i,null),A.return=t,l.return=t,A.sibling=l,t.child=A,u=t.child,u.memoizedState=yc(i),u.childLanes=vc(e,m,i),t.memoizedState=mc,l):(Ra(t),bc(t,A))}if(S=e.memoizedState,S!==null&&(A=S.dehydrated,A!==null)){if(c)t.flags&256?(Ra(t),t.flags&=-257,t=wc(e,t,i)):t.memoizedState!==null?(qa(),t.child=e.child,t.flags|=128,t=null):(qa(),u=l.fallback,A=t.mode,l=Ac({mode:"visible",children:l.children},A),u=Di(u,A,i,null),u.flags|=2,l.return=t,u.return=t,l.sibling=u,t.child=l,Ai(t,e.child,null,i),l=t.child,l.memoizedState=yc(i),l.childLanes=vc(e,m,i),t.memoizedState=mc,t=u);else if(Ra(t),A.data==="$!"){if(m=A.nextSibling&&A.nextSibling.dataset,m)var C=m.dgst;m=C,l=Error(r(419)),l.stack="",l.digest=m,Ms({value:l,source:null,stack:null}),t=wc(e,t,i)}else if(bt||Hs(e,t,i,!1),m=(i&e.childLanes)!==0,bt||m){if(m=Ke,m!==null){if(l=i&-i,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(m.suspendedLanes|i)?0:l,l!==0&&l!==S.retryLane)throw S.retryLane=l,Ta(e,l),Lt(m,e,l),jg}A.data==="$?"||Pc(),t=wc(e,t,i)}else A.data==="$?"?(t.flags|=128,t.child=e.child,t=gb.bind(null,e),A._reactRetry=t,t=null):(e=S.treeContext,Et=zn(A.nextSibling),Gt=t,ze=!0,Cn=null,jn=!1,e!==null&&(yn[vn++]=ea,yn[vn++]=ta,yn[vn++]=yi,ea=e.id,ta=e.overflow,yi=t),t=bc(t,l.children),t.flags|=4096);return t}return u?(qa(),u=l.fallback,A=t.mode,S=e.child,C=S.sibling,l=Ga(S,{mode:"hidden",children:l.children}),l.subtreeFlags=S.subtreeFlags&31457280,C!==null?u=Ga(C,u):(u=Di(u,A,i,null),u.flags|=2),u.return=t,l.return=t,l.sibling=u,t.child=l,l=u,u=t.child,A=e.child.memoizedState,A===null?A=yc(i):(S=A.cachePool,S!==null?(C=yt._currentValue,S=S.parent!==C?{parent:C,pool:C}:S):S=Id(),A={baseLanes:A.baseLanes|i,cachePool:S}),u.memoizedState=A,u.childLanes=vc(e,m,i),t.memoizedState=mc,l):(Ra(t),i=e.child,e=i.sibling,i=Ga(i,{mode:"visible",children:l.children}),i.return=t,i.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=i,t.memoizedState=null,i)}function bc(e,t){return t=Ac({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ac(e,t){return Sp(e,t,0,null)}function wc(e,t,i){return Ai(t,e.child,null,i),e=bc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ig(e,t,i){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Mc(e.return,t,i)}function Sc(e,t,i,l,u){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:u}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=l,c.tail=i,c.tailMode=u)}function $g(e,t,i){var l=t.pendingProps,u=l.revealOrder,c=l.tail;if(Mt(e,t,l.children,i),l=mt.current,l&2)l=l&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ig(e,i,t);else if(e.tag===19)Ig(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(Ne(mt,l),u){case"forwards":for(i=t.child,u=null;i!==null;)e=i.alternate,e!==null&&Zr(e)===null&&(u=i),i=i.sibling;i=u,i===null?(u=t.child,t.child=null):(u=i.sibling,i.sibling=null),Sc(t,!1,u,i,c);break;case"backwards":for(i=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&Zr(e)===null){t.child=u;break}e=u.sibling,u.sibling=i,i=u,u=e}Sc(t,!0,i,null,c);break;case"together":Sc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ia(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),La|=t.lanes,!(i&t.childLanes))if(e!==null){if(Hs(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,i=Ga(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Ga(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function xc(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&iu(e)))}function eb(e,t,i){switch(t.tag){case 3:Ae(t,t.stateNode.containerInfo),Ba(t,yt,e.memoizedState.cache),Es();break;case 27:case 5:Le(t);break;case 4:Ae(t,t.stateNode.containerInfo);break;case 10:Ba(t,t.type,t.memoizedProps.value);break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Ra(t),t.flags|=128,null):i&t.child.childLanes?Wg(e,t,i):(Ra(t),e=ia(e,t,i),e!==null?e.sibling:null);Ra(t);break;case 19:var u=(e.flags&128)!==0;if(l=(i&t.childLanes)!==0,l||(Hs(e,t,i,!1),l=(i&t.childLanes)!==0),u){if(l)return $g(e,t,i);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Ne(mt,mt.current),l)break;return null;case 22:case 23:return t.lanes=0,Kg(e,t,i);case 24:Ba(t,yt,e.memoizedState.cache)}return ia(e,t,i)}function kg(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)bt=!0;else{if(!xc(e,i)&&!(t.flags&128))return bt=!1,eb(e,t,i);bt=!!(e.flags&131072)}else bt=!1,ze&&t.flags&1048576&&Nd(t,jr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var l=t.elementType,u=l._init;if(l=u(l._payload),t.type=l,typeof l=="function")Nc(l)?(e=Mi(l,e),t.tag=1,t=Jg(null,t,l,e,i)):(t.tag=0,t=pc(null,t,l,e,i));else{if(l!=null){if(u=l.$$typeof,u===E){t.tag=11,t=Xg(null,t,l,e,i);break e}else if(u===D){t.tag=14,t=Vg(null,t,l,e,i);break e}}throw t=G(l)||l,Error(r(306,t,""))}}return t;case 0:return pc(e,t,t.type,t.pendingProps,i);case 1:return l=t.type,u=Mi(l,t.pendingProps),Jg(e,t,l,u,i);case 3:e:{if(Ae(t,t.stateNode.containerInfo),e===null)throw Error(r(387));var c=t.pendingProps;u=t.memoizedState,l=u.element,qc(e,t),Ls(t,c,null,i);var m=t.memoizedState;if(c=m.cache,Ba(t,yt,c),c!==u.cache&&Tc(t,[yt],i,!0),Gs(),c=m.element,u.isDehydrated)if(u={element:c,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=Pg(e,t,c,i);break e}else if(c!==l){l=mn(Error(r(424)),t),Ms(l),t=Pg(e,t,c,i);break e}else for(Et=zn(t.stateNode.containerInfo.firstChild),Gt=t,ze=!0,Cn=null,jn=!0,i=Zd(t,null,c,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Es(),c===l){t=ia(e,t,i);break e}Mt(e,t,c,i)}t=t.child}return t;case 26:return _s(e,t),e===null?(i=nm(t.type,null,t.pendingProps,null))?t.memoizedState=i:ze||(i=t.type,e=t.pendingProps,l=Au(qt.current).createElement(i),l[Bt]=t,l[Vt]=e,Tt(l,i,e),vt(l),t.stateNode=l):t.memoizedState=nm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Le(t),e===null&&ze&&(l=t.stateNode=kp(t.type,t.pendingProps,qt.current),Gt=t,jn=!0,Et=zn(l.firstChild)),l=t.pendingProps.children,e!==null||ze?Mt(e,t,l,i):t.child=Ai(t,null,l,i),_s(e,t),t.child;case 5:return e===null&&ze&&((u=l=Et)&&(l=Ob(l,t.type,t.pendingProps,jn),l!==null?(t.stateNode=l,Gt=t,Et=zn(l.firstChild),jn=!1,u=!0):u=!1),u||bi(t)),Le(t),u=t.type,c=t.pendingProps,m=e!==null?e.memoizedProps:null,l=c.children,cf(u,c)?l=null:m!==null&&cf(u,m)&&(t.flags|=32),t.memoizedState!==null&&(u=Io(e,t,Fv,null,null,i),er._currentValue=u),_s(e,t),Mt(e,t,l,i),t.child;case 6:return e===null&&ze&&((e=i=Et)&&(i=Bb(i,t.pendingProps,jn),i!==null?(t.stateNode=i,Gt=t,Et=null,e=!0):e=!1),e||bi(t)),null;case 13:return Wg(e,t,i);case 4:return Ae(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Ai(t,null,l,i):Mt(e,t,l,i),t.child;case 11:return Xg(e,t,t.type,t.pendingProps,i);case 7:return Mt(e,t,t.pendingProps,i),t.child;case 8:return Mt(e,t,t.pendingProps.children,i),t.child;case 12:return Mt(e,t,t.pendingProps.children,i),t.child;case 10:return l=t.pendingProps,Ba(t,t.type,l.value),Mt(e,t,l.children,i),t.child;case 9:return u=t.type._context,l=t.pendingProps.children,Ri(t),u=Ct(u),l=l(u),t.flags|=1,Mt(e,t,l,i),t.child;case 14:return Vg(e,t,t.type,t.pendingProps,i);case 15:return Qg(e,t,t.type,t.pendingProps,i);case 19:return $g(e,t,i);case 22:return Kg(e,t,i);case 24:return Ri(t),l=Ct(yt),e===null?(u=Po(),u===null&&(u=Ke,c=Fo(),u.pooledCache=c,c.refCount++,c!==null&&(u.pooledCacheLanes|=i),u=c),t.memoizedState={parent:l,cache:u},Rc(t),Ba(t,yt,u)):(e.lanes&i&&(qc(e,t),Ls(t,null,null,i),Gs()),u=e.memoizedState,c=t.memoizedState,u.parent!==l?(u={parent:l,cache:l},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),Ba(t,yt,l)):(l=c.cache,Ba(t,yt,l),l!==u.cache&&Tc(t,[yt],i,!0))),Mt(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}var Ec=Oe(null),Ti=null,la=null;function Ba(e,t,i){Ne(Ec,t._currentValue),t._currentValue=i}function sa(e){e._currentValue=Ec.current,Fe(Ec)}function Mc(e,t,i){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===i)break;e=e.return}}function Tc(e,t,i,l){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var c=u.dependencies;if(c!==null){var m=u.child;c=c.firstContext;e:for(;c!==null;){var A=c;c=u;for(var S=0;S<t.length;S++)if(A.context===t[S]){c.lanes|=i,A=c.alternate,A!==null&&(A.lanes|=i),Mc(c.return,i,e),l||(m=null);break e}c=A.next}}else if(u.tag===18){if(m=u.return,m===null)throw Error(r(341));m.lanes|=i,c=m.alternate,c!==null&&(c.lanes|=i),Mc(m,i,e),m=null}else m=u.child;if(m!==null)m.return=u;else for(m=u;m!==null;){if(m===e){m=null;break}if(u=m.sibling,u!==null){u.return=m.return,m=u;break}m=m.return}u=m}}function Hs(e,t,i,l){e=null;for(var u=t,c=!1;u!==null;){if(!c){if(u.flags&524288)c=!0;else if(u.flags&262144)break}if(u.tag===10){var m=u.alternate;if(m===null)throw Error(r(387));if(m=m.memoizedProps,m!==null){var A=u.type;kt(u.pendingProps.value,m.value)||(e!==null?e.push(A):e=[A])}}else if(u===de.current){if(m=u.alternate,m===null)throw Error(r(387));m.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(er):e=[er])}u=u.return}e!==null&&Tc(t,e,i,l),t.flags|=262144}function iu(e){for(e=e.firstContext;e!==null;){if(!kt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ri(e){Ti=e,la=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ct(e){return ep(Ti,e)}function lu(e,t){return Ti===null&&Ri(e),ep(e,t)}function ep(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},la===null){if(e===null)throw Error(r(308));la=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else la=la.next=t;return i}var Ca=!1;function Rc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ua(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function za(e,t,i){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,ke&2){var u=l.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),l.pending=t,t=Lr(e),_d(e,null,i),t}return Gr(e,l,t,i),Lr(e)}function Ns(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194176)!==0)){var l=t.lanes;l&=e.pendingLanes,i|=l,t.lanes=i,Ie(e,i)}}function Dc(e,t){var i=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var u=null,c=null;if(i=i.firstBaseUpdate,i!==null){do{var m={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};c===null?u=c=m:c=c.next=m,i=i.next}while(i!==null);c===null?u=c=t:c=c.next=t}else u=c=t;i={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:c,shared:l.shared,callbacks:l.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var Oc=!1;function Gs(){if(Oc){var e=cl;if(e!==null)throw e}}function Ls(e,t,i,l){Oc=!1;var u=e.updateQueue;Ca=!1;var c=u.firstBaseUpdate,m=u.lastBaseUpdate,A=u.shared.pending;if(A!==null){u.shared.pending=null;var S=A,C=S.next;S.next=null,m===null?c=C:m.next=C,m=S;var Z=e.alternate;Z!==null&&(Z=Z.updateQueue,A=Z.lastBaseUpdate,A!==m&&(A===null?Z.firstBaseUpdate=C:A.next=C,Z.lastBaseUpdate=S))}if(c!==null){var k=u.baseState;m=0,Z=C=S=null,A=c;do{var L=A.lane&-536870913,Q=L!==A.lane;if(Q?(Ue&L)===L:(l&L)===L){L!==0&&L===ol&&(Oc=!0),Z!==null&&(Z=Z.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var fe=e,xe=A;L=t;var at=i;switch(xe.tag){case 1:if(fe=xe.payload,typeof fe=="function"){k=fe.call(at,k,L);break e}k=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=xe.payload,L=typeof fe=="function"?fe.call(at,k,L):fe,L==null)break e;k=F({},k,L);break e;case 2:Ca=!0}}L=A.callback,L!==null&&(e.flags|=64,Q&&(e.flags|=8192),Q=u.callbacks,Q===null?u.callbacks=[L]:Q.push(L))}else Q={lane:L,tag:A.tag,payload:A.payload,callback:A.callback,next:null},Z===null?(C=Z=Q,S=k):Z=Z.next=Q,m|=L;if(A=A.next,A===null){if(A=u.shared.pending,A===null)break;Q=A,A=Q.next,Q.next=null,u.lastBaseUpdate=Q,u.shared.pending=null}}while(!0);Z===null&&(S=k),u.baseState=S,u.firstBaseUpdate=C,u.lastBaseUpdate=Z,c===null&&(u.shared.lanes=0),La|=m,e.lanes=m,e.memoizedState=k}}function tp(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function np(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)tp(i[e],t)}function Ys(e,t){try{var i=t.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var u=l.next;i=u;do{if((i.tag&e)===e){l=void 0;var c=i.create,m=i.inst;l=c(),m.destroy=l}i=i.next}while(i!==u)}}catch(A){Ve(t,t.return,A)}}function _a(e,t,i){try{var l=t.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var c=u.next;l=c;do{if((l.tag&e)===e){var m=l.inst,A=m.destroy;if(A!==void 0){m.destroy=void 0,u=t;var S=i;try{A()}catch(C){Ve(u,S,C)}}}l=l.next}while(l!==c)}}catch(C){Ve(t,t.return,C)}}function ap(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{np(t,i)}catch(l){Ve(e,e.return,l)}}}function ip(e,t,i){i.props=Mi(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(l){Ve(e,t,l)}}function qi(e,t){try{var i=e.ref;if(i!==null){var l=e.stateNode;switch(e.tag){case 26:case 27:case 5:var u=l;break;default:u=l}typeof i=="function"?e.refCleanup=i(u):i.current=u}}catch(c){Ve(e,t,c)}}function en(e,t){var i=e.ref,l=e.refCleanup;if(i!==null)if(typeof l=="function")try{l()}catch(u){Ve(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(u){Ve(e,t,u)}else i.current=null}function lp(e){var t=e.type,i=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&l.focus();break e;case"img":i.src?l.src=i.src:i.srcSet&&(l.srcset=i.srcSet)}}catch(u){Ve(e,e.return,u)}}function sp(e,t,i){try{var l=e.stateNode;Mb(l,e.type,i,t),l[Vt]=t}catch(u){Ve(e,e.return,u)}}function rp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function Bc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||rp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cc(e,t,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=bu));else if(l!==4&&l!==27&&(e=e.child,e!==null))for(Cc(e,t,i),e=e.sibling;e!==null;)Cc(e,t,i),e=e.sibling}function su(e,t,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(l!==4&&l!==27&&(e=e.child,e!==null))for(su(e,t,i),e=e.sibling;e!==null;)su(e,t,i),e=e.sibling}var ra=!1,tt=!1,Uc=!1,up=typeof WeakSet=="function"?WeakSet:Set,At=null,op=!1;function tb(e,t){if(e=e.containerInfo,uf=Tu,e=Td(e),_o(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var u=l.anchorOffset,c=l.focusNode;l=l.focusOffset;try{i.nodeType,c.nodeType}catch{i=null;break e}var m=0,A=-1,S=-1,C=0,Z=0,k=e,L=null;t:for(;;){for(var Q;k!==i||u!==0&&k.nodeType!==3||(A=m+u),k!==c||l!==0&&k.nodeType!==3||(S=m+l),k.nodeType===3&&(m+=k.nodeValue.length),(Q=k.firstChild)!==null;)L=k,k=Q;for(;;){if(k===e)break t;if(L===i&&++C===u&&(A=m),L===c&&++Z===l&&(S=m),(Q=k.nextSibling)!==null)break;k=L,L=k.parentNode}k=Q}i=A===-1||S===-1?null:{start:A,end:S}}else i=null}i=i||{start:0,end:0}}else i=null;for(of={focusedElem:e,selectionRange:i},Tu=!1,At=t;At!==null;)if(t=At,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,At=e;else for(;At!==null;){switch(t=At,c=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&c!==null){e=void 0,i=t,u=c.memoizedProps,c=c.memoizedState,l=i.stateNode;try{var fe=Mi(i.type,u,i.elementType===i.type);e=l.getSnapshotBeforeUpdate(fe,c),l.__reactInternalSnapshotBeforeUpdate=e}catch(xe){Ve(i,i.return,xe)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)df(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":df(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,At=e;break}At=t.return}return fe=op,op=!1,fe}function cp(e,t,i){var l=i.flags;switch(i.tag){case 0:case 11:case 15:oa(e,i),l&4&&Ys(5,i);break;case 1:if(oa(e,i),l&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(A){Ve(i,i.return,A)}else{var u=Mi(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(A){Ve(i,i.return,A)}}l&64&&ap(i),l&512&&qi(i,i.return);break;case 3:if(oa(e,i),l&64&&(l=i.updateQueue,l!==null)){if(e=null,i.child!==null)switch(i.child.tag){case 27:case 5:e=i.child.stateNode;break;case 1:e=i.child.stateNode}try{np(l,e)}catch(A){Ve(i,i.return,A)}}break;case 26:oa(e,i),l&512&&qi(i,i.return);break;case 27:case 5:oa(e,i),t===null&&l&4&&lp(i),l&512&&qi(i,i.return);break;case 12:oa(e,i);break;case 13:oa(e,i),l&4&&dp(e,i);break;case 22:if(u=i.memoizedState!==null||ra,!u){t=t!==null&&t.memoizedState!==null||tt;var c=ra,m=tt;ra=u,(tt=t)&&!m?Ha(e,i,(i.subtreeFlags&8772)!==0):oa(e,i),ra=c,tt=m}l&512&&(i.memoizedProps.mode==="manual"?qi(i,i.return):en(i,i.return));break;default:oa(e,i)}}function fp(e){var t=e.alternate;t!==null&&(e.alternate=null,fp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&bo(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ft=null,tn=!1;function ua(e,t,i){for(i=i.child;i!==null;)hp(e,t,i),i=i.sibling}function hp(e,t,i){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(qn,i)}catch{}switch(i.tag){case 26:tt||en(i,t),ua(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:tt||en(i,t);var l=ft,u=tn;for(ft=i.stateNode,ua(e,t,i),i=i.stateNode,t=i.attributes;t.length;)i.removeAttributeNode(t[0]);bo(i),ft=l,tn=u;break;case 5:tt||en(i,t);case 6:u=ft;var c=tn;if(ft=null,ua(e,t,i),ft=u,tn=c,ft!==null)if(tn)try{e=ft,l=i.stateNode,e.nodeType===8?e.parentNode.removeChild(l):e.removeChild(l)}catch(m){Ve(i,t,m)}else try{ft.removeChild(i.stateNode)}catch(m){Ve(i,t,m)}break;case 18:ft!==null&&(tn?(t=ft,i=i.stateNode,t.nodeType===8?hf(t.parentNode,i):t.nodeType===1&&hf(t,i),ir(t)):hf(ft,i.stateNode));break;case 4:l=ft,u=tn,ft=i.stateNode.containerInfo,tn=!0,ua(e,t,i),ft=l,tn=u;break;case 0:case 11:case 14:case 15:tt||_a(2,i,t),tt||_a(4,i,t),ua(e,t,i);break;case 1:tt||(en(i,t),l=i.stateNode,typeof l.componentWillUnmount=="function"&&ip(i,t,l)),ua(e,t,i);break;case 21:ua(e,t,i);break;case 22:tt||en(i,t),tt=(l=tt)||i.memoizedState!==null,ua(e,t,i),tt=l;break;default:ua(e,t,i)}}function dp(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ir(e)}catch(i){Ve(t,t.return,i)}}function nb(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new up),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new up),t;default:throw Error(r(435,e.tag))}}function zc(e,t){var i=nb(e);t.forEach(function(l){var u=pb.bind(null,e,l);i.has(l)||(i.add(l),l.then(u,u))})}function An(e,t){var i=t.deletions;if(i!==null)for(var l=0;l<i.length;l++){var u=i[l],c=e,m=t,A=m;e:for(;A!==null;){switch(A.tag){case 27:case 5:ft=A.stateNode,tn=!1;break e;case 3:ft=A.stateNode.containerInfo,tn=!0;break e;case 4:ft=A.stateNode.containerInfo,tn=!0;break e}A=A.return}if(ft===null)throw Error(r(160));hp(c,m,u),ft=null,tn=!1,c=u.alternate,c!==null&&(c.return=null),u.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)gp(t,e),t=t.sibling}var Un=null;function gp(e,t){var i=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:An(t,e),wn(e),l&4&&(_a(3,e,e.return),Ys(3,e),_a(5,e,e.return));break;case 1:An(t,e),wn(e),l&512&&(tt||i===null||en(i,i.return)),l&64&&ra&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?l:i.concat(l))));break;case 26:var u=Un;if(An(t,e),wn(e),l&512&&(tt||i===null||en(i,i.return)),l&4){var c=i!==null?i.memoizedState:null;if(l=e.memoizedState,i===null)if(l===null)if(e.stateNode===null){e:{l=e.type,i=e.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":c=u.getElementsByTagName("title")[0],(!c||c[hs]||c[Bt]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=u.createElement(l),u.head.insertBefore(c,u.querySelector("head > title"))),Tt(c,l,i),c[Bt]=e,vt(c),l=c;break e;case"link":var m=lm("link","href",u).get(l+(i.href||""));if(m){for(var A=0;A<m.length;A++)if(c=m[A],c.getAttribute("href")===(i.href==null?null:i.href)&&c.getAttribute("rel")===(i.rel==null?null:i.rel)&&c.getAttribute("title")===(i.title==null?null:i.title)&&c.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){m.splice(A,1);break t}}c=u.createElement(l),Tt(c,l,i),u.head.appendChild(c);break;case"meta":if(m=lm("meta","content",u).get(l+(i.content||""))){for(A=0;A<m.length;A++)if(c=m[A],c.getAttribute("content")===(i.content==null?null:""+i.content)&&c.getAttribute("name")===(i.name==null?null:i.name)&&c.getAttribute("property")===(i.property==null?null:i.property)&&c.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&c.getAttribute("charset")===(i.charSet==null?null:i.charSet)){m.splice(A,1);break t}}c=u.createElement(l),Tt(c,l,i),u.head.appendChild(c);break;default:throw Error(r(468,l))}c[Bt]=e,vt(c),l=c}e.stateNode=l}else sm(u,e.type,e.stateNode);else e.stateNode=im(u,l,e.memoizedProps);else c!==l?(c===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):c.count--,l===null?sm(u,e.type,e.stateNode):im(u,l,e.memoizedProps)):l===null&&e.stateNode!==null&&sp(e,e.memoizedProps,i.memoizedProps)}break;case 27:if(l&4&&e.alternate===null){u=e.stateNode,c=e.memoizedProps;try{for(var S=u.firstChild;S;){var C=S.nextSibling,Z=S.nodeName;S[hs]||Z==="HEAD"||Z==="BODY"||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&S.rel.toLowerCase()==="stylesheet"||u.removeChild(S),S=C}for(var k=e.type,L=u.attributes;L.length;)u.removeAttributeNode(L[0]);Tt(u,k,c),u[Bt]=e,u[Vt]=c}catch(fe){Ve(e,e.return,fe)}}case 5:if(An(t,e),wn(e),l&512&&(tt||i===null||en(i,i.return)),e.flags&32){u=e.stateNode;try{Ii(u,"")}catch(fe){Ve(e,e.return,fe)}}l&4&&e.stateNode!=null&&(u=e.memoizedProps,sp(e,u,i!==null?i.memoizedProps:u)),l&1024&&(Uc=!0);break;case 6:if(An(t,e),wn(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,i=e.stateNode;try{i.nodeValue=l}catch(fe){Ve(e,e.return,fe)}}break;case 3:if(xu=null,u=Un,Un=wu(t.containerInfo),An(t,e),Un=u,wn(e),l&4&&i!==null&&i.memoizedState.isDehydrated)try{ir(t.containerInfo)}catch(fe){Ve(e,e.return,fe)}Uc&&(Uc=!1,pp(e));break;case 4:l=Un,Un=wu(e.stateNode.containerInfo),An(t,e),wn(e),Un=l;break;case 12:An(t,e),wn(e);break;case 13:An(t,e),wn(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Vc=_t()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,zc(e,l)));break;case 22:if(l&512&&(tt||i===null||en(i,i.return)),S=e.memoizedState!==null,C=i!==null&&i.memoizedState!==null,Z=ra,k=tt,ra=Z||S,tt=k||C,An(t,e),tt=k,ra=Z,wn(e),t=e.stateNode,t._current=e,t._visibility&=-3,t._visibility|=t._pendingVisibility&2,l&8192&&(t._visibility=S?t._visibility&-2:t._visibility|1,S&&(t=ra||tt,i===null||C||t||gl(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))e:for(i=null,t=e;;){if(t.tag===5||t.tag===26||t.tag===27){if(i===null){C=i=t;try{if(u=C.stateNode,S)c=u.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none";else{m=C.stateNode,A=C.memoizedProps.style;var Q=A!=null&&A.hasOwnProperty("display")?A.display:null;m.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(fe){Ve(C,C.return,fe)}}}else if(t.tag===6){if(i===null){C=t;try{C.stateNode.nodeValue=S?"":C.memoizedProps}catch(fe){Ve(C,C.return,fe)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(i=l.retryQueue,i!==null&&(l.retryQueue=null,zc(e,i))));break;case 19:An(t,e),wn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,zc(e,l)));break;case 21:break;default:An(t,e),wn(e)}}function wn(e){var t=e.flags;if(t&2){try{if(e.tag!==27){e:{for(var i=e.return;i!==null;){if(rp(i)){var l=i;break e}i=i.return}throw Error(r(160))}switch(l.tag){case 27:var u=l.stateNode,c=Bc(e);su(e,c,u);break;case 5:var m=l.stateNode;l.flags&32&&(Ii(m,""),l.flags&=-33);var A=Bc(e);su(e,A,m);break;case 3:case 4:var S=l.stateNode.containerInfo,C=Bc(e);Cc(e,C,S);break;default:throw Error(r(161))}}}catch(Z){Ve(e,e.return,Z)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function pp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;pp(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function oa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)cp(e,t.alternate,t),t=t.sibling}function gl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:_a(4,t,t.return),gl(t);break;case 1:en(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&ip(t,t.return,i),gl(t);break;case 26:case 27:case 5:en(t,t.return),gl(t);break;case 22:en(t,t.return),t.memoizedState===null&&gl(t);break;default:gl(t)}e=e.sibling}}function Ha(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,u=e,c=t,m=c.flags;switch(c.tag){case 0:case 11:case 15:Ha(u,c,i),Ys(4,c);break;case 1:if(Ha(u,c,i),l=c,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(C){Ve(l,l.return,C)}if(l=c,u=l.updateQueue,u!==null){var A=l.stateNode;try{var S=u.shared.hiddenCallbacks;if(S!==null)for(u.shared.hiddenCallbacks=null,u=0;u<S.length;u++)tp(S[u],A)}catch(C){Ve(l,l.return,C)}}i&&m&64&&ap(c),qi(c,c.return);break;case 26:case 27:case 5:Ha(u,c,i),i&&l===null&&m&4&&lp(c),qi(c,c.return);break;case 12:Ha(u,c,i);break;case 13:Ha(u,c,i),i&&m&4&&dp(u,c);break;case 22:c.memoizedState===null&&Ha(u,c,i),qi(c,c.return);break;default:Ha(u,c,i)}t=t.sibling}}function _c(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Os(i))}function Hc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Os(e))}function Na(e,t,i,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)mp(e,t,i,l),t=t.sibling}function mp(e,t,i,l){var u=t.flags;switch(t.tag){case 0:case 11:case 15:Na(e,t,i,l),u&2048&&Ys(9,t);break;case 3:Na(e,t,i,l),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Os(e)));break;case 12:if(u&2048){Na(e,t,i,l),e=t.stateNode;try{var c=t.memoizedProps,m=c.id,A=c.onPostCommit;typeof A=="function"&&A(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){Ve(t,t.return,S)}}else Na(e,t,i,l);break;case 23:break;case 22:c=t.stateNode,t.memoizedState!==null?c._visibility&4?Na(e,t,i,l):js(e,t):c._visibility&4?Na(e,t,i,l):(c._visibility|=4,pl(e,t,i,l,(t.subtreeFlags&10256)!==0)),u&2048&&_c(t.alternate,t);break;case 24:Na(e,t,i,l),u&2048&&Hc(t.alternate,t);break;default:Na(e,t,i,l)}}function pl(e,t,i,l,u){for(u=u&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var c=e,m=t,A=i,S=l,C=m.flags;switch(m.tag){case 0:case 11:case 15:pl(c,m,A,S,u),Ys(8,m);break;case 23:break;case 22:var Z=m.stateNode;m.memoizedState!==null?Z._visibility&4?pl(c,m,A,S,u):js(c,m):(Z._visibility|=4,pl(c,m,A,S,u)),u&&C&2048&&_c(m.alternate,m);break;case 24:pl(c,m,A,S,u),u&&C&2048&&Hc(m.alternate,m);break;default:pl(c,m,A,S,u)}t=t.sibling}}function js(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,l=t,u=l.flags;switch(l.tag){case 22:js(i,l),u&2048&&_c(l.alternate,l);break;case 24:js(i,l),u&2048&&Hc(l.alternate,l);break;default:js(i,l)}t=t.sibling}}var Xs=8192;function ml(e){if(e.subtreeFlags&Xs)for(e=e.child;e!==null;)yp(e),e=e.sibling}function yp(e){switch(e.tag){case 26:ml(e),e.flags&Xs&&e.memoizedState!==null&&Qb(Un,e.memoizedState,e.memoizedProps);break;case 5:ml(e);break;case 3:case 4:var t=Un;Un=wu(e.stateNode.containerInfo),ml(e),Un=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Xs,Xs=16777216,ml(e),Xs=t):ml(e));break;default:ml(e)}}function vp(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Vs(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var i=0;i<t.length;i++){var l=t[i];At=l,Ap(l,e)}vp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)bp(e),e=e.sibling}function bp(e){switch(e.tag){case 0:case 11:case 15:Vs(e),e.flags&2048&&_a(9,e,e.return);break;case 3:Vs(e);break;case 12:Vs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&4&&(e.return===null||e.return.tag!==13)?(t._visibility&=-5,ru(e)):Vs(e);break;default:Vs(e)}}function ru(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var i=0;i<t.length;i++){var l=t[i];At=l,Ap(l,e)}vp(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:_a(8,t,t.return),ru(t);break;case 22:i=t.stateNode,i._visibility&4&&(i._visibility&=-5,ru(t));break;default:ru(t)}e=e.sibling}}function Ap(e,t){for(;At!==null;){var i=At;switch(i.tag){case 0:case 11:case 15:_a(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var l=i.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Os(i.memoizedState.cache)}if(l=i.child,l!==null)l.return=i,At=l;else e:for(i=e;At!==null;){l=At;var u=l.sibling,c=l.return;if(fp(l),l===i){At=null;break e}if(u!==null){u.return=c,At=u;break e}At=c}}}function ab(e,t,i,l){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(e,t,i,l){return new ab(e,t,i,l)}function Nc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ga(e,t){var i=e.alternate;return i===null?(i=Sn(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&31457280,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function wp(e,t){e.flags&=31457282;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function uu(e,t,i,l,u,c){var m=0;if(l=e,typeof e=="function")Nc(e)&&(m=1);else if(typeof e=="string")m=Xb(e,i,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case g:return Di(i.children,u,c,t);case p:m=8,u|=24;break;case w:return e=Sn(12,i,t,u|2),e.elementType=w,e.lanes=c,e;case N:return e=Sn(13,i,t,u),e.elementType=N,e.lanes=c,e;case x:return e=Sn(19,i,t,u),e.elementType=x,e.lanes=c,e;case $:return Sp(i,u,c,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case R:case q:m=10;break e;case y:m=9;break e;case E:m=11;break e;case D:m=14;break e;case V:m=16,l=null;break e}m=29,i=Error(r(130,e===null?"null":typeof e,"")),l=null}return t=Sn(m,i,t,u),t.elementType=e,t.type=l,t.lanes=c,t}function Di(e,t,i,l){return e=Sn(7,e,l,t),e.lanes=i,e}function Sp(e,t,i,l){e=Sn(22,e,l,t),e.elementType=$,e.lanes=i;var u={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var c=u._current;if(c===null)throw Error(r(456));if(!(u._pendingVisibility&2)){var m=Ta(c,2);m!==null&&(u._pendingVisibility|=2,Lt(m,c,2))}},attach:function(){var c=u._current;if(c===null)throw Error(r(456));if(u._pendingVisibility&2){var m=Ta(c,2);m!==null&&(u._pendingVisibility&=-3,Lt(m,c,2))}}};return e.stateNode=u,e}function Gc(e,t,i){return e=Sn(6,e,null,t),e.lanes=i,e}function Lc(e,t,i){return t=Sn(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ca(e){e.flags|=4}function xp(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!rm(t)){if(t=bn.current,t!==null&&((Ue&4194176)===Ue?Xn!==null:(Ue&62914560)!==Ue&&!(Ue&536870912)||t!==Xn))throw Rs=Qo,Yd;e.flags|=8192}}function ou(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?J():536870912,e.lanes|=t,vl|=t)}function Qs(e,t){if(!ze)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function $e(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,l=0;if(t)for(var u=e.child;u!==null;)i|=u.lanes|u.childLanes,l|=u.subtreeFlags&31457280,l|=u.flags&31457280,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)i|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=i,t}function ib(e,t,i){var l=t.pendingProps;switch(Xo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(t),null;case 1:return $e(t),null;case 3:return i=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),sa(yt),Se(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(xs(t)?ca(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Cn!==null&&(Fc(Cn),Cn=null))),$e(t),null;case 26:return i=t.memoizedState,e===null?(ca(t),i!==null?($e(t),xp(t,i)):($e(t),t.flags&=-16777217)):i?i!==e.memoizedState?(ca(t),$e(t),xp(t,i)):($e(t),t.flags&=-16777217):(e.memoizedProps!==l&&ca(t),$e(t),t.flags&=-16777217),null;case 27:Je(t),i=qt.current;var u=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==l&&ca(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return $e(t),null}e=rt.current,xs(t)?Gd(t):(e=kp(u,l,i),t.stateNode=e,ca(t))}return $e(t),null;case 5:if(Je(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&ca(t);else{if(!l){if(t.stateNode===null)throw Error(r(166));return $e(t),null}if(e=rt.current,xs(t))Gd(t);else{switch(u=Au(qt.current),e){case 1:e=u.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:e=u.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":e=u.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":e=u.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?u.createElement("select",{is:l.is}):u.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?u.createElement(i,{is:l.is}):u.createElement(i)}}e[Bt]=t,e[Vt]=l;e:for(u=t.child;u!==null;){if(u.tag===5||u.tag===6)e.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}t.stateNode=e;e:switch(Tt(e,i,l),i){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&ca(t)}}return $e(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&ca(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(r(166));if(e=qt.current,xs(t)){if(e=t.stateNode,i=t.memoizedProps,l=null,u=Gt,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}e[Bt]=t,e=!!(e.nodeValue===i||l!==null&&l.suppressHydrationWarning===!0||Fp(e.nodeValue,i)),e||bi(t)}else e=Au(e).createTextNode(l),e[Bt]=t,t.stateNode=e}return $e(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=xs(t),l!==null&&l.dehydrated!==null){if(e===null){if(!u)throw Error(r(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));u[Bt]=t}else Es(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;$e(t),u=!1}else Cn!==null&&(Fc(Cn),Cn=null),u=!0;if(!u)return t.flags&256?(na(t),t):(na(t),null)}if(na(t),t.flags&128)return t.lanes=i,t;if(i=l!==null,e=e!==null&&e.memoizedState!==null,i){l=t.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool);var c=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(c=l.memoizedState.cachePool.pool),c!==u&&(l.flags|=2048)}return i!==e&&i&&(t.child.flags|=8192),ou(t,t.updateQueue),$e(t),null;case 4:return Se(),e===null&&lf(t.stateNode.containerInfo),$e(t),null;case 10:return sa(t.type),$e(t),null;case 19:if(Fe(mt),u=t.memoizedState,u===null)return $e(t),null;if(l=(t.flags&128)!==0,c=u.rendering,c===null)if(l)Qs(u,!1);else{if(nt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(c=Zr(e),c!==null){for(t.flags|=128,Qs(u,!1),e=c.updateQueue,t.updateQueue=e,ou(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)wp(i,e),i=i.sibling;return Ne(mt,mt.current&1|2),t.child}e=e.sibling}u.tail!==null&&_t()>cu&&(t.flags|=128,l=!0,Qs(u,!1),t.lanes=4194304)}else{if(!l)if(e=Zr(c),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,ou(t,e),Qs(u,!0),u.tail===null&&u.tailMode==="hidden"&&!c.alternate&&!ze)return $e(t),null}else 2*_t()-u.renderingStartTime>cu&&i!==536870912&&(t.flags|=128,l=!0,Qs(u,!1),t.lanes=4194304);u.isBackwards?(c.sibling=t.child,t.child=c):(e=u.last,e!==null?e.sibling=c:t.child=c,u.last=c)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=_t(),t.sibling=null,e=mt.current,Ne(mt,l?e&1|2:e&1),t):($e(t),null);case 22:case 23:return na(t),Zo(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?i&536870912&&!(t.flags&128)&&($e(t),t.subtreeFlags&6&&(t.flags|=8192)):$e(t),i=t.updateQueue,i!==null&&ou(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==i&&(t.flags|=2048),e!==null&&Fe(wi),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),sa(yt),$e(t),null;case 25:return null}throw Error(r(156,t.tag))}function lb(e,t){switch(Xo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return sa(yt),Se(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Je(t),null;case 13:if(na(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));Es()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Fe(mt),null;case 4:return Se(),null;case 10:return sa(t.type),null;case 22:case 23:return na(t),Zo(),e!==null&&Fe(wi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return sa(yt),null;case 25:return null;default:return null}}function Ep(e,t){switch(Xo(t),t.tag){case 3:sa(yt),Se();break;case 26:case 27:case 5:Je(t);break;case 4:Se();break;case 13:na(t);break;case 19:Fe(mt);break;case 10:sa(t.type);break;case 22:case 23:na(t),Zo(),e!==null&&Fe(wi);break;case 24:sa(yt)}}var sb={getCacheForType:function(e){var t=Ct(yt),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i}},rb=typeof WeakMap=="function"?WeakMap:Map,ke=0,Ke=null,qe=null,Ue=0,Ze=0,nn=null,fa=!1,yl=!1,Yc=!1,ha=0,nt=0,La=0,Oi=0,jc=0,xn=0,vl=0,Ks=null,Qn=null,Xc=!1,Vc=0,cu=1/0,fu=null,Ya=null,hu=!1,Bi=null,Zs=0,Qc=0,Kc=null,Fs=0,Zc=null;function an(){if(ke&2&&Ue!==0)return Ue&-Ue;if(j.T!==null){var e=ol;return e!==0?e:ef()}return $t()}function Mp(){xn===0&&(xn=!(Ue&536870912)||ze?X():536870912);var e=bn.current;return e!==null&&(e.flags|=32),xn}function Lt(e,t,i){(e===Ke&&Ze===2||e.cancelPendingCommit!==null)&&(bl(e,0),da(e,Ue,xn,!1)),be(e,i),(!(ke&2)||e!==Ke)&&(e===Ke&&(!(ke&2)&&(Oi|=i),nt===4&&da(e,Ue,xn,!1)),Kn(e))}function Tp(e,t,i){if(ke&6)throw Error(r(327));var l=!i&&(t&60)===0&&(t&e.expiredLanes)===0||xa(e,t),u=l?cb(e,t):Wc(e,t,!0),c=l;do{if(u===0){yl&&!l&&da(e,t,0,!1);break}else if(u===6)da(e,t,0,!fa);else{if(i=e.current.alternate,c&&!ub(i)){u=Wc(e,t,!1),c=!1;continue}if(u===2){if(c=t,e.errorRecoveryDisabledLanes&c)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var A=e;u=Ks;var S=A.current.memoizedState.isDehydrated;if(S&&(bl(A,m).flags|=256),m=Wc(A,m,!1),m!==2){if(Yc&&!S){A.errorRecoveryDisabledLanes|=c,Oi|=c,u=4;break e}c=Qn,Qn=u,c!==null&&Fc(c)}u=m}if(c=!1,u!==2)continue}}if(u===1){bl(e,0),da(e,t,0,!0);break}e:{switch(l=e,u){case 0:case 1:throw Error(r(345));case 4:if((t&4194176)===t){da(l,t,xn,!fa);break e}break;case 2:Qn=null;break;case 3:case 5:break;default:throw Error(r(329))}if(l.finishedWork=i,l.finishedLanes=t,(t&62914560)===t&&(c=Vc+300-_t(),10<c)){if(da(l,t,xn,!fa),fi(l,0)!==0)break e;l.timeoutHandle=Wp(Rp.bind(null,l,i,Qn,fu,Xc,t,xn,Oi,vl,fa,2,-0,0),c);break e}Rp(l,i,Qn,fu,Xc,t,xn,Oi,vl,fa,0,-0,0)}}break}while(!0);Kn(e)}function Fc(e){Qn===null?Qn=e:Qn.push.apply(Qn,e)}function Rp(e,t,i,l,u,c,m,A,S,C,Z,k,L){var Q=t.subtreeFlags;if((Q&8192||(Q&16785408)===16785408)&&(ks={stylesheets:null,count:0,unsuspend:Vb},yp(t),t=Kb(),t!==null)){e.cancelPendingCommit=t(zp.bind(null,e,i,l,u,m,A,S,1,k,L)),da(e,c,m,!C);return}zp(e,i,l,u,m,A,S,Z,k,L)}function ub(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var l=0;l<i.length;l++){var u=i[l],c=u.getSnapshot;u=u.value;try{if(!kt(c(),u))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function da(e,t,i,l){t&=~jc,t&=~Oi,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var u=t;0<u;){var c=31-Ot(u),m=1<<c;l[c]=-1,u&=~m}i!==0&&pt(e,i,t)}function du(){return ke&6?!0:(Js(0),!1)}function Jc(){if(qe!==null){if(Ze===0)var e=qe.return;else e=qe,la=Ti=null,ec(e),rl=null,qs=0,e=qe;for(;e!==null;)Ep(e.alternate,e),e=e.return;qe=null}}function bl(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,Rb(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Jc(),Ke=e,qe=i=Ga(e.current,null),Ue=t,Ze=0,nn=null,fa=!1,yl=xa(e,t),Yc=!1,vl=xn=jc=Oi=La=nt=0,Qn=Ks=null,Xc=!1,t&8&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var u=31-Ot(l),c=1<<u;t|=e[u],l&=~c}return ha=t,Nr(),i}function qp(e,t){Te=null,j.H=Vn,t===Ts?(t=Vd(),Ze=3):t===Yd?(t=Vd(),Ze=4):Ze=t===jg?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,nn=t,qe===null&&(nt=1,au(e,mn(t,e.current)))}function Dp(){var e=j.H;return j.H=Vn,e===null?Vn:e}function Op(){var e=j.A;return j.A=sb,e}function Pc(){nt=4,fa||(Ue&4194176)!==Ue&&bn.current!==null||(yl=!0),!(La&134217727)&&!(Oi&134217727)||Ke===null||da(Ke,Ue,xn,!1)}function Wc(e,t,i){var l=ke;ke|=2;var u=Dp(),c=Op();(Ke!==e||Ue!==t)&&(fu=null,bl(e,t)),t=!1;var m=nt;e:do try{if(Ze!==0&&qe!==null){var A=qe,S=nn;switch(Ze){case 8:Jc(),m=6;break e;case 3:case 2:case 6:bn.current===null&&(t=!0);var C=Ze;if(Ze=0,nn=null,Al(e,A,S,C),i&&yl){m=0;break e}break;default:C=Ze,Ze=0,nn=null,Al(e,A,S,C)}}ob(),m=nt;break}catch(Z){qp(e,Z)}while(!0);return t&&e.shellSuspendCounter++,la=Ti=null,ke=l,j.H=u,j.A=c,qe===null&&(Ke=null,Ue=0,Nr()),m}function ob(){for(;qe!==null;)Bp(qe)}function cb(e,t){var i=ke;ke|=2;var l=Dp(),u=Op();Ke!==e||Ue!==t?(fu=null,cu=_t()+500,bl(e,t)):yl=xa(e,t);e:do try{if(Ze!==0&&qe!==null){t=qe;var c=nn;t:switch(Ze){case 1:Ze=0,nn=null,Al(e,t,c,1);break;case 2:if(jd(c)){Ze=0,nn=null,Cp(t);break}t=function(){Ze===2&&Ke===e&&(Ze=7),Kn(e)},c.then(t,t);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:jd(c)?(Ze=0,nn=null,Cp(t)):(Ze=0,nn=null,Al(e,t,c,7));break;case 5:var m=null;switch(qe.tag){case 26:m=qe.memoizedState;case 5:case 27:var A=qe;if(!m||rm(m)){Ze=0,nn=null;var S=A.sibling;if(S!==null)qe=S;else{var C=A.return;C!==null?(qe=C,gu(C)):qe=null}break t}}Ze=0,nn=null,Al(e,t,c,5);break;case 6:Ze=0,nn=null,Al(e,t,c,6);break;case 8:Jc(),nt=6;break e;default:throw Error(r(462))}}fb();break}catch(Z){qp(e,Z)}while(!0);return la=Ti=null,j.H=l,j.A=u,ke=i,qe!==null?0:(Ke=null,Ue=0,Nr(),nt)}function fb(){for(;qe!==null&&!us();)Bp(qe)}function Bp(e){var t=kg(e.alternate,e,ha);e.memoizedProps=e.pendingProps,t===null?gu(e):qe=t}function Cp(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=Fg(i,t,t.pendingProps,t.type,void 0,Ue);break;case 11:t=Fg(i,t,t.pendingProps,t.type.render,t.ref,Ue);break;case 5:ec(t);default:Ep(i,t),t=qe=wp(t,ha),t=kg(i,t,ha)}e.memoizedProps=e.pendingProps,t===null?gu(e):qe=t}function Al(e,t,i,l){la=Ti=null,ec(t),rl=null,qs=0;var u=t.return;try{if(kv(e,u,t,i,Ue)){nt=1,au(e,mn(i,e.current)),qe=null;return}}catch(c){if(u!==null)throw qe=u,c;nt=1,au(e,mn(i,e.current)),qe=null;return}t.flags&32768?(ze||l===1?e=!0:yl||Ue&536870912?e=!1:(fa=e=!0,(l===2||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Up(t,e)):gu(t)}function gu(e){var t=e;do{if(t.flags&32768){Up(t,fa);return}e=t.return;var i=ib(t.alternate,t,ha);if(i!==null){qe=i;return}if(t=t.sibling,t!==null){qe=t;return}qe=t=e}while(t!==null);nt===0&&(nt=5)}function Up(e,t){do{var i=lb(e.alternate,e);if(i!==null){i.flags&=32767,qe=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){qe=e;return}qe=e=i}while(e!==null);nt=6,qe=null}function zp(e,t,i,l,u,c,m,A,S,C){var Z=j.T,k=se.p;try{se.p=2,j.T=null,hb(e,t,i,l,k,u,c,m,A,S,C)}finally{j.T=Z,se.p=k}}function hb(e,t,i,l,u,c,m,A){do wl();while(Bi!==null);if(ke&6)throw Error(r(327));var S=e.finishedWork;if(l=e.finishedLanes,S===null)return null;if(e.finishedWork=null,e.finishedLanes=0,S===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var C=S.lanes|S.childLanes;if(C|=Lo,Qe(e,l,C,c,m,A),e===Ke&&(qe=Ke=null,Ue=0),!(S.subtreeFlags&10256)&&!(S.flags&10256)||hu||(hu=!0,Qc=C,Kc=i,mb(Xt,function(){return wl(),null})),i=(S.flags&15990)!==0,S.subtreeFlags&15990||i?(i=j.T,j.T=null,c=se.p,se.p=2,m=ke,ke|=4,tb(e,S),gp(S,e),Hv(of,e.containerInfo),Tu=!!uf,of=uf=null,e.current=S,cp(e,S.alternate,S),os(),ke=m,se.p=c,j.T=i):e.current=S,hu?(hu=!1,Bi=e,Zs=l):_p(e,C),C=e.pendingLanes,C===0&&(Ya=null),cs(S.stateNode),Kn(e),t!==null)for(u=e.onRecoverableError,S=0;S<t.length;S++)C=t[S],u(C.value,{componentStack:C.stack});return Zs&3&&wl(),C=e.pendingLanes,l&4194218&&C&42?e===Zc?Fs++:(Fs=0,Zc=e):Fs=0,Js(0),null}function _p(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Os(t)))}function wl(){if(Bi!==null){var e=Bi,t=Qc;Qc=0;var i=hn(Zs),l=j.T,u=se.p;try{if(se.p=32>i?32:i,j.T=null,Bi===null)var c=!1;else{i=Kc,Kc=null;var m=Bi,A=Zs;if(Bi=null,Zs=0,ke&6)throw Error(r(331));var S=ke;if(ke|=4,bp(m.current),mp(m,m.current,A,i),ke=S,Js(0,!1),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(qn,m)}catch{}c=!0}return c}finally{se.p=u,j.T=l,_p(e,t)}}return!1}function Hp(e,t,i){t=mn(i,t),t=gc(e.stateNode,t,2),e=za(e,t,2),e!==null&&(be(e,2),Kn(e))}function Ve(e,t,i){if(e.tag===3)Hp(e,e,i);else for(;t!==null;){if(t.tag===3){Hp(t,e,i);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ya===null||!Ya.has(l))){e=mn(i,e),i=Lg(2),l=za(t,i,2),l!==null&&(Yg(i,l,t,e),be(l,2),Kn(l));break}}t=t.return}}function Ic(e,t,i){var l=e.pingCache;if(l===null){l=e.pingCache=new rb;var u=new Set;l.set(t,u)}else u=l.get(t),u===void 0&&(u=new Set,l.set(t,u));u.has(i)||(Yc=!0,u.add(i),e=db.bind(null,e,t,i),t.then(e,e))}function db(e,t,i){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Ke===e&&(Ue&i)===i&&(nt===4||nt===3&&(Ue&62914560)===Ue&&300>_t()-Vc?!(ke&2)&&bl(e,0):jc|=i,vl===Ue&&(vl=0)),Kn(e)}function Np(e,t){t===0&&(t=J()),e=Ta(e,t),e!==null&&(be(e,t),Kn(e))}function gb(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Np(e,i)}function pb(e,t){var i=0;switch(e.tag){case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(i=u.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(t),Np(e,i)}function mb(e,t){return gt(e,t)}var pu=null,Sl=null,$c=!1,mu=!1,kc=!1,Ci=0;function Kn(e){e!==Sl&&e.next===null&&(Sl===null?pu=Sl=e:Sl=Sl.next=e),mu=!0,$c||($c=!0,vb(yb))}function Js(e,t){if(!kc&&mu){kc=!0;do for(var i=!1,l=pu;l!==null;){if(e!==0){var u=l.pendingLanes;if(u===0)var c=0;else{var m=l.suspendedLanes,A=l.pingedLanes;c=(1<<31-Ot(42|e)+1)-1,c&=u&~(m&~A),c=c&201326677?c&201326677|1:c?c|2:0}c!==0&&(i=!0,Yp(l,c))}else c=Ue,c=fi(l,l===Ke?c:0),!(c&3)||xa(l,c)||(i=!0,Yp(l,c));l=l.next}while(i);kc=!1}}function yb(){mu=$c=!1;var e=0;Ci!==0&&(Tb()&&(e=Ci),Ci=0);for(var t=_t(),i=null,l=pu;l!==null;){var u=l.next,c=Gp(l,t);c===0?(l.next=null,i===null?pu=u:i.next=u,u===null&&(Sl=i)):(i=l,(e!==0||c&3)&&(mu=!0)),l=u}Js(e)}function Gp(e,t){for(var i=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var m=31-Ot(c),A=1<<m,S=u[m];S===-1?(!(A&i)||A&l)&&(u[m]=T(A,t)):S<=t&&(e.expiredLanes|=A),c&=~A}if(t=Ke,i=Ue,i=fi(e,e===t?i:0),l=e.callbackNode,i===0||e===t&&Ze===2||e.cancelPendingCommit!==null)return l!==null&&l!==null&&fn(l),e.callbackNode=null,e.callbackPriority=0;if(!(i&3)||xa(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(l!==null&&fn(l),hn(i)){case 2:case 8:i=jt;break;case 32:i=Xt;break;case 268435456:i=Ht;break;default:i=Xt}return l=Lp.bind(null,e),i=gt(i,l),e.callbackPriority=t,e.callbackNode=i,t}return l!==null&&l!==null&&fn(l),e.callbackPriority=2,e.callbackNode=null,2}function Lp(e,t){var i=e.callbackNode;if(wl()&&e.callbackNode!==i)return null;var l=Ue;return l=fi(e,e===Ke?l:0),l===0?null:(Tp(e,l,t),Gp(e,_t()),e.callbackNode!=null&&e.callbackNode===i?Lp.bind(null,e):null)}function Yp(e,t){if(wl())return null;Tp(e,t,!0)}function vb(e){qb(function(){ke&6?gt(wa,e):e()})}function ef(){return Ci===0&&(Ci=X()),Ci}function jp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Or(""+e)}function Xp(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function bb(e,t,i,l,u){if(t==="submit"&&i&&i.stateNode===u){var c=jp((u[Vt]||null).action),m=l.submitter;m&&(t=(t=m[Vt]||null)?jp(t.formAction):m.getAttribute("formAction"),t!==null&&(c=t,m=null));var A=new zr("action","action",null,l,u);e.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ci!==0){var S=m?Xp(u,m):new FormData(u);oc(i,{pending:!0,data:S,method:u.method,action:c},null,S)}}else typeof c=="function"&&(A.preventDefault(),S=m?Xp(u,m):new FormData(u),oc(i,{pending:!0,data:S,method:u.method,action:c},c,S))},currentTarget:u}]})}}for(var tf=0;tf<zd.length;tf++){var nf=zd[tf],Ab=nf.toLowerCase(),wb=nf[0].toUpperCase()+nf.slice(1);Bn(Ab,"on"+wb)}Bn(Dd,"onAnimationEnd"),Bn(Od,"onAnimationIteration"),Bn(Bd,"onAnimationStart"),Bn("dblclick","onDoubleClick"),Bn("focusin","onFocus"),Bn("focusout","onBlur"),Bn(Gv,"onTransitionRun"),Bn(Lv,"onTransitionStart"),Bn(Yv,"onTransitionCancel"),Bn(Cd,"onTransitionEnd"),Pi("onMouseEnter",["mouseout","mouseover"]),Pi("onMouseLeave",["mouseout","mouseover"]),Pi("onPointerEnter",["pointerout","pointerover"]),Pi("onPointerLeave",["pointerout","pointerover"]),di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),di("onBeforeInput",["compositionend","keypress","textInput","paste"]),di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ps="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ps));function Vp(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var l=e[i],u=l.event;l=l.listeners;e:{var c=void 0;if(t)for(var m=l.length-1;0<=m;m--){var A=l[m],S=A.instance,C=A.currentTarget;if(A=A.listener,S!==c&&u.isPropagationStopped())break e;c=A,u.currentTarget=C;try{c(u)}catch(Z){nu(Z)}u.currentTarget=null,c=S}else for(m=0;m<l.length;m++){if(A=l[m],S=A.instance,C=A.currentTarget,A=A.listener,S!==c&&u.isPropagationStopped())break e;c=A,u.currentTarget=C;try{c(u)}catch(Z){nu(Z)}u.currentTarget=null,c=S}}}}function Be(e,t){var i=t[vo];i===void 0&&(i=t[vo]=new Set);var l=e+"__bubble";i.has(l)||(Qp(t,e,2,!1),i.add(l))}function af(e,t,i){var l=0;t&&(l|=4),Qp(i,e,l,t)}var yu="_reactListening"+Math.random().toString(36).slice(2);function lf(e){if(!e[yu]){e[yu]=!0,Fh.forEach(function(i){i!=="selectionchange"&&(Sb.has(i)||af(i,!1,e),af(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[yu]||(t[yu]=!0,af("selectionchange",!1,t))}}function Qp(e,t,i,l){switch(dm(t)){case 2:var u=Jb;break;case 8:u=Pb;break;default:u=vf}i=u.bind(null,t,i,e),u=void 0,!To||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(t,i,{capture:!0,passive:u}):e.addEventListener(t,i,!0):u!==void 0?e.addEventListener(t,i,{passive:u}):e.addEventListener(t,i,!1)}function sf(e,t,i,l,u){var c=l;if(!(t&1)&&!(t&2)&&l!==null)e:for(;;){if(l===null)return;var m=l.tag;if(m===3||m===4){var A=l.stateNode.containerInfo;if(A===u||A.nodeType===8&&A.parentNode===u)break;if(m===4)for(m=l.return;m!==null;){var S=m.tag;if((S===3||S===4)&&(S=m.stateNode.containerInfo,S===u||S.nodeType===8&&S.parentNode===u))return;m=m.return}for(;A!==null;){if(m=hi(A),m===null)return;if(S=m.tag,S===5||S===6||S===26||S===27){l=c=m;continue e}A=A.parentNode}}l=l.return}ld(function(){var C=c,Z=Eo(i),k=[];e:{var L=Ud.get(e);if(L!==void 0){var Q=zr,fe=e;switch(e){case"keypress":if(Cr(i)===0)break e;case"keydown":case"keyup":Q=pv;break;case"focusin":fe="focus",Q=Oo;break;case"focusout":fe="blur",Q=Oo;break;case"beforeblur":case"afterblur":Q=Oo;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=ud;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=av;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=vv;break;case Dd:case Od:case Bd:Q=sv;break;case Cd:Q=Av;break;case"scroll":case"scrollend":Q=tv;break;case"wheel":Q=Sv;break;case"copy":case"cut":case"paste":Q=uv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=cd;break;case"toggle":case"beforetoggle":Q=Ev}var xe=(t&4)!==0,at=!xe&&(e==="scroll"||e==="scrollend"),z=xe?L!==null?L+"Capture":null:L;xe=[];for(var B=C,H;B!==null;){var I=B;if(H=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||H===null||z===null||(I=gs(B,z),I!=null&&xe.push(Ws(B,I,H))),at)break;B=B.return}0<xe.length&&(L=new Q(L,fe,null,i,Z),k.push({event:L,listeners:xe}))}}if(!(t&7)){e:{if(L=e==="mouseover"||e==="pointerover",Q=e==="mouseout"||e==="pointerout",L&&i!==xo&&(fe=i.relatedTarget||i.fromElement)&&(hi(fe)||fe[Zi]))break e;if((Q||L)&&(L=Z.window===Z?Z:(L=Z.ownerDocument)?L.defaultView||L.parentWindow:window,Q?(fe=i.relatedTarget||i.toElement,Q=C,fe=fe?hi(fe):null,fe!==null&&(at=le(fe),xe=fe.tag,fe!==at||xe!==5&&xe!==27&&xe!==6)&&(fe=null)):(Q=null,fe=C),Q!==fe)){if(xe=ud,I="onMouseLeave",z="onMouseEnter",B="mouse",(e==="pointerout"||e==="pointerover")&&(xe=cd,I="onPointerLeave",z="onPointerEnter",B="pointer"),at=Q==null?L:ds(Q),H=fe==null?L:ds(fe),L=new xe(I,B+"leave",Q,i,Z),L.target=at,L.relatedTarget=H,I=null,hi(Z)===C&&(xe=new xe(z,B+"enter",fe,i,Z),xe.target=H,xe.relatedTarget=at,I=xe),at=I,Q&&fe)t:{for(xe=Q,z=fe,B=0,H=xe;H;H=xl(H))B++;for(H=0,I=z;I;I=xl(I))H++;for(;0<B-H;)xe=xl(xe),B--;for(;0<H-B;)z=xl(z),H--;for(;B--;){if(xe===z||z!==null&&xe===z.alternate)break t;xe=xl(xe),z=xl(z)}xe=null}else xe=null;Q!==null&&Kp(k,L,Q,xe,!1),fe!==null&&at!==null&&Kp(k,at,fe,xe,!0)}}e:{if(L=C?ds(C):window,Q=L.nodeName&&L.nodeName.toLowerCase(),Q==="select"||Q==="input"&&L.type==="file")var oe=vd;else if(md(L))if(bd)oe=zv;else{oe=Cv;var Re=Bv}else Q=L.nodeName,!Q||Q.toLowerCase()!=="input"||L.type!=="checkbox"&&L.type!=="radio"?C&&So(C.elementType)&&(oe=vd):oe=Uv;if(oe&&(oe=oe(e,C))){yd(k,oe,i,Z);break e}Re&&Re(e,L,C),e==="focusout"&&C&&L.type==="number"&&C.memoizedProps.value!=null&&wo(L,"number",L.value)}switch(Re=C?ds(C):window,e){case"focusin":(md(Re)||Re.contentEditable==="true")&&(tl=Re,Ho=C,Ss=null);break;case"focusout":Ss=Ho=tl=null;break;case"mousedown":No=!0;break;case"contextmenu":case"mouseup":case"dragend":No=!1,Rd(k,i,Z);break;case"selectionchange":if(Nv)break;case"keydown":case"keyup":Rd(k,i,Z)}var pe;if(Co)e:{switch(e){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else el?gd(e,i)&&(ye="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ye="onCompositionStart");ye&&(fd&&i.locale!=="ko"&&(el||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&el&&(pe=sd()):(Ma=Z,Ro="value"in Ma?Ma.value:Ma.textContent,el=!0)),Re=vu(C,ye),0<Re.length&&(ye=new od(ye,e,null,i,Z),k.push({event:ye,listeners:Re}),pe?ye.data=pe:(pe=pd(i),pe!==null&&(ye.data=pe)))),(pe=Tv?Rv(e,i):qv(e,i))&&(ye=vu(C,"onBeforeInput"),0<ye.length&&(Re=new od("onBeforeInput","beforeinput",null,i,Z),k.push({event:Re,listeners:ye}),Re.data=pe)),bb(k,e,C,i,Z)}Vp(k,t)})}function Ws(e,t,i){return{instance:e,listener:t,currentTarget:i}}function vu(e,t){for(var i=t+"Capture",l=[];e!==null;){var u=e,c=u.stateNode;u=u.tag,u!==5&&u!==26&&u!==27||c===null||(u=gs(e,i),u!=null&&l.unshift(Ws(e,u,c)),u=gs(e,t),u!=null&&l.push(Ws(e,u,c))),e=e.return}return l}function xl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Kp(e,t,i,l,u){for(var c=t._reactName,m=[];i!==null&&i!==l;){var A=i,S=A.alternate,C=A.stateNode;if(A=A.tag,S!==null&&S===l)break;A!==5&&A!==26&&A!==27||C===null||(S=C,u?(C=gs(i,c),C!=null&&m.unshift(Ws(i,C,S))):u||(C=gs(i,c),C!=null&&m.push(Ws(i,C,S)))),i=i.return}m.length!==0&&e.push({event:t,listeners:m})}var xb=/\r\n?/g,Eb=/\u0000|\uFFFD/g;function Zp(e){return(typeof e=="string"?e:""+e).replace(xb,`
`).replace(Eb,"")}function Fp(e,t){return t=Zp(t),Zp(e)===t}function bu(){}function je(e,t,i,l,u,c){switch(i){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Ii(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Ii(e,""+l);break;case"className":Rr(e,"class",l);break;case"tabIndex":Rr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Rr(e,i,l);break;case"style":ad(e,l,c);break;case"data":if(t!=="object"){Rr(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(i);break}l=Or(""+l),e.setAttribute(i,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(i==="formAction"?(t!=="input"&&je(e,t,"name",u.name,u,null),je(e,t,"formEncType",u.formEncType,u,null),je(e,t,"formMethod",u.formMethod,u,null),je(e,t,"formTarget",u.formTarget,u,null)):(je(e,t,"encType",u.encType,u,null),je(e,t,"method",u.method,u,null),je(e,t,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(i);break}l=Or(""+l),e.setAttribute(i,l);break;case"onClick":l!=null&&(e.onclick=bu);break;case"onScroll":l!=null&&Be("scroll",e);break;case"onScrollEnd":l!=null&&Be("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(i=l.__html,i!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}i=Or(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,""+l):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":l===!0?e.setAttribute(i,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(i,l):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(i,l):e.removeAttribute(i);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(i):e.setAttribute(i,l);break;case"popover":Be("beforetoggle",e),Be("toggle",e),Tr(e,"popover",l);break;case"xlinkActuate":kn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":kn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":kn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":kn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":kn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":kn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":kn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":kn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":kn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Tr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=k1.get(i)||i,Tr(e,i,l))}}function rf(e,t,i,l,u,c){switch(i){case"style":ad(e,l,c);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(i=l.__html,i!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"children":typeof l=="string"?Ii(e,l):(typeof l=="number"||typeof l=="bigint")&&Ii(e,""+l);break;case"onScroll":l!=null&&Be("scroll",e);break;case"onScrollEnd":l!=null&&Be("scrollend",e);break;case"onClick":l!=null&&(e.onclick=bu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jh.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(u=i.endsWith("Capture"),t=i.slice(2,u?i.length-7:void 0),c=e[Vt]||null,c=c!=null?c[i]:null,typeof c=="function"&&e.removeEventListener(t,c,u),typeof l=="function")){typeof c!="function"&&c!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,l,u);break e}i in e?e[i]=l:l===!0?e.setAttribute(i,""):Tr(e,i,l)}}}function Tt(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",e),Be("load",e);var l=!1,u=!1,c;for(c in i)if(i.hasOwnProperty(c)){var m=i[c];if(m!=null)switch(c){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:je(e,t,c,m,i,null)}}u&&je(e,t,"srcSet",i.srcSet,i,null),l&&je(e,t,"src",i.src,i,null);return;case"input":Be("invalid",e);var A=c=m=u=null,S=null,C=null;for(l in i)if(i.hasOwnProperty(l)){var Z=i[l];if(Z!=null)switch(l){case"name":u=Z;break;case"type":m=Z;break;case"checked":S=Z;break;case"defaultChecked":C=Z;break;case"value":c=Z;break;case"defaultValue":A=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,t));break;default:je(e,t,l,Z,i,null)}}kh(e,c,A,S,C,m,u,!1),qr(e);return;case"select":Be("invalid",e),l=m=c=null;for(u in i)if(i.hasOwnProperty(u)&&(A=i[u],A!=null))switch(u){case"value":c=A;break;case"defaultValue":m=A;break;case"multiple":l=A;default:je(e,t,u,A,i,null)}t=c,i=m,e.multiple=!!l,t!=null?Wi(e,!!l,t,!1):i!=null&&Wi(e,!!l,i,!0);return;case"textarea":Be("invalid",e),c=u=l=null;for(m in i)if(i.hasOwnProperty(m)&&(A=i[m],A!=null))switch(m){case"value":l=A;break;case"defaultValue":u=A;break;case"children":c=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:je(e,t,m,A,i,null)}td(e,l,u,c),qr(e);return;case"option":for(S in i)if(i.hasOwnProperty(S)&&(l=i[S],l!=null))switch(S){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:je(e,t,S,l,i,null)}return;case"dialog":Be("cancel",e),Be("close",e);break;case"iframe":case"object":Be("load",e);break;case"video":case"audio":for(l=0;l<Ps.length;l++)Be(Ps[l],e);break;case"image":Be("error",e),Be("load",e);break;case"details":Be("toggle",e);break;case"embed":case"source":case"link":Be("error",e),Be("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(C in i)if(i.hasOwnProperty(C)&&(l=i[C],l!=null))switch(C){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:je(e,t,C,l,i,null)}return;default:if(So(t)){for(Z in i)i.hasOwnProperty(Z)&&(l=i[Z],l!==void 0&&rf(e,t,Z,l,i,void 0));return}}for(A in i)i.hasOwnProperty(A)&&(l=i[A],l!=null&&je(e,t,A,l,i,null))}function Mb(e,t,i,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,c=null,m=null,A=null,S=null,C=null,Z=null;for(Q in i){var k=i[Q];if(i.hasOwnProperty(Q)&&k!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":S=k;default:l.hasOwnProperty(Q)||je(e,t,Q,null,l,k)}}for(var L in l){var Q=l[L];if(k=i[L],l.hasOwnProperty(L)&&(Q!=null||k!=null))switch(L){case"type":c=Q;break;case"name":u=Q;break;case"checked":C=Q;break;case"defaultChecked":Z=Q;break;case"value":m=Q;break;case"defaultValue":A=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,t));break;default:Q!==k&&je(e,t,L,Q,l,k)}}Ao(e,m,A,S,C,Z,c,u);return;case"select":Q=m=A=L=null;for(c in i)if(S=i[c],i.hasOwnProperty(c)&&S!=null)switch(c){case"value":break;case"multiple":Q=S;default:l.hasOwnProperty(c)||je(e,t,c,null,l,S)}for(u in l)if(c=l[u],S=i[u],l.hasOwnProperty(u)&&(c!=null||S!=null))switch(u){case"value":L=c;break;case"defaultValue":A=c;break;case"multiple":m=c;default:c!==S&&je(e,t,u,c,l,S)}t=A,i=m,l=Q,L!=null?Wi(e,!!i,L,!1):!!l!=!!i&&(t!=null?Wi(e,!!i,t,!0):Wi(e,!!i,i?[]:"",!1));return;case"textarea":Q=L=null;for(A in i)if(u=i[A],i.hasOwnProperty(A)&&u!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:je(e,t,A,null,l,u)}for(m in l)if(u=l[m],c=i[m],l.hasOwnProperty(m)&&(u!=null||c!=null))switch(m){case"value":L=u;break;case"defaultValue":Q=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(r(91));break;default:u!==c&&je(e,t,m,u,l,c)}ed(e,L,Q);return;case"option":for(var fe in i)if(L=i[fe],i.hasOwnProperty(fe)&&L!=null&&!l.hasOwnProperty(fe))switch(fe){case"selected":e.selected=!1;break;default:je(e,t,fe,null,l,L)}for(S in l)if(L=l[S],Q=i[S],l.hasOwnProperty(S)&&L!==Q&&(L!=null||Q!=null))switch(S){case"selected":e.selected=L&&typeof L!="function"&&typeof L!="symbol";break;default:je(e,t,S,L,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in i)L=i[xe],i.hasOwnProperty(xe)&&L!=null&&!l.hasOwnProperty(xe)&&je(e,t,xe,null,l,L);for(C in l)if(L=l[C],Q=i[C],l.hasOwnProperty(C)&&L!==Q&&(L!=null||Q!=null))switch(C){case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(137,t));break;default:je(e,t,C,L,l,Q)}return;default:if(So(t)){for(var at in i)L=i[at],i.hasOwnProperty(at)&&L!==void 0&&!l.hasOwnProperty(at)&&rf(e,t,at,void 0,l,L);for(Z in l)L=l[Z],Q=i[Z],!l.hasOwnProperty(Z)||L===Q||L===void 0&&Q===void 0||rf(e,t,Z,L,l,Q);return}}for(var z in i)L=i[z],i.hasOwnProperty(z)&&L!=null&&!l.hasOwnProperty(z)&&je(e,t,z,null,l,L);for(k in l)L=l[k],Q=i[k],!l.hasOwnProperty(k)||L===Q||L==null&&Q==null||je(e,t,k,L,l,Q)}var uf=null,of=null;function Au(e){return e.nodeType===9?e:e.ownerDocument}function Jp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Pp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function cf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ff=null;function Tb(){var e=window.event;return e&&e.type==="popstate"?e===ff?!1:(ff=e,!0):(ff=null,!1)}var Wp=typeof setTimeout=="function"?setTimeout:void 0,Rb=typeof clearTimeout=="function"?clearTimeout:void 0,Ip=typeof Promise=="function"?Promise:void 0,qb=typeof queueMicrotask=="function"?queueMicrotask:typeof Ip<"u"?function(e){return Ip.resolve(null).then(e).catch(Db)}:Wp;function Db(e){setTimeout(function(){throw e})}function hf(e,t){var i=t,l=0;do{var u=i.nextSibling;if(e.removeChild(i),u&&u.nodeType===8)if(i=u.data,i==="/$"){if(l===0){e.removeChild(u),ir(t);return}l--}else i!=="$"&&i!=="$?"&&i!=="$!"||l++;i=u}while(i);ir(t)}function df(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":df(i),bo(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function Ob(e,t,i,l){for(;e.nodeType===1;){var u=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[hs])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==u.rel||e.getAttribute("href")!==(u.href==null?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=zn(e.nextSibling),e===null)break}return null}function Bb(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=zn(e.nextSibling),e===null))return null;return e}function zn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}function $p(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}function kp(e,t,i){switch(t=Au(i),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}var En=new Map,em=new Set;function wu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var ga=se.d;se.d={f:Cb,r:Ub,D:zb,C:_b,L:Hb,m:Nb,X:Lb,S:Gb,M:Yb};function Cb(){var e=ga.f(),t=du();return e||t}function Ub(e){var t=Fi(e);t!==null&&t.tag===5&&t.type==="form"?Rg(t):ga.r(e)}var El=typeof document>"u"?null:document;function tm(e,t,i){var l=El;if(l&&typeof t=="string"&&t){var u=gn(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof i=="string"&&(u+='[crossorigin="'+i+'"]'),em.has(u)||(em.add(u),e={rel:e,crossOrigin:i,href:t},l.querySelector(u)===null&&(t=l.createElement("link"),Tt(t,"link",e),vt(t),l.head.appendChild(t)))}}function zb(e){ga.D(e),tm("dns-prefetch",e,null)}function _b(e,t){ga.C(e,t),tm("preconnect",e,t)}function Hb(e,t,i){ga.L(e,t,i);var l=El;if(l&&e&&t){var u='link[rel="preload"][as="'+gn(t)+'"]';t==="image"&&i&&i.imageSrcSet?(u+='[imagesrcset="'+gn(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(u+='[imagesizes="'+gn(i.imageSizes)+'"]')):u+='[href="'+gn(e)+'"]';var c=u;switch(t){case"style":c=Ml(e);break;case"script":c=Tl(e)}En.has(c)||(e=F({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),En.set(c,e),l.querySelector(u)!==null||t==="style"&&l.querySelector(Is(c))||t==="script"&&l.querySelector($s(c))||(t=l.createElement("link"),Tt(t,"link",e),vt(t),l.head.appendChild(t)))}}function Nb(e,t){ga.m(e,t);var i=El;if(i&&e){var l=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+gn(l)+'"][href="'+gn(e)+'"]',c=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=Tl(e)}if(!En.has(c)&&(e=F({rel:"modulepreload",href:e},t),En.set(c,e),i.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector($s(c)))return}l=i.createElement("link"),Tt(l,"link",e),vt(l),i.head.appendChild(l)}}}function Gb(e,t,i){ga.S(e,t,i);var l=El;if(l&&e){var u=Ji(l).hoistableStyles,c=Ml(e);t=t||"default";var m=u.get(c);if(!m){var A={loading:0,preload:null};if(m=l.querySelector(Is(c)))A.loading=5;else{e=F({rel:"stylesheet",href:e,"data-precedence":t},i),(i=En.get(c))&&gf(e,i);var S=m=l.createElement("link");vt(S),Tt(S,"link",e),S._p=new Promise(function(C,Z){S.onload=C,S.onerror=Z}),S.addEventListener("load",function(){A.loading|=1}),S.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Su(m,t,l)}m={type:"stylesheet",instance:m,count:1,state:A},u.set(c,m)}}}function Lb(e,t){ga.X(e,t);var i=El;if(i&&e){var l=Ji(i).hoistableScripts,u=Tl(e),c=l.get(u);c||(c=i.querySelector($s(u)),c||(e=F({src:e,async:!0},t),(t=En.get(u))&&pf(e,t),c=i.createElement("script"),vt(c),Tt(c,"link",e),i.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},l.set(u,c))}}function Yb(e,t){ga.M(e,t);var i=El;if(i&&e){var l=Ji(i).hoistableScripts,u=Tl(e),c=l.get(u);c||(c=i.querySelector($s(u)),c||(e=F({src:e,async:!0,type:"module"},t),(t=En.get(u))&&pf(e,t),c=i.createElement("script"),vt(c),Tt(c,"link",e),i.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},l.set(u,c))}}function nm(e,t,i,l){var u=(u=qt.current)?wu(u):null;if(!u)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=Ml(i.href),i=Ji(u).hoistableStyles,l=i.get(t),l||(l={type:"style",instance:null,count:0,state:null},i.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Ml(i.href);var c=Ji(u).hoistableStyles,m=c.get(e);if(m||(u=u.ownerDocument||u,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,m),(c=u.querySelector(Is(e)))&&!c._p&&(m.instance=c,m.state.loading=5),En.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},En.set(e,i),c||jb(u,e,i,m.state))),t&&l===null)throw Error(r(528,""));return m}if(t&&l!==null)throw Error(r(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Tl(i),i=Ji(u).hoistableScripts,l=i.get(t),l||(l={type:"script",instance:null,count:0,state:null},i.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Ml(e){return'href="'+gn(e)+'"'}function Is(e){return'link[rel="stylesheet"]['+e+"]"}function am(e){return F({},e,{"data-precedence":e.precedence,precedence:null})}function jb(e,t,i,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Tt(t,"link",i),vt(t),e.head.appendChild(t))}function Tl(e){return'[src="'+gn(e)+'"]'}function $s(e){return"script[async]"+e}function im(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+gn(i.href)+'"]');if(l)return t.instance=l,vt(l),l;var u=F({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),vt(l),Tt(l,"style",u),Su(l,i.precedence,e),t.instance=l;case"stylesheet":u=Ml(i.href);var c=e.querySelector(Is(u));if(c)return t.state.loading|=4,t.instance=c,vt(c),c;l=am(i),(u=En.get(u))&&gf(l,u),c=(e.ownerDocument||e).createElement("link"),vt(c);var m=c;return m._p=new Promise(function(A,S){m.onload=A,m.onerror=S}),Tt(c,"link",l),t.state.loading|=4,Su(c,i.precedence,e),t.instance=c;case"script":return c=Tl(i.src),(u=e.querySelector($s(c)))?(t.instance=u,vt(u),u):(l=i,(u=En.get(c))&&(l=F({},i),pf(l,u)),e=e.ownerDocument||e,u=e.createElement("script"),vt(u),Tt(u,"link",l),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(l=t.instance,t.state.loading|=4,Su(l,i.precedence,e));return t.instance}function Su(e,t,i){for(var l=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,c=u,m=0;m<l.length;m++){var A=l[m];if(A.dataset.precedence===t)c=A;else if(c!==u)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function gf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function pf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var xu=null;function lm(e,t,i){if(xu===null){var l=new Map,u=xu=new Map;u.set(i,l)}else u=xu,l=u.get(i),l||(l=new Map,u.set(i,l));if(l.has(e))return l;for(l.set(e,null),i=i.getElementsByTagName(e),u=0;u<i.length;u++){var c=i[u];if(!(c[hs]||c[Bt]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var m=c.getAttribute(t)||"";m=e+m;var A=l.get(m);A?A.push(c):l.set(m,[c])}}return l}function sm(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function Xb(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function rm(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var ks=null;function Vb(){}function Qb(e,t,i){if(ks===null)throw Error(r(475));var l=ks;if(t.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var u=Ml(i.href),c=e.querySelector(Is(u));if(c){e=c._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Eu.bind(l),e.then(l,l)),t.state.loading|=4,t.instance=c,vt(c);return}c=e.ownerDocument||e,i=am(i),(u=En.get(u))&&gf(i,u),c=c.createElement("link"),vt(c);var m=c;m._p=new Promise(function(A,S){m.onload=A,m.onerror=S}),Tt(c,"link",i),t.instance=c}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(l.count++,t=Eu.bind(l),e.addEventListener("load",t),e.addEventListener("error",t))}}function Kb(){if(ks===null)throw Error(r(475));var e=ks;return e.stylesheets&&e.count===0&&mf(e,e.stylesheets),0<e.count?function(t){var i=setTimeout(function(){if(e.stylesheets&&mf(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(i)}}:null}function Eu(){if(this.count--,this.count===0){if(this.stylesheets)mf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Mu=null;function mf(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Mu=new Map,t.forEach(Zb,e),Mu=null,Eu.call(e))}function Zb(e,t){if(!(t.state.loading&4)){var i=Mu.get(e);if(i)var l=i.get(null);else{i=new Map,Mu.set(e,i);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<u.length;c++){var m=u[c];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(i.set(m.dataset.precedence,m),l=m)}l&&i.set(null,l)}u=t.instance,m=u.getAttribute("data-precedence"),c=i.get(m)||l,c===l&&i.set(null,u),i.set(m,u),this.count++,l=Eu.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),c?c.parentNode.insertBefore(u,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var er={$$typeof:q,Provider:null,Consumer:null,_currentValue:Ee,_currentValue2:Ee,_threadCount:0};function Fb(e,t,i,l,u,c,m,A){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ie(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ie(0),this.hiddenUpdates=ie(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=c,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function um(e,t,i,l,u,c,m,A,S,C,Z,k){return e=new Fb(e,t,i,m,A,S,C,k),t=1,c===!0&&(t|=24),c=Sn(3,null,null,t),e.current=c,c.stateNode=e,t=Fo(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:l,isDehydrated:i,cache:t},Rc(c),e}function om(e){return e?(e=il,e):il}function cm(e,t,i,l,u,c){u=om(u),l.context===null?l.context=u:l.pendingContext=u,l=Ua(t),l.payload={element:i},c=c===void 0?null:c,c!==null&&(l.callback=c),i=za(e,l,t),i!==null&&(Lt(i,e,t),Ns(i,e,t))}function fm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function yf(e,t){fm(e,t),(e=e.alternate)&&fm(e,t)}function hm(e){if(e.tag===13){var t=Ta(e,67108864);t!==null&&Lt(t,e,67108864),yf(e,67108864)}}var Tu=!0;function Jb(e,t,i,l){var u=j.T;j.T=null;var c=se.p;try{se.p=2,vf(e,t,i,l)}finally{se.p=c,j.T=u}}function Pb(e,t,i,l){var u=j.T;j.T=null;var c=se.p;try{se.p=8,vf(e,t,i,l)}finally{se.p=c,j.T=u}}function vf(e,t,i,l){if(Tu){var u=bf(l);if(u===null)sf(e,t,l,Ru,i),gm(e,l);else if(Ib(u,e,t,i,l))l.stopPropagation();else if(gm(e,l),t&4&&-1<Wb.indexOf(e)){for(;u!==null;){var c=Fi(u);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var m=In(c.pendingLanes);if(m!==0){var A=c;for(A.pendingLanes|=2,A.entangledLanes|=2;m;){var S=1<<31-Ot(m);A.entanglements[1]|=S,m&=~S}Kn(c),!(ke&6)&&(cu=_t()+500,Js(0))}}break;case 13:A=Ta(c,2),A!==null&&Lt(A,c,2),du(),yf(c,2)}if(c=bf(l),c===null&&sf(e,t,l,Ru,i),c===u)break;u=c}u!==null&&l.stopPropagation()}else sf(e,t,l,null,i)}}function bf(e){return e=Eo(e),Af(e)}var Ru=null;function Af(e){if(Ru=null,e=hi(e),e!==null){var t=le(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=he(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ru=e,null}function dm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qi()){case wa:return 2;case jt:return 8;case Xt:case Sa:return 32;case Ht:return 268435456;default:return 32}default:return 32}}var wf=!1,ja=null,Xa=null,Va=null,tr=new Map,nr=new Map,Qa=[],Wb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gm(e,t){switch(e){case"focusin":case"focusout":ja=null;break;case"dragenter":case"dragleave":Xa=null;break;case"mouseover":case"mouseout":Va=null;break;case"pointerover":case"pointerout":tr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":nr.delete(t.pointerId)}}function ar(e,t,i,l,u,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:i,eventSystemFlags:l,nativeEvent:c,targetContainers:[u]},t!==null&&(t=Fi(t),t!==null&&hm(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function Ib(e,t,i,l,u){switch(t){case"focusin":return ja=ar(ja,e,t,i,l,u),!0;case"dragenter":return Xa=ar(Xa,e,t,i,l,u),!0;case"mouseover":return Va=ar(Va,e,t,i,l,u),!0;case"pointerover":var c=u.pointerId;return tr.set(c,ar(tr.get(c)||null,e,t,i,l,u)),!0;case"gotpointercapture":return c=u.pointerId,nr.set(c,ar(nr.get(c)||null,e,t,i,l,u)),!0}return!1}function pm(e){var t=hi(e.target);if(t!==null){var i=le(t);if(i!==null){if(t=i.tag,t===13){if(t=he(i),t!==null){e.blockedOn=t,On(e.priority,function(){if(i.tag===13){var l=an(),u=Ta(i,l);u!==null&&Lt(u,i,l),yf(i,l)}});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=bf(e.nativeEvent);if(i===null){i=e.nativeEvent;var l=new i.constructor(i.type,i);xo=l,i.target.dispatchEvent(l),xo=null}else return t=Fi(i),t!==null&&hm(t),e.blockedOn=i,!1;t.shift()}return!0}function mm(e,t,i){qu(e)&&i.delete(t)}function $b(){wf=!1,ja!==null&&qu(ja)&&(ja=null),Xa!==null&&qu(Xa)&&(Xa=null),Va!==null&&qu(Va)&&(Va=null),tr.forEach(mm),nr.forEach(mm)}function Du(e,t){e.blockedOn===t&&(e.blockedOn=null,wf||(wf=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,$b)))}var Ou=null;function ym(e){Ou!==e&&(Ou=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ou===e&&(Ou=null);for(var t=0;t<e.length;t+=3){var i=e[t],l=e[t+1],u=e[t+2];if(typeof l!="function"){if(Af(l||i)===null)continue;break}var c=Fi(i);c!==null&&(e.splice(t,3),t-=3,oc(c,{pending:!0,data:u,method:i.method,action:l},l,u))}}))}function ir(e){function t(S){return Du(S,e)}ja!==null&&Du(ja,e),Xa!==null&&Du(Xa,e),Va!==null&&Du(Va,e),tr.forEach(t),nr.forEach(t);for(var i=0;i<Qa.length;i++){var l=Qa[i];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Qa.length&&(i=Qa[0],i.blockedOn===null);)pm(i),i.blockedOn===null&&Qa.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(l=0;l<i.length;l+=3){var u=i[l],c=i[l+1],m=u[Vt]||null;if(typeof c=="function")m||ym(i);else if(m){var A=null;if(c&&c.hasAttribute("formAction")){if(u=c,m=c[Vt]||null)A=m.formAction;else if(Af(u)!==null)continue}else A=m.action;typeof A=="function"?i[l+1]=A:(i.splice(l,3),l-=3),ym(i)}}}function Sf(e){this._internalRoot=e}Bu.prototype.render=Sf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var i=t.current,l=an();cm(i,l,e,t,null,null)},Bu.prototype.unmount=Sf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;e.tag===0&&wl(),cm(e.current,2,null,e,null,null),du(),t[Zi]=null}};function Bu(e){this._internalRoot=e}Bu.prototype.unstable_scheduleHydration=function(e){if(e){var t=$t();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Qa.length&&t!==0&&t<Qa[i].priority;i++);Qa.splice(i,0,e),i===0&&pm(e)}};var vm=a.version;if(vm!=="19.0.0")throw Error(r(527,vm,"19.0.0"));se.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=W(t),e=e!==null?te(e):null,e=e===null?null:e.stateNode,e};var kb={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:j,findFiberByHostInstance:hi,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cu.isDisabled&&Cu.supportsFiber)try{qn=Cu.inject(kb),Dt=Cu}catch{}}return sr.createRoot=function(e,t){if(!o(e))throw Error(r(299));var i=!1,l="",u=_g,c=Hg,m=Ng,A=null;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(A=t.unstable_transitionCallbacks)),t=um(e,1,!1,null,null,i,l,u,c,m,A,null),e[Zi]=t.current,lf(e.nodeType===8?e.parentNode:e),new Sf(t)},sr.hydrateRoot=function(e,t,i){if(!o(e))throw Error(r(299));var l=!1,u="",c=_g,m=Hg,A=Ng,S=null,C=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(c=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(A=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks),i.formState!==void 0&&(C=i.formState)),t=um(e,1,!0,t,i??null,l,u,c,m,A,S,C),t.context=om(null),i=t.current,l=an(),u=Ua(l),u.callback=null,za(i,u,l),t.current.lanes=l,be(t,l),Kn(t),e[Zi]=t.current,lf(e),new Bu(t)},sr.version="19.0.0",sr}var qm;function fA(){if(qm)return Ef.exports;qm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(a){console.error(a)}}return n(),Ef.exports=cA(),Ef.exports}var hA=fA(),_u=Vf(),dA=Object.defineProperty,d=(n,a)=>dA(n,"name",{value:a,configurable:!0}),gA=(()=>{for(var n=new Uint8Array(128),a=0;a<64;a++)n[a<26?a+65:a<52?a+71:a<62?a-4:a*4-205]=a;return s=>{for(var r=s.length,o=new Uint8Array((r-(s[r-1]=="=")-(s[r-2]=="="))*3/4|0),f=0,h=0;f<r;){var v=n[s.charCodeAt(f++)],g=n[s.charCodeAt(f++)],p=n[s.charCodeAt(f++)],w=n[s.charCodeAt(f++)];o[h++]=v<<2|g>>4,o[h++]=g<<4|p>>2,o[h++]=p<<6|w}return o}})(),He,De=(He=class{constructor(a,s,r){_(this,"r",255);_(this,"g",255);_(this,"b",255);this.r=Gn(a,0,255),this.g=Gn(s,0,255),this.b=Gn(r,0,255)}static fromArray(a){return new He(a[0],a[1],a[2])}static fromHex(a){if(typeof a=="number")return new He(a>>16&255,a>>8&255,a>>0&255);if(typeof a=="string"){let s=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);if(!s)throw new Error("Invalid hex color format");return new He(parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16))}else throw new Error("Invalid hex color format")}static fromHSL(a,s,r){if(s==0)return new He(255*r,255*r,255*r);let o=d((w,R,y)=>(y<0&&(y+=1),y>1&&(y-=1),y<1/6?w+(R-w)*6*y:y<1/2?R:y<2/3?w+(R-w)*(2/3-y)*6:w),"hue2rgb"),f=r<.5?r*(1+s):r+s-r*s,h=2*r-f,v=o(h,f,a+1/3),g=o(h,f,a),p=o(h,f,a-1/3);return new He(Math.round(v*255),Math.round(g*255),Math.round(p*255))}clone(){return new He(this.r,this.g,this.b)}lighten(a){return new He(this.r+a,this.g+a,this.b+a)}darken(a){return this.lighten(-a)}invert(){return new He(255-this.r,255-this.g,255-this.b)}mult(a){return new He(this.r*a.r/255,this.g*a.g/255,this.b*a.b/255)}lerp(a,s){return new He(Pt(this.r,a.r,s),Pt(this.g,a.g,s),Pt(this.b,a.b,s))}toHSL(){let a=this.r/255,s=this.g/255,r=this.b/255,o=Math.max(a,s,r),f=Math.min(a,s,r),h=(o+f)/2,v=h,g=h;if(o==f)h=v=0;else{let p=o-f;switch(v=g>.5?p/(2-o-f):p/(o+f),o){case a:h=(s-r)/p+(s<r?6:0);break;case s:h=(r-a)/p+2;break;case r:h=(a-s)/p+4;break}h/=6}return[h,v,g]}eq(a){return this.r===a.r&&this.g===a.g&&this.b===a.b}toString(){return`rgb(${this.r}, ${this.g}, ${this.b})`}toHex(){return"#"+((1<<24)+(this.r<<16)+(this.g<<8)+this.b).toString(16).slice(1)}toArray(){return[this.r,this.g,this.b]}},d(He,"Color"),_(He,"RED",new He(255,0,0)),_(He,"GREEN",new He(0,255,0)),_(He,"BLUE",new He(0,0,255)),_(He,"YELLOW",new He(255,255,0)),_(He,"MAGENTA",new He(255,0,255)),_(He,"CYAN",new He(0,255,255)),_(He,"WHITE",new He(255,255,255)),_(He,"BLACK",new He(0,0,0)),He);function Ge(...n){if(n.length===0)return new De(255,255,255);if(n.length===1){if(n[0]instanceof De)return n[0].clone();if(typeof n[0]=="string")return De.fromHex(n[0]);if(Array.isArray(n[0])&&n[0].length===3)return De.fromArray(n[0])}else if(n.length===2){if(n[0]instanceof De)return n[0].clone()}else if(n.length===3||n.length===4)return new De(n[0],n[1],n[2]);throw new Error("Invalid color arguments")}d(Ge,"rgb");var pA=d((n,a,s)=>De.fromHSL(n,a,s),"hsl2rgb");function dt(n){return n*Math.PI/180}d(dt,"deg2rad");function ei(n){return n*180/Math.PI}d(ei,"rad2deg");function Gn(n,a,s){return a>s?Gn(n,s,a):Math.min(Math.max(n,a),s)}d(Gn,"clamp");function Pt(n,a,s){if(typeof n=="number"&&typeof a=="number")return n+(a-n)*s;if(n instanceof K&&a instanceof K||n instanceof De&&a instanceof De)return n.lerp(a,s);throw new Error(`Bad value for lerp(): ${n}, ${a}. Only number, Vec2 and Color is supported.`)}d(Pt,"lerp");function Nn(n,a,s,r,o){return r+(n-a)/(s-a)*(o-r)}d(Nn,"map");function _m(n,a,s,r,o){return Gn(Nn(n,a,s,r,o),r,o)}d(_m,"mapc");var Xe,K=(Xe=class{constructor(a=0,s=a){_(this,"x",0);_(this,"y",0);this.x=a,this.y=s}static fromAngle(a){let s=dt(a);return new Xe(Math.cos(s),Math.sin(s))}static fromArray(a){return new Xe(a[0],a[1])}clone(){return new Xe(this.x,this.y)}add(...a){let s=Y(...a);return new Xe(this.x+s.x,this.y+s.y)}sub(...a){let s=Y(...a);return new Xe(this.x-s.x,this.y-s.y)}scale(...a){let s=Y(...a);return new Xe(this.x*s.x,this.y*s.y)}dist(...a){let s=Y(...a);return this.sub(s).len()}sdist(...a){let s=Y(...a);return this.sub(s).slen()}static sdist(a,s){let r=a.x-s.x,o=a.y-s.y;return r*r+o*o}len(){return Math.sqrt(this.dot(this))}slen(){return this.dot(this)}unit(){let a=this.len();return a===0?new Xe(0):this.scale(1/a)}normal(){return new Xe(this.y,-this.x)}reflect(a){return this.sub(a.scale(2*this.dot(a)))}project(a){return a.scale(a.dot(this)/a.len())}reject(a){return this.sub(this.project(a))}dot(a){return this.x*a.x+this.y*a.y}static dot(a,s){return a.x*a.x+a.y*a.y}cross(a){return this.x*a.y-this.y*a.x}static cross(a,s){return a.x*s.y-a.y*s.x}angle(...a){let s=Y(...a);return ei(Math.atan2(this.y-s.y,this.x-s.x))}angleBetween(...a){let s=Y(...a);return ei(Math.atan2(this.cross(s),this.dot(s)))}lerp(a,s){return new Xe(Pt(this.x,a.x,s),Pt(this.y,a.y,s))}slerp(a,s){let r=this.dot(a),o=this.cross(a),f=Math.atan2(o,r);return this.scale(Math.sin((1-s)*f)).add(a.scale(Math.sin(s*f))).scale(1/o)}isZero(){return this.x===0&&this.y===0}toFixed(a){return new Xe(Number(this.x.toFixed(a)),Number(this.y.toFixed(a)))}transform(a){return a.multVec2(this)}eq(a){return this.x===a.x&&this.y===a.y}bbox(){return new et(this,0,0)}toString(){return`vec2(${this.x.toFixed(2)}, ${this.y.toFixed(2)})`}toArray(){return[this.x,this.y]}},d(Xe,"Vec2"),_(Xe,"ZERO",new Xe(0,0)),_(Xe,"ONE",new Xe(1,1)),_(Xe,"LEFT",new Xe(-1,0)),_(Xe,"RIGHT",new Xe(1,0)),_(Xe,"UP",new Xe(0,-1)),_(Xe,"DOWN",new Xe(0,1)),Xe);function Y(...n){if(n.length===1){if(n[0]instanceof K)return new K(n[0].x,n[0].y);if(Array.isArray(n[0])&&n[0].length===2)return new K(...n[0])}return new K(...n)}d(Y,"vec2");var Wa,lt=(Wa=class{constructor(a,s,r,o){_(this,"x",0);_(this,"y",0);_(this,"w",1);_(this,"h",1);this.x=a,this.y=s,this.w=r,this.h=o}scale(a){return new Wa(this.x+this.w*a.x,this.y+this.h*a.y,this.w*a.w,this.h*a.h)}pos(){return new K(this.x,this.y)}clone(){return new Wa(this.x,this.y,this.w,this.h)}eq(a){return this.x===a.x&&this.y===a.y&&this.w===a.w&&this.h===a.h}toString(){return`quad(${this.x}, ${this.y}, ${this.w}, ${this.h})`}},d(Wa,"Quad"),Wa);function ht(n,a,s,r){return new lt(n,a,s,r)}d(ht,"quad");var _n,ju=(_n=class{constructor(a,s,r,o){_(this,"a");_(this,"b");_(this,"c");_(this,"d");this.a=a,this.b=s,this.c=r,this.d=o}mul(a){return new _n(this.a*a.a+this.b*a.c,this.a*a.b+this.b*a.d,this.c*a.a+this.d*a.c,this.c*a.b+this.d*a.d)}transform(a){return Y(this.a*a.x+this.b*a.y,this.c*a.x+this.d*a.y)}get inverse(){let a=this.det;return new _n(this.d/a,-this.b/a,-this.c/a,this.a/a)}get transpose(){return new _n(this.a,this.c,this.b,this.d)}get eigenvalues(){let a=this.trace/2,s=this.det,r=a+Math.sqrt(a*a-s),o=a-Math.sqrt(a*a-s);return[r,o]}eigenvectors(a,s){return this.c!=0?[[a-this.d,this.c],[s-this.d,this.c]]:this.b!=0?[[this.b,a-this.a],[this.b,s-this.a]]:Math.abs(this.transform(Y(1,0)).x-a)<Number.EPSILON?[[1,0],[0,1]]:[[0,1],[1,0]]}get det(){return this.a*this.d-this.b*this.c}get trace(){return this.a+this.d}static rotation(a){let s=Math.cos(a),r=Math.sin(a);return new _n(s,r,-r,s)}static scale(a,s){return new _n(a,0,0,s)}},d(_n,"Mat2"),_n),Fn,rr=(Fn=class{constructor(a,s,r,o,f,h,v,g,p){_(this,"m11");_(this,"m12");_(this,"m13");_(this,"m21");_(this,"m22");_(this,"m23");_(this,"m31");_(this,"m32");_(this,"m33");this.m11=a,this.m12=s,this.m13=r,this.m21=o,this.m22=f,this.m23=h,this.m31=v,this.m32=g,this.m33=p}static fromMat2(a){return new Fn(a.a,a.b,0,a.c,a.d,0,0,0,1)}toMat2(){return new ju(this.m11,this.m12,this.m21,this.m22)}mul(a){return new Fn(this.m11*a.m11+this.m12*a.m21+this.m13*a.m31,this.m11*a.m12+this.m12*a.m22+this.m13*a.m32,this.m11*a.m13+this.m12*a.m23+this.m13*a.m33,this.m21*a.m11+this.m22*a.m21+this.m23*a.m31,this.m21*a.m12+this.m22*a.m22+this.m23*a.m32,this.m21*a.m13+this.m22*a.m23+this.m23*a.m33,this.m31*a.m11+this.m32*a.m21+this.m33*a.m31,this.m31*a.m12+this.m32*a.m22+this.m33*a.m32,this.m31*a.m13+this.m32*a.m23+this.m33*a.m33)}get det(){return this.m11*this.m22*this.m33+this.m12*this.m23*this.m31+this.m13*this.m21*this.m32-this.m13*this.m22*this.m31-this.m12*this.m21*this.m33-this.m11*this.m23*this.m32}rotate(a){let s=Math.cos(a),r=Math.sin(a),o=this.m11,f=this.m12;return this.m11=s*this.m11+r*this.m21,this.m12=s*this.m12+r*this.m22,this.m21=s*this.m21-r*o,this.m22=s*this.m22-r*f,this}scale(a,s){return this.m11*=a,this.m12*=a,this.m21*=s,this.m22*=s,this}get inverse(){let a=this.det;return new Fn((this.m22*this.m33-this.m23*this.m32)/a,(this.m13*this.m32-this.m12*this.m33)/a,(this.m12*this.m23-this.m13*this.m22)/a,(this.m23*this.m31-this.m21*this.m33)/a,(this.m11*this.m33-this.m13*this.m31)/a,(this.m13*this.m21-this.m11*this.m23)/a,(this.m21*this.m32-this.m22*this.m31)/a,(this.m12*this.m31-this.m11*this.m32)/a,(this.m11*this.m22-this.m12*this.m21)/a)}get transpose(){return new Fn(this.m11,this.m21,this.m31,this.m12,this.m22,this.m32,this.m13,this.m23,this.m33)}},d(Fn,"Mat3"),Fn),Zt,Wn=(Zt=class{constructor(a){_(this,"m",[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);a&&(this.m=a)}static translate(a){return new Zt([1,0,0,0,0,1,0,0,0,0,1,0,a.x,a.y,0,1])}static scale(a){return new Zt([a.x,0,0,0,0,a.y,0,0,0,0,1,0,0,0,0,1])}static rotateX(a){a=dt(-a);let s=Math.cos(a),r=Math.sin(a);return new Zt([1,0,0,0,0,s,-r,0,0,r,s,0,0,0,0,1])}static rotateY(a){a=dt(-a);let s=Math.cos(a),r=Math.sin(a);return new Zt([s,0,r,0,0,1,0,0,-r,0,s,0,0,0,0,1])}static rotateZ(a){a=dt(-a);let s=Math.cos(a),r=Math.sin(a);return new Zt([s,-r,0,0,r,s,0,0,0,0,1,0,0,0,0,1])}translate(a){return this.m[12]+=this.m[0]*a.x+this.m[4]*a.y,this.m[13]+=this.m[1]*a.x+this.m[5]*a.y,this.m[14]+=this.m[2]*a.x+this.m[6]*a.y,this.m[15]+=this.m[3]*a.x+this.m[7]*a.y,this}scale(a){return this.m[0]*=a.x,this.m[4]*=a.y,this.m[1]*=a.x,this.m[5]*=a.y,this.m[2]*=a.x,this.m[6]*=a.y,this.m[3]*=a.x,this.m[7]*=a.y,this}rotate(a){a=dt(-a);let s=Math.cos(a),r=Math.sin(a),o=this.m[0],f=this.m[1],h=this.m[4],v=this.m[5];return this.m[0]=o*s+f*r,this.m[1]=-o*r+f*s,this.m[4]=h*s+v*r,this.m[5]=-h*r+v*s,this}mult(a){let s=[];for(let r=0;r<4;r++)for(let o=0;o<4;o++)s[r*4+o]=this.m[0*4+o]*a.m[r*4+0]+this.m[1*4+o]*a.m[r*4+1]+this.m[2*4+o]*a.m[r*4+2]+this.m[3*4+o]*a.m[r*4+3];return new Zt(s)}multVec2(a){return new K(a.x*this.m[0]+a.y*this.m[4]+this.m[12],a.x*this.m[1]+a.y*this.m[5]+this.m[13])}getTranslation(){return new K(this.m[12],this.m[13])}getScale(){if(this.m[0]!=0||this.m[1]!=0){let a=this.m[0]*this.m[5]-this.m[1]*this.m[4],s=Math.sqrt(this.m[0]*this.m[0]+this.m[1]*this.m[1]);return new K(s,a/s)}else if(this.m[4]!=0||this.m[5]!=0){let a=this.m[0]*this.m[5]-this.m[1]*this.m[4],s=Math.sqrt(this.m[4]*this.m[4]+this.m[5]*this.m[5]);return new K(a/s,s)}else return new K(0,0)}getRotation(){if(this.m[0]!=0||this.m[1]!=0){let a=Math.sqrt(this.m[0]*this.m[0]+this.m[1]*this.m[1]);return ei(this.m[1]>0?Math.acos(this.m[0]/a):-Math.acos(this.m[0]/a))}else if(this.m[4]!=0||this.m[5]!=0){let a=Math.sqrt(this.m[4]*this.m[4]+this.m[5]*this.m[5]);return ei(Math.PI/2-(this.m[5]>0?Math.acos(-this.m[4]/a):-Math.acos(this.m[4]/a)))}else return 0}getSkew(){if(this.m[0]!=0||this.m[1]!=0){let a=Math.sqrt(this.m[0]*this.m[0]+this.m[1]*this.m[1]);return new K(Math.atan(this.m[0]*this.m[4]+this.m[1]*this.m[5])/(a*a),0)}else if(this.m[4]!=0||this.m[5]!=0){let a=Math.sqrt(this.m[4]*this.m[4]+this.m[5]*this.m[5]);return new K(0,Math.atan(this.m[0]*this.m[4]+this.m[1]*this.m[5])/(a*a))}else return new K(0,0)}invert(){let a=[],s=this.m[10]*this.m[15]-this.m[14]*this.m[11],r=this.m[9]*this.m[15]-this.m[13]*this.m[11],o=this.m[9]*this.m[14]-this.m[13]*this.m[10],f=this.m[8]*this.m[15]-this.m[12]*this.m[11],h=this.m[8]*this.m[14]-this.m[12]*this.m[10],v=this.m[8]*this.m[13]-this.m[12]*this.m[9],g=this.m[6]*this.m[15]-this.m[14]*this.m[7],p=this.m[5]*this.m[15]-this.m[13]*this.m[7],w=this.m[5]*this.m[14]-this.m[13]*this.m[6],R=this.m[4]*this.m[15]-this.m[12]*this.m[7],y=this.m[4]*this.m[14]-this.m[12]*this.m[6],q=this.m[5]*this.m[15]-this.m[13]*this.m[7],E=this.m[4]*this.m[13]-this.m[12]*this.m[5],N=this.m[6]*this.m[11]-this.m[10]*this.m[7],x=this.m[5]*this.m[11]-this.m[9]*this.m[7],D=this.m[5]*this.m[10]-this.m[9]*this.m[6],V=this.m[4]*this.m[11]-this.m[8]*this.m[7],$=this.m[4]*this.m[10]-this.m[8]*this.m[6],re=this.m[4]*this.m[9]-this.m[8]*this.m[5];a[0]=this.m[5]*s-this.m[6]*r+this.m[7]*o,a[4]=-(this.m[4]*s-this.m[6]*f+this.m[7]*h),a[8]=this.m[4]*r-this.m[5]*f+this.m[7]*v,a[12]=-(this.m[4]*o-this.m[5]*h+this.m[6]*v),a[1]=-(this.m[1]*s-this.m[2]*r+this.m[3]*o),a[5]=this.m[0]*s-this.m[2]*f+this.m[3]*h,a[9]=-(this.m[0]*r-this.m[1]*f+this.m[3]*v),a[13]=this.m[0]*o-this.m[1]*h+this.m[2]*v,a[2]=this.m[1]*g-this.m[2]*p+this.m[3]*w,a[6]=-(this.m[0]*g-this.m[2]*R+this.m[3]*y),a[10]=this.m[0]*q-this.m[1]*R+this.m[3]*E,a[14]=-(this.m[0]*w-this.m[1]*y+this.m[2]*E),a[3]=-(this.m[1]*N-this.m[2]*x+this.m[3]*D),a[7]=this.m[0]*N-this.m[2]*V+this.m[3]*$,a[11]=-(this.m[0]*x-this.m[1]*V+this.m[3]*re),a[15]=this.m[0]*D-this.m[1]*$+this.m[2]*re;let ee=this.m[0]*a[0]+this.m[1]*a[4]+this.m[2]*a[8]+this.m[3]*a[12];for(let O=0;O<4;O++)for(let U=0;U<4;U++)a[O*4+U]*=1/ee;return new Zt(a)}clone(){return new Zt([...this.m])}toString(){return this.m.toString()}},d(Zt,"Mat4"),Zt);function Qf(n,a,s,r=o=>-Math.cos(o)){return n+(r(s)+1)/2*(a-n)}d(Qf,"wave");var mA=1103515245,yA=12345,Dm=2147483648,_l,Hm=(_l=class{constructor(a){_(this,"seed");this.seed=a}gen(){return this.seed=(mA*this.seed+yA)%Dm,this.seed/Dm}genNumber(a,s){return a+this.gen()*(s-a)}genVec2(a,s){return new K(this.genNumber(a.x,s.x),this.genNumber(a.y,s.y))}genColor(a,s){return new De(this.genNumber(a.r,s.r),this.genNumber(a.g,s.g),this.genNumber(a.b,s.b))}genAny(...a){if(a.length===0)return this.gen();if(a.length===1){if(typeof a[0]=="number")return this.genNumber(0,a[0]);if(a[0]instanceof K)return this.genVec2(Y(0,0),a[0]);if(a[0]instanceof De)return this.genColor(Ge(0,0,0),a[0])}else if(a.length===2){if(typeof a[0]=="number"&&typeof a[1]=="number")return this.genNumber(a[0],a[1]);if(a[0]instanceof K&&a[1]instanceof K)return this.genVec2(a[0],a[1]);if(a[0]instanceof De&&a[1]instanceof De)return this.genColor(a[0],a[1])}throw new Error("More than 2 arguments not supported")}},d(_l,"RNG"),_l),Of=new Hm(Date.now());function Nm(n){return n!=null&&(Of.seed=n),Of.seed}d(Nm,"randSeed");function St(...n){return Of.genAny(...n)}d(St,"rand");function Kf(...n){return Math.floor(St(...n.length>0?n:[2]))}d(Kf,"randi");function Gm(n){return St()<=n}d(Gm,"chance");function Zf(n){for(let a=n.length-1;a>0;a--){let s=Math.floor(Math.random()*(a+1));[n[a],n[s]]=[n[s],n[a]]}return n}d(Zf,"shuffle");function Lm(n,a){return n.length<=a?n.slice():Zf(n.slice()).slice(0,a)}d(Lm,"chooseMultiple");function Ym(n){return n[Kf(n.length)]}d(Ym,"choose");function Ff(n,a){return n.pos.x+n.width>a.pos.x&&n.pos.x<a.pos.x+a.width&&n.pos.y+n.height>a.pos.y&&n.pos.y<a.pos.y+a.height}d(Ff,"testRectRect");function jm(n,a){if(n.p1.x===n.p2.x&&n.p1.y===n.p2.y||a.p1.x===a.p2.x&&a.p1.y===a.p2.y)return null;let s=(a.p2.y-a.p1.y)*(n.p2.x-n.p1.x)-(a.p2.x-a.p1.x)*(n.p2.y-n.p1.y);if(s===0)return null;let r=((a.p2.x-a.p1.x)*(n.p1.y-a.p1.y)-(a.p2.y-a.p1.y)*(n.p1.x-a.p1.x))/s,o=((n.p2.x-n.p1.x)*(n.p1.y-a.p1.y)-(n.p2.y-n.p1.y)*(n.p1.x-a.p1.x))/s;return r<0||r>1||o<0||o>1?null:r}d(jm,"testLineLineT");function eo(n,a){let s=jm(n,a);return s?Y(n.p1.x+s*(n.p2.x-n.p1.x),n.p1.y+s*(n.p2.y-n.p1.y)):null}d(eo,"testLineLine");function to(n,a){let s=a.p2.sub(a.p1),r=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;if(s.x!=0){let f=(n.pos.x-a.p1.x)/s.x,h=(n.pos.x+n.width-a.p1.x)/s.x;r=Math.max(r,Math.min(f,h)),o=Math.min(o,Math.max(f,h))}if(s.y!=0){let f=(n.pos.y-a.p1.y)/s.y,h=(n.pos.y+n.height-a.p1.y)/s.y;r=Math.max(r,Math.min(f,h)),o=Math.min(o,Math.max(f,h))}return o>=r&&o>=0&&r<=1}d(to,"testRectLine");function Ar(n,a){return a.x>n.pos.x&&a.x<n.pos.x+n.width&&a.y>n.pos.y&&a.y<n.pos.y+n.height}d(Ar,"testRectPoint");function Jf(n,a){let s=Math.max(n.pos.x,Math.min(a.center.x,n.pos.x+n.width)),r=Math.max(n.pos.y,Math.min(a.center.y,n.pos.y+n.height));return Y(s,r).sdist(a.center)<=a.radius*a.radius}d(Jf,"testRectCircle");function Pf(n,a){return Wf(a,new Wt(n.points()))}d(Pf,"testRectPolygon");function no(n,a){let s=a.sub(n.p1),r=n.p2.sub(n.p1);if(Math.abs(s.cross(r))>Number.EPSILON)return!1;let o=s.dot(r)/r.dot(r);return o>=0&&o<=1}d(no,"testLinePoint");function ls(n,a){let s=n.p2.sub(n.p1),r=s.dot(s),o=n.p1.sub(a.center),f=2*s.dot(o),h=o.dot(o)-a.radius*a.radius,v=f*f-4*r*h;if(r<=Number.EPSILON||v<0)return!1;if(v==0){let g=-f/(2*r);if(g>=0&&g<=1)return!0}else{let g=(-f+Math.sqrt(v))/(2*r),p=(-f-Math.sqrt(v))/(2*r);if(g>=0&&g<=1||p>=0&&p<=1)return!0}return wr(a,n.p1)}d(ls,"testLineCircle");function ao(n,a){if(va(a,n.p1)||va(a,n.p2))return!0;for(let s=0;s<a.pts.length;s++){let r=a.pts[s],o=a.pts[(s+1)%a.pts.length];if(eo(n,new cn(r,o)))return!0}return!1}d(ao,"testLinePolygon");function wr(n,a){return n.center.sdist(a)<n.radius*n.radius}d(wr,"testCirclePoint");function Xm(n,a){return n.center.sdist(a.center)<(n.radius+a.radius)*(n.radius+a.radius)}d(Xm,"testCircleCircle");function Sr(n,a){let s=a.pts[a.pts.length-1];for(let r of a.pts){if(ls(new cn(s,r),n))return!0;s=r}return wr(n,a.pts[0])?!0:va(a,n.center)}d(Sr,"testCirclePolygon");function Wf(n,a){for(let s=0;s<n.pts.length;s++)if(ao(new cn(n.pts[s],n.pts[(s+1)%n.pts.length]),a))return!0;return!!(n.pts.some(s=>va(a,s))||a.pts.some(s=>va(n,s)))}d(Wf,"testPolygonPolygon");function va(n,a){let s=!1,r=n.pts;for(let o=0,f=r.length-1;o<r.length;f=o++)r[o].y>a.y!=r[f].y>a.y&&a.x<(r[f].x-r[o].x)*(a.y-r[o].y)/(r[f].y-r[o].y)+r[o].x&&(s=!s);return s}d(va,"testPolygonPoint");function io(n,a){a=a.sub(n.center);let s=dt(n.angle),r=Math.cos(s),o=Math.sin(s),f=a.x*r+a.y*o,h=-a.x*o+a.y*r;return f*f/(n.radiusX*n.radiusX)+h*h/(n.radiusY*n.radiusY)<1}d(io,"testEllipsePoint");function fr(n,a){let s=a.center.sub(n.center),r=dt(n.angle),o=Math.cos(r),f=Math.sin(r),h=s.x*o+s.y*f,v=-s.x*f+s.y*o;return io(new ba(Y(),n.radiusX+a.radius,n.radiusY+a.radius,0),Y(h,v))}d(fr,"testEllipseCircle");function If(n,a){let s=n.toMat2().inverse;return a=new cn(s.transform(a.p1.sub(n.center)),s.transform(a.p2.sub(n.center))),ls(a,new un(Y(),1))}d(If,"testEllipseLine");function Vm(n,a){if(n.radiusX===n.radiusY)return fr(a,new un(n.center,n.radiusX));if(a.radiusX===a.radiusY)return fr(n,new un(a.center,a.radiusX));let s=new rr(1/n.radiusX**2,0,0,0,1/n.radiusY**2,0,0,0,-1),r=new rr(1/a.radiusX**2,0,0,0,1/a.radiusY**2,0,0,0,-1),o=n.center.x,f=n.center.y,h=a.center.x,v=a.center.y,g=dt(n.angle),p=dt(a.angle),w=new rr(Math.cos(g),-Math.sin(g),o,Math.sin(g),Math.cos(g),f,0,0,1),R=new rr(Math.cos(p),-Math.sin(p),h,Math.sin(p),Math.cos(p),v,0,0,1),y=w.inverse,q=R.inverse,E=y.transpose.mul(s).mul(y),N=q.transpose.mul(r).mul(q),x=E.m11,D=E.m12,V=E.m13,$=E.m21,re=E.m22,ee=E.m23,O=E.m31,U=E.m32,G=E.m33,j=N.m11,F=N.m12,ae=N.m13,ue=N.m21,ge=N.m22,me=N.m23,ve=N.m31,P=N.m32,ne=N.m33,le=x*re*G-x*ee*U-D*$*G+D*ee*O+V*$*U-V*re*O,he=(x*re*ne-x*ee*P-x*U*me+x*G*ge-D*$*ne+D*ee*ve+D*O*me-D*G*ue+V*$*P-V*re*ve-V*O*ge+V*U*ue+$*U*ae-$*G*F-re*O*ae+re*G*j+ee*O*F-ee*U*j)/le,M=(x*ge*ne-x*me*P-D*ue*ne+D*me*ve+V*ue*P-V*ge*ve-$*F*ne+$*ae*P+re*j*ne-re*ae*ve-ee*j*P+ee*F*ve+O*F*me-O*ae*ge-U*j*me+U*ae*ue+G*j*ge-G*F*ue)/le,W=(j*ge*ne-j*me*P-F*ue*ne+F*me*ve+ae*ue*P-ae*ge*ve)/le;if(he>=0){let te=-3*M+he**2,ce=3*he*W+M*he**2-4*M**2,se=-27*W**2+18*W*he*M+he**2*M**2-4*he**3*W-4*M**3;return!(te>0&&ce<0&&se>0)}else{let te=-3*M+he**2,ce=-27*W**2+18*W*he*M+he**2*M**2-4*he**3*W-4*M**3;return!(te>0&&ce>0)}}d(Vm,"testEllipseEllipse");function $f(n,a){return lo(n,new Wt(a.points()))}d($f,"testEllipseRect");function lo(n,a){let s=n.toMat2().inverse;return a=new Wt(a.pts.map(r=>s.transform(r.sub(n.center)))),Sr(new un(Y(),1),a)}d(lo,"testEllipsePolygon");function Qm(n,a){return n.x===a.x&&n.y===a.y}d(Qm,"testPointPoint");function Km(n,a){return a instanceof K?Qm(a,n.pt):a instanceof un?wr(a,n.pt):a instanceof cn?no(a,n.pt):a instanceof et?Ar(a,n.pt):a instanceof Wt?va(a,n.pt):a instanceof ba?io(a,n.pt):!1}d(Km,"testPointShape");function Zm(n,a){return a instanceof K?no(n,a):a instanceof un?ls(n,a):a instanceof cn?eo(n,a)!=null:a instanceof et?to(a,n):a instanceof Wt?ao(n,a):a instanceof ba?If(a,n):!1}d(Zm,"testLineShape");function Fm(n,a){return a instanceof K?wr(n,a):a instanceof un?Xm(n,a):a instanceof cn?ls(a,n):a instanceof et?Jf(a,n):a instanceof Wt?Sr(n,a):a instanceof ba?fr(a,n):!1}d(Fm,"testCircleShape");function Jm(n,a){return a instanceof K?Ar(n,a):a instanceof un?Jf(n,a):a instanceof cn?to(n,a):a instanceof et?Ff(n,a):a instanceof Wt?Pf(n,a):a instanceof ba?$f(a,n):!1}d(Jm,"testRectShape");function Pm(n,a){return a instanceof K?va(n,a):a instanceof un?Sr(a,n):a instanceof cn?ao(a,n):a instanceof et?Pf(a,n):a instanceof Wt?Wf(a,n):a instanceof ba?lo(a,n):!1}d(Pm,"testPolygonShape");function Wm(n,a){return a instanceof K?io(n,a):a instanceof un?fr(n,a):a instanceof cn?If(n,a):a instanceof et?$f(n,a):a instanceof Wt?lo(n,a):a instanceof ba?Vm(a,n):!1}d(Wm,"testEllipseShape");function kf(n,a,s){let r=n,o=s.p1,f=s.p2,h=a,v=f.sub(o),g=h.cross(v);if(Math.abs(g)<Number.EPSILON)return null;let p=o.sub(r),w=p.cross(v)/g;if(w<=0||w>=1)return null;let R=p.cross(h)/g;if(R<=0||R>=1)return null;let y=v.normal().unit();return a.dot(y)>0&&(y.x*=-1,y.y*=-1),{point:r.add(h.scale(w)),normal:y,fraction:w}}d(kf,"raycastLine");function Im(n,a,s){let r=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY,f;if(n.x!=0){let h=(s.pos.x-n.x)/a.x,v=(s.pos.x+s.width-n.x)/a.x;f=Y(-Math.sign(a.x),0),r=Math.max(r,Math.min(h,v)),o=Math.min(o,Math.max(h,v))}if(n.y!=0){let h=(s.pos.y-n.y)/a.y,v=(s.pos.y+s.height-n.y)/a.y;Math.min(h,v)>r&&(f=Y(0,-Math.sign(a.y))),r=Math.max(r,Math.min(h,v)),o=Math.min(o,Math.max(h,v))}return o>=r&&r>=0&&r<=1?{point:n.add(a.scale(r)),normal:f,fraction:r}:null}d(Im,"raycastRect");function eh(n,a,s){let r=n,o=s.center,f=a,h=f.dot(f),v=r.sub(o),g=2*f.dot(v),p=v.dot(v)-s.radius*s.radius,w=g*g-4*h*p;if(h<=Number.EPSILON||w<0)return null;if(w==0){let R=-g/(2*h);if(R>=0&&R<=1){let y=r.add(f.scale(R));return{point:y,normal:y.sub(o),fraction:R}}}else{let R=(-g+Math.sqrt(w))/(2*h),y=(-g-Math.sqrt(w))/(2*h),q=null;if(R>=0&&R<=1&&(q=R),y>=0&&y<=1&&(q=Math.min(y,q??y)),q!=null){let E=r.add(f.scale(q));return{point:E,normal:E.sub(o).unit(),fraction:q}}}return null}d(eh,"raycastCircle");function $m(n,a,s){let r=s.pts,o=null,f=r[r.length-1];for(let h=0;h<r.length;h++){let v=r[h],g=kf(n,a,new cn(f,v));g&&(!o||o.fraction>g.fraction)&&(o=g),f=v}return o}d($m,"raycastPolygon");function km(n,a,s){let r=s.toMat2(),o=r.inverse,f=o.transform(n.sub(s.center)),h=o.transform(a),v=eh(f,h,new un(Y(),1));if(v){let g=ju.rotation(dt(-s.angle)),p=ju.scale(s.radiusX,s.radiusY).transform(v.point),w=r.transform(v.point).add(s.center),R=w.dist(n)/a.len();return{point:w,normal:g.transform(Y(s.radiusY**2*p.x,s.radiusX**2*p.y)).unit(),fraction:R}}return v}d(km,"raycastEllipse");function e0(n,a,s,r=64){let o=n,f=a.len(),h=a.scale(1/f),v=0,g=Y(Math.floor(n.x),Math.floor(n.y)),p=Y(h.x>0?1:-1,h.y>0?1:-1),w=Y(Math.abs(1/h.x),Math.abs(1/h.y)),R=Y(p.x>0?g.x+1-n.x:n.x-g.x,p.y>0?g.y+1-n.y:n.y-g.y),y=Y(w.x<1/0?w.x*R.x:1/0,w.y<1/0?w.y*R.y:1/0),q=-1;for(;v<=r;){let E=s(g);if(E===!0)return{point:o.add(h.scale(v)),normal:Y(q===0?-p.x:0,q===1?-p.y:0),fraction:v/f,gridPos:g};if(E)return E;y.x<y.y?(g.x+=p.x,v=y.x,y.x+=w.x,q=0):(g.y+=p.y,v=y.y,y.y+=w.y,q=1)}return null}d(e0,"raycastGrid");var Ia,vA=(Ia=class{constructor(a){_(this,"pt");this.pt=a.clone()}transform(a){return new Ia(a.multVec2(this.pt))}bbox(){return new et(this.pt,0,0)}area(){return 0}clone(){return new Ia(this.pt)}collides(a){return Km(this,a)}contains(a){return this.pt.eq(a)}raycast(a,s){return null}random(){return this.pt.clone()}},d(Ia,"Point"),Ia),$a,cn=($a=class{constructor(a,s){_(this,"p1");_(this,"p2");this.p1=a.clone(),this.p2=s.clone()}transform(a){return new $a(a.multVec2(this.p1),a.multVec2(this.p2))}bbox(){return et.fromPoints(this.p1,this.p2)}area(){return this.p1.dist(this.p2)}clone(){return new $a(this.p1,this.p2)}collides(a){return Zm(this,a)}contains(a){return this.collides(a)}raycast(a,s){return kf(a,s,this)}random(){return this.p1.add(this.p2.sub(this.p1).scale(St(1)))}},d($a,"Line"),$a),ka,et=(ka=class{constructor(a,s,r){_(this,"pos");_(this,"width");_(this,"height");this.pos=a.clone(),this.width=s,this.height=r}static fromPoints(a,s){return new ka(a.clone(),s.x-a.x,s.y-a.y)}center(){return new K(this.pos.x+this.width/2,this.pos.y+this.height/2)}points(){return[this.pos,this.pos.add(this.width,0),this.pos.add(this.width,this.height),this.pos.add(0,this.height)]}transform(a){return new Wt(this.points().map(s=>a.multVec2(s)))}bbox(){return this.clone()}area(){return this.width*this.height}clone(){return new ka(this.pos.clone(),this.width,this.height)}distToPoint(a){return Math.sqrt(this.sdistToPoint(a))}sdistToPoint(a){let s=this.pos,r=this.pos.add(this.width,this.height),o=Math.max(s.x-a.x,0,a.x-r.x),f=Math.max(s.y-a.y,0,a.y-r.y);return o*o+f*f}collides(a){return Jm(this,a)}contains(a){return this.collides(a)}raycast(a,s){return Im(a,s,this)}random(){return this.pos.add(St(this.width),St(this.height))}},d(ka,"Rect"),ka),zi,un=(zi=class{constructor(a,s){_(this,"center");_(this,"radius");this.center=a.clone(),this.radius=s}transform(a){return new ba(this.center,this.radius,this.radius).transform(a)}bbox(){return et.fromPoints(this.center.sub(Y(this.radius)),this.center.add(Y(this.radius)))}area(){return this.radius*this.radius*Math.PI}clone(){return new zi(this.center,this.radius)}collides(a){return Fm(this,a)}contains(a){return this.collides(a)}raycast(a,s){return eh(a,s,this)}random(){return this.center.add(K.fromAngle(St(360)).scale(St(this.radius)))}},d(zi,"Circle"),zi),Hn,ba=(Hn=class{constructor(a,s,r,o=0){_(this,"center");_(this,"radiusX");_(this,"radiusY");_(this,"angle");this.center=a.clone(),this.radiusX=s,this.radiusY=r,this.angle=o}static fromMat2(a){let s=a.inverse,r=s.transpose.mul(s),[o,f]=r.eigenvalues,[h,v]=r.eigenvectors(o,f),[g,p]=[1/Math.sqrt(o),1/Math.sqrt(f)];return g>p?new Hn(Y(),g,p,ei(Math.atan2(-h[1],h[0]))):new Hn(Y(),p,g,ei(Math.atan2(-v[1],v[0])))}toMat2(){let a=dt(this.angle),s=Math.cos(a),r=Math.sin(a);return new ju(s*this.radiusX,-r*this.radiusY,r*this.radiusX,s*this.radiusY)}transform(a){if(this.angle==0&&a.getRotation()==0)return new Hn(a.multVec2(this.center),a.m[0]*this.radiusX,a.m[5]*this.radiusY);{let s=this.toMat2(),r=a.getRotation(),o=a.getScale();s=rr.fromMat2(s).scale(o.x,o.y).rotate(r).toMat2();let f=Hn.fromMat2(s);return f.center=a.multVec2(this.center),f}}bbox(){if(this.angle==0)return et.fromPoints(this.center.sub(Y(this.radiusX,this.radiusY)),this.center.add(Y(this.radiusX,this.radiusY)));{let a=dt(this.angle),s=Math.cos(a),r=Math.sin(a),o=this.radiusX*s,f=this.radiusX*r,h=this.radiusY*r,v=this.radiusY*s,g=Math.sqrt(o*o+h*h),p=Math.sqrt(f*f+v*v);return et.fromPoints(this.center.sub(Y(g,p)),this.center.add(Y(g,p)))}}area(){return this.radiusX*this.radiusY*Math.PI}clone(){return new Hn(this.center,this.radiusX,this.radiusY,this.angle)}collides(a){return Wm(this,a)}contains(a){a=a.sub(this.center);let s=dt(this.angle),r=Math.cos(s),o=Math.sin(s),f=a.x*r+a.y*o,h=-a.x*o+a.y*r;return f*f/(this.radiusX*this.radiusX)+h*h/(this.radiusY*this.radiusY)<1}raycast(a,s){return km(a,s,this)}random(){return this.center}},d(Hn,"Ellipse"),Hn);function t0(n,a,s,r){let o=a.sub(n),f=r.sub(s),h=o.cross(f);return h<1e-5&&h>-1e-5||(h=s.sub(n).cross(f)/h,h<0||h>1)?null:n.add(o.scale(h))}d(t0,"segmentLineIntersection");var Jn,Wt=(Jn=class{constructor(a){_(this,"pts");if(a.length<3)throw new Error("Polygons should have at least 3 vertices");this.pts=a}transform(a){return new Jn(this.pts.map(s=>a.multVec2(s)))}bbox(){let a=Y(Number.MAX_VALUE),s=Y(-Number.MAX_VALUE);for(let r of this.pts)a.x=Math.min(a.x,r.x),s.x=Math.max(s.x,r.x),a.y=Math.min(a.y,r.y),s.y=Math.max(s.y,r.y);return et.fromPoints(a,s)}area(){let a=0,s=this.pts.length;for(let r=0;r<s;r++){let o=this.pts[r],f=this.pts[(r+1)%s];a+=o.x*f.y*.5,a-=f.x*o.y*.5}return Math.abs(a)}clone(){return new Jn(this.pts.map(a=>a.clone()))}collides(a){return Pm(this,a)}contains(a){return this.collides(a)}raycast(a,s){return $m(a,s,this)}random(){return Y()}cut(a,s){new cn(a,s);let r=[],o=[],f=s.sub(a),h=this.pts[this.pts.length-1],v=h.sub(a),g=f.cross(v)>0;return this.pts.forEach(p=>{v=p.sub(a);let w=f.cross(v)>0;if(g!=w){let R=t0(h,p,a,s);r.push(R),o.push(R),g=w}(w?r:o).push(p),h=p}),[r.length?new Jn(r):null,o.length?new Jn(o):null]}},d(Jn,"Polygon"),Jn);function n0(n,a,s,r){let o=r*r,f=1-r,h=f*f;return n.scale(h).add(a.scale(2*f*r)).add(s.scale(o))}d(n0,"evaluateQuadratic");function a0(n,a,s,r){let o=1-r;return a.sub(n).scale(2*o).add(s.sub(a).scale(2*r))}d(a0,"evaluateQuadraticFirstDerivative");function i0(n,a,s,r){return s.sub(a.scale(2)).add(n).scale(2)}d(i0,"evaluateQuadraticSecondDerivative");function so(n,a,s,r,o){let f=o*o,h=f*o,v=1-o,g=v*v,p=g*v;return n.scale(p).add(a.scale(3*g*o)).add(s.scale(3*v*f)).add(r.scale(h))}d(so,"evaluateBezier");function l0(n,a,s,r,o){let f=o*o,h=1-o,v=h*h;return a.sub(n).scale(3*v).add(s.sub(a).scale(6*h*o)).add(r.sub(s).scale(3*f))}d(l0,"evaluateBezierFirstDerivative");function s0(n,a,s,r,o){let f=1-o;return s.sub(a.scale(2)).add(n).scale(6*f).add(r.sub(s.scale(2)).add(a).scale(6*o))}d(s0,"evaluateBezierSecondDerivative");function r0(n,a,s,r,o){let f=.5*(((-o+2)*o-1)*o),h=.5*((3*o-5)*o*o+2),v=.5*(((-3*o+4)*o+1)*o),g=.5*((o-1)*o*o);return n.scale(f).add(a.scale(h)).add(s.scale(v)).add(r.scale(g))}d(r0,"evaluateCatmullRom");function u0(n,a,s,r,o){let f=.5*((-3*o+4)*o-1),h=.5*((9*o-10)*o),v=.5*((-9*o+8)*o+1),g=.5*((3*o-2)*o);return n.scale(f).add(a.scale(h)).add(s.scale(v)).add(r.scale(g))}d(u0,"evaluateCatmullRomFirstDerivative");function o0(n){let a=th(n),s=a(1);return r=>{let o=r*s,f=a(o,!0);return n(f)}}d(o0,"normalizedCurve");function th(n,a=10,s=10){let r=[0],o=[0],f=1/(a-1)/s,h=0,v=n(0),g=0;for(let p=1;p<a;p++){for(let w=0;w<s;w++){g+=f;let R=n(g),y=R.dist(v);h+=y,v=R}r[p]=h,o[p]=g}return o[a-1]=1,(p,w=!1)=>{if(w){let R=p;if(R<=0)return 0;if(R>=h)return 1;let y=0;for(;r[y+1]<R;)y++;let q=o[y],E=o[y+1],N=r[y],x=r[y+1],D=(R-N)/(x-N);return q+(E-q)*D}else{if(p<=0)return 0;if(p>=1)return r[a-1];let R=0;for(;o[R+1]<p;)R++;let y=o[R],q=o[R+1],E=r[R],N=r[R+1],x=(p-y)/(q-y);return E+(N-E)*x}}}d(th,"curveLengthApproximation");function ss(n,a,s,r){let o=2*n+a-2*r+s,f=-3*n+3*r-2*a-s,h=a,v=n;return g=>{let p=g*g,w=p*g;return o*w+f*p+h*g+v}}d(ss,"hermite");function nh(n,a,s,r,o,f=ss){let h=f(a.x,(1-o)*(s.x-n.x),(1-o)*(r.x-a.x),s.x),v=f(a.y,(1-o)*(s.y-n.y),(1-o)*(r.y-a.y),s.y);return g=>new K(h(g),v(g))}d(nh,"cardinal");function hr(n,a,s,r,o=ss){return nh(n,a,s,r,.5,o)}d(hr,"catmullRom");function c0(n,a,s,r,o=ss){return hr(r.add(n.sub(a).scale(6)),n,r,n.add(r.sub(s).scale(6)),o)}d(c0,"bezier");function f0(n,a,s,r,o,f,h,v=ss){let g=v(a.x,.5*(1-o)*(1+h)*(1+f)*(a.x-n.x)+.5*(1-o)*(1-h)*(1-f)*(s.x-a.x),.5*(1-o)*(1+h)*(1-f)*(s.x-a.x)+.5*(1-o)*(1-h)*(1+f)*(r.x-s.x),s.x),p=v(a.y,.5*(1-o)*(1+h)*(1+f)*(a.y-n.y)+.5*(1-o)*(1-h)*(1-f)*(s.y-a.y),.5*(1-o)*(1+h)*(1-f)*(s.y-a.y)+.5*(1-o)*(1-h)*(1+f)*(r.y-s.y),s.y);return w=>new K(g(w),p(w))}d(f0,"kochanekBartels");function h0(n,a,s,r){let o=2*n+a-2*r+s,f=-3*n+3*r-2*a+s,h=a;return v=>{let g=v*v;return 3*o*g+2*f*v+h}}d(h0,"hermiteFirstDerivative");function ql(n){return 0<=n&&n<=1}d(ql,"inZeroOneDomain");function Hu(n,a){return Math.abs(n-a)<=Number.EPSILON}d(Hu,"approximately");function Dl(n){return n<0?-Math.pow(-n,1/3):Math.pow(n,1/3)}d(Dl,"cubeRoot");function d0(n,a,s,r){let o=3*n-6*a+3*s,f=-3*n+3*a,h=n,v=-n+3*a-3*s+r;if(Hu(v,0)){if(Hu(o,0))return Hu(f,0)?[]:[-h/f].filter(ql);let x=Math.sqrt(f*f-4*o*h),D=2*o;return[(x-f)/D,(-f-x)/D].filter(ql)}o/=v,f/=v,h/=v;let g=(3*f-o*o)/3,p=g/3,w=(2*o*o*o-9*o*f+27*h)/27,R=w/2,y=R*R+p*p*p;if(y<0){let x=-g/3,D=x*x*x,V=Math.sqrt(D),$=-w/(2*V),re=$<-1?-1:$>1?1:$,ee=Math.acos(re),O=2*Dl(V),U=O*Math.cos(ee/3)-o/3,G=O*Math.cos((ee+2*Math.PI)/3)-o/3,j=O*Math.cos((ee+4*Math.PI)/3)-o/3;return[U,G,j].filter(ql)}if(y===0){let x=R<0?Dl(-R):-Dl(R),D=2*x-o/3,V=-x-o/3;return[D,V].filter(ql)}let q=Math.sqrt(y),E=Dl(q-R),N=Dl(q+R);return[E-N-o/3].filter(ql)}d(d0,"getCubicRoots");function g0(n,a,s,r,o){let f=d0(n.x-o,a.x-o,s.x-o,r.x-o);return f.length>0?so(n,a,s,r,f[0]).y:NaN}d(g0,"cubicBezierYforX");function p0(n){if(!n||n.length==0)throw new Error("Need at least one point for easingLinear.");let a=n.length;return s=>{if(s<=0||n.length==1||s<=n[0].x)return n[0].y;for(let r=0;r<a;r++)if(n[r].x>=s)return Nn(s,n[r-1].x,n[r].x,n[r-1].y,n[r].y);return n[n.length-1].y}}d(p0,"easingLinear");function m0(n,a){return s=>g0(Y(0,0),n,a,Y(1,1),s)}d(m0,"easingCubicBezier");function y0(n,a="jump-end"){let s=1/n,r=a=="jump-start"||a=="jump-both",o=a=="jump-end"||a=="jump-both",f=1/(n+(o?1:0)),h=r?f:0;return v=>{let g=Math.floor(v/s);return h+g*f}}d(y0,"easingSteps");function v0(n,a){let s=Number.MAX_VALUE,r={normal:Y(0),distance:0};for(let o of[n,a])for(let f=0;f<o.pts.length;f++){let h=o.pts[f],v=o.pts[(f+1)%o.pts.length].sub(h).normal().unit(),g=Number.MAX_VALUE,p=-Number.MAX_VALUE;for(let q=0;q<n.pts.length;q++){let E=n.pts[q].dot(v);g=Math.min(g,E),p=Math.max(p,E)}let w=Number.MAX_VALUE,R=-Number.MAX_VALUE;for(let q=0;q<a.pts.length;q++){let E=a.pts[q].dot(v);w=Math.min(w,E),R=Math.max(R,E)}let y=Math.min(p,R)-Math.max(g,w);if(y<0)return null;if(y<Math.abs(s)){let q=R-g,E=w-p;s=Math.abs(q)<Math.abs(E)?q:E,r.normal=v,r.distance=s}}return r}d(v0,"sat");function ah(n,a,s){return(a.x-n.x)*(s.y-n.y)-(a.y-n.y)*(s.x-n.x)>=0}d(ah,"isOrientedCcw");function b0(n){let a=0,s=n[n.length-1];for(let r=0;r<n.length;r++)a+=(n[r].x-s.x)*(n[r].y+s.y),s=n[r];return a<0}d(b0,"isOrientedCcwPolygon");function Nu(n,a,s,r){let o=r.x-s.x,f=r.y-s.y,h=o*(n.y-s.y)-f*(n.x-s.x),v=o*(a.y-s.y)-f*(a.x-s.x);return h*v>=0}d(Nu,"onSameSide");function A0(n,a,s,r){return Nu(n,a,s,r)&&Nu(n,s,a,r)&&Nu(n,r,a,s)}d(A0,"pointInTriangle");function w0(n,a,s,r){for(let o of n)if(o!==a&&o!==s&&o!==r&&A0(o,a,s,r))return!0;return!1}d(w0,"someInTriangle");function S0(n,a,s,r){return ah(n,a,s)&&!w0(r,n,a,s)}d(S0,"isEar");function ih(n){if(n.length<3)return[];if(n.length==3)return[n];let a=[],s=[],r=0;for(let R=0;R<n.length;R++){let y=n[r],q=n[R];(q.x<y.x||q.x==y.x&&q.y<y.y)&&(r=r),a[R]=R+1,s[R]=R-1}a[a.length-1]=0,s[0]=s.length-1,b0(n)||([a,s]=[s,a]);let o=[];for(let R=0;R<n.length;++R)ah(n[s[R]],n[R],n[a[R]])||o.push(n[R]);let f=[],h=n.length,v=1,g=0,p,w;for(;h>3;){p=a[v],w=s[v];let R=n[w],y=n[v],q=n[p];if(S0(R,y,q,o))f.push([R,y,q]),a[w]=p,s[p]=w,o.splice(o.indexOf(y),1),--h,g=0;else if(++g>h)return[];v=p}return p=a[v],w=s[v],f.push([n[w],n[v],n[p]]),f}d(ih,"triangulate");function x0(n){if(n.length<3)return!1;let a=n.length-2,s=n.length-1,r=0,o=n[s].sub(n[a]),f=n[r].sub(n[s]),h=o.cross(f);for(;r+1<n.length;)if(a=s,s=r,r++,o=n[s].sub(n[a]),f=n[r].sub(n[s]),o.cross(f)*h<0)return!1;return!0}d(x0,"isConvex");var E0=" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",ro="topleft",bA="monospace",Xu="monospace",Bf="linear",lh=[{name:"a_pos",size:2},{name:"a_uv",size:2},{name:"a_color",size:4}],AA=lh.reduce((n,a)=>n+a.size,0),M0=2048,wA=M0*4*AA,SA=M0*6,xA=`
attribute vec2 a_pos;
attribute vec2 a_uv;
attribute vec4 a_color;

varying vec2 v_pos;
varying vec2 v_uv;
varying vec4 v_color;

vec4 def_vert() {
	return vec4(a_pos, 0.0, 1.0);
}

{{user}}

void main() {
	vec4 pos = vert(a_pos, a_uv, a_color);
	v_pos = a_pos;
	v_uv = a_uv;
	v_color = a_color;
	gl_Position = pos;
}
`,EA=`
precision mediump float;

varying vec2 v_pos;
varying vec2 v_uv;
varying vec4 v_color;

uniform sampler2D u_tex;

vec4 def_frag() {
	vec4 texColor = texture2D(u_tex, v_uv);
	return vec4((v_color.rgb * texColor.rgb), texColor.a) * v_color.a;
}

{{user}}

void main() {
	gl_FragColor = frag(v_pos, v_uv, v_color, u_tex);
	if (gl_FragColor.a == 0.0) {
		discard;
	}
}
`,Cf=`
vec4 vert(vec2 pos, vec2 uv, vec4 color) {
	return def_vert();
}
`,Uf=`
vec4 frag(vec2 pos, vec2 uv, vec4 color, sampler2D tex) {
	return def_frag();
}
`,MA=new Set(["id","require"]),TA=new Set(["add","fixedUpdate","update","draw","destroy","inspect","drawInspect"]),RA=200,qA=640,DA=65536,T0=Symbol.for("kaplay.cancel"),Hl,R0=(Hl=class extends Map{constructor(){super(...arguments);_(this,"lastID",0)}push(s){let r=this.lastID;return this.set(r,s),this.lastID++,r}pushd(s){let r=this.push(s);return()=>this.delete(r)}},d(Hl,"Registry"),Hl),_i,Li=(_i=class{constructor(a){_(this,"paused",!1);_(this,"cancel");this.cancel=a}static join(a){let s=new _i(()=>a.forEach(r=>r.cancel()));return Object.defineProperty(s,"paused",{get:d(()=>a[0].paused,"get"),set:d(r=>a.forEach(o=>o.paused=r),"set")}),s.paused=!1,s}static replace(a,s){return a.cancel=()=>s.cancel(),s.paused=a.paused,Object.defineProperty(a,"paused",{get:d(()=>s.paused,"get"),set:d(r=>s.paused=r,"set")}),a}},d(_i,"KEventController"),_i),Nl,Ft=(Nl=class{constructor(){_(this,"cancellers",new WeakMap);_(this,"handlers",new R0)}add(a){function s(...f){if(!o.paused)return a(...f)}d(s,"handler");let r=this.handlers.pushd(s),o=new Li(r);return this.cancellers.set(s,r),o}addOnce(a){let s=this.add((...r)=>{s.cancel(),a(...r)});return s}next(){return new Promise(a=>this.addOnce(a))}trigger(...a){this.handlers.forEach(s=>{let r=s(...a),o;r===T0&&(o=this.cancellers.get(s))&&o()})}numListeners(){return this.handlers.size}clear(){this.handlers.clear()}},d(Nl,"KEvent"),Nl),Gl,dr=(Gl=class{constructor(){_(this,"handlers",{});_(this,"registers",{})}on(a,s){return this.handlers[a]||(this.handlers[a]=new Ft),this.handlers[a].add(s)}onOnce(a,s){let r=this.on(a,(...o)=>{r.cancel(),s(...o)});return r}next(a){return new Promise(s=>{this.onOnce(a,(...r)=>s(r[0]))})}trigger(a,...s){this.handlers[a]&&this.handlers[a].trigger(...s)}remove(a){delete this.handlers[a]}clear(){this.handlers={}}numListeners(a){var s;return((s=this.handlers[a])==null?void 0:s.numListeners())??0}},d(Gl,"KEventHandler"),Gl),OA=d(n=>n[0]instanceof De,"arrayIsColor"),BA=d(n=>n[0]instanceof K,"arrayIsVec2"),CA=d(n=>typeof n[0]=="number","arrayIsNumber"),Ll,q0=(Ll=class{constructor(a=(s,r)=>s<r){_(this,"_items");_(this,"_compareFn");this._compareFn=a,this._items=[]}insert(a){this._items.push(a),this.moveUp(this._items.length-1)}remove(){if(this._items.length===0)return null;let a=this._items[0],s=this._items.pop();return this._items.length!==0&&(this._items[0]=s,this.moveDown(0)),a}clear(){this._items.splice(0,this._items.length)}moveUp(a){for(;a>0;){let s=Math.floor((a-1)/2);if(!this._compareFn(this._items[a],this._items[s])&&this._items[a]>=this._items[s])break;this.swap(a,s),a=s}}moveDown(a){for(;a<Math.floor(this._items.length/2);){let s=2*a+1;if(s<this._items.length-1&&!this._compareFn(this._items[s],this._items[s+1])&&++s,this._compareFn(this._items[a],this._items[s]))break;this.swap(a,s),a=s}}swap(a,s){[this._items[a],this._items[s]]=[this._items[s],this._items[a]]}get length(){return this._items.length}},d(Ll,"BinaryHeap"),Ll);function D0(n){let a=window.atob(n),s=a.length,r=new Uint8Array(s);for(let o=0;o<s;o++)r[o]=a.charCodeAt(o);return r.buffer}d(D0,"base64ToArrayBuffer");function O0(n){return D0(n.split(",")[1])}d(O0,"dataURLToArrayBuffer");function uo(n,a){let s=document.createElement("a");s.href=a,s.download=n,s.click()}d(uo,"download");function sh(n,a){uo(n,"data:text/plain;charset=utf-8,"+a)}d(sh,"downloadText");function B0(n,a){sh(n,JSON.stringify(a))}d(B0,"downloadJSON");function zf(n,a){let s=URL.createObjectURL(a);uo(n,s),URL.revokeObjectURL(s)}d(zf,"downloadBlob");var C0=d(n=>n.match(/^data:\w+\/\w+;base64,.+/),"isDataURL"),UA=d(n=>n.split(".").slice(0,-1).join("."),"getFileName");function oo(n,a){if(n===a)return!0;let s=typeof n,r=typeof a;if(s!==r)return!1;if(s==="object"&&r==="object"&&n!==null&&a!==null){if(Array.isArray(n)!==Array.isArray(a))return!1;let o=Object.keys(n),f=Object.keys(a);if(o.length!==f.length)return!1;for(let h of o){let v=n[h],g=a[h];if(!oo(v,g))return!1}return!0}return!1}d(oo,"deepEq");var Om=new Set,zA=d(n=>n instanceof Error?n.message:String(n),"getErrorMessage");function U0(n){Om.has(n)||(Om.add(n),console.warn(n))}d(U0,"warn");function Yi(n,a){U0(`${n} is deprecated. Use ${a} instead.`)}d(Yi,"deprecateMsg");function Vu(n,a){return Number(n.toFixed(a))}d(Vu,"toFixed");function Pe(n,a){return(...s)=>{let r=s.length;if(r===n.length)return n(...s);if(r===a.length)return a(...s)}}d(Pe,"overload2");var _A=Object.freeze([776,2359,2367,2984,3007,3021,3633,3635,3648,3657,4352,4449,4520]);function z0(n){if(typeof n!="string")throw new TypeError("string cannot be undefined or null");let a=[],s=0,r=0;for(;s<n.length;){if(r+=_0(s+r,n),X0(n[s+r])&&r++,L0(n[s+r])&&r++,Y0(n[s+r])&&r++,V0(n[s+r])){r++;continue}a.push(n.substring(s,s+r)),s+=r,r=0}return a}d(z0,"runes");function _0(n,a){let s=a[n];if(!H0(s)||n===a.length-1)return 1;let r=s+a[n+1],o=a.substring(n+2,n+5);return _f(r)&&_f(o)?4:N0(r)&&j0(o)?a.slice(n).indexOf(String.fromCodePoint(917631))+2:G0(o)?4:2}d(_0,"nextUnits");function H0(n){return n&&si(n[0].charCodeAt(0),55296,56319)}d(H0,"isFirstOfSurrogatePair");function _f(n){return si(co(n),127462,127487)}d(_f,"isRegionalIndicator");function N0(n){return si(co(n),127988,127988)}d(N0,"isSubdivisionFlag");function G0(n){return si(co(n),127995,127999)}d(G0,"isFitzpatrickModifier");function L0(n){return typeof n=="string"&&si(n.charCodeAt(0),65024,65039)}d(L0,"isVariationSelector");function Y0(n){return typeof n=="string"&&si(n.charCodeAt(0),8400,8447)}d(Y0,"isDiacriticalMark");function j0(n){let a=n.codePointAt(0);return typeof n=="string"&&typeof a=="number"&&si(a,917504,917631)}d(j0,"isSupplementarySpecialpurposePlane");function X0(n){return typeof n=="string"&&_A.includes(n.charCodeAt(0))}d(X0,"isGrapheme");function V0(n){return typeof n=="string"&&n.charCodeAt(0)===8205}d(V0,"isZeroWidthJoiner");function co(n){let a=n.charCodeAt(0)-55296,s=n.charCodeAt(1)-56320;return(a<<10)+s+65536}d(co,"codePointFromSurrogatePair");function si(n,a,s){return n>=a&&n<=s}d(si,"betweenInclusive");var Mn=d((n,a)=>Array.isArray(n)?n==null?void 0:n.includes(a):n===a,"isEqOrIncludes"),Zn=d((n,a)=>Array.isArray(a)?a.some(s=>n.has(s)):n.has(a),"setHasOrIncludes"),Uu=d((n,a,s)=>{var r;n.has(a)?(r=n.get(a))==null||r.push(s):n.set(a,[s])},"mapAddOrPush"),HA=(()=>{let n=0;return()=>n++})(),NA={"Joy-Con L+R (STANDARD GAMEPAD Vendor: 057e Product: 200e)":{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",6:"ltrigger",7:"rtrigger",8:"select",9:"start",10:"lstick",11:"rstick",12:"dpad-up",13:"dpad-down",14:"dpad-left",15:"dpad-right",16:"home",17:"capture"},sticks:{left:{x:0,y:1},right:{x:2,y:3}}},"Joy-Con (L) (STANDARD GAMEPAD Vendor: 057e Product: 2006)":{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",9:"select",10:"lstick",16:"start"},sticks:{left:{x:0,y:1}}},"Joy-Con (R) (STANDARD GAMEPAD Vendor: 057e Product: 2007)":{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",9:"start",10:"lstick",16:"select"},sticks:{left:{x:0,y:1}}},"Pro Controller (STANDARD GAMEPAD Vendor: 057e Product: 2009)":{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",6:"ltrigger",7:"rtrigger",8:"select",9:"start",10:"lstick",11:"rstick",12:"dpad-up",13:"dpad-down",14:"dpad-left",15:"dpad-right",16:"home",17:"capture"},sticks:{left:{x:0,y:1},right:{x:2,y:3}}},default:{buttons:{0:"south",1:"east",2:"west",3:"north",4:"lshoulder",5:"rshoulder",6:"ltrigger",7:"rtrigger",8:"select",9:"start",10:"lstick",11:"rstick",12:"dpad-up",13:"dpad-down",14:"dpad-left",15:"dpad-right",16:"home"},sticks:{left:{x:0,y:1},right:{x:2,y:3}}}},GA=d(()=>Ui.lastInputDevice,"getLastInputDeviceType"),LA=d(()=>{let n=Ui.buttons;for(let a in n){let s=n[a].keyboard&&[n[a].keyboard].flat(),r=n[a].keyboardCode&&[n[a].keyboardCode].flat(),o=n[a].gamepad&&[n[a].gamepad].flat(),f=n[a].mouse&&[n[a].mouse].flat();s&&s.forEach(h=>{Uu(Ui.buttonsByKey,h,a)}),r&&r.forEach(h=>{Uu(Ui.buttonsByKeyCode,h,a)}),o&&o.forEach(h=>{Uu(Ui.buttonsByGamepad,h,a)}),f&&f.forEach(h=>{Uu(Ui.buttonsByMouse,h,a)})}},"parseButtonBindings"),Yl,ur=(Yl=class{constructor(){_(this,"pressed",new Set([]));_(this,"pressedRepeat",new Set([]));_(this,"released",new Set([]));_(this,"down",new Set([]))}update(){this.pressed.clear(),this.released.clear(),this.pressedRepeat.clear()}press(a){this.pressed.add(a),this.pressedRepeat.add(a),this.down.add(a)}pressRepeat(a){this.pressedRepeat.add(a)}release(a){this.down.delete(a),this.pressed.delete(a),this.released.add(a)}},d(Yl,"ButtonState"),Yl),jl,YA=(jl=class{constructor(){_(this,"buttonState",new ur);_(this,"stickState",new Map)}},d(jl,"GamepadState"),jl),Xl,jA=(Xl=class{constructor(){_(this,"dts",[]);_(this,"timer",0);_(this,"fps",0)}tick(a){this.dts.push(a),this.timer+=a,this.timer>=1&&(this.timer=0,this.fps=Math.round(1/(this.dts.reduce((s,r)=>s+r)/this.dts.length)),this.dts=[])}},d(Xl,"FPSCounter"),Xl),Ui,Bm=NA,XA=d(n=>{let a=n.buttons??{};return{canvas:n.canvas,buttons:a,buttonsByKey:new Map,buttonsByMouse:new Map,buttonsByGamepad:new Map,buttonsByKeyCode:new Map,loopID:null,stopped:!1,dt:0,fixedDt:1/50,restDt:0,time:0,realTime:0,fpsCounter:new jA,timeScale:1,skipTime:!1,isHidden:!1,numFrames:0,mousePos:new K(0),mouseDeltaPos:new K(0),keyState:new ur,mouseState:new ur,mergedGamepadState:new YA,gamepadStates:new Map,lastInputDevice:null,buttonState:new ur,gamepads:[],charInputted:[],isMouseMoved:!1,lastWidth:n.canvas.offsetWidth,lastHeight:n.canvas.offsetHeight,events:new dr}},"initAppState"),VA=d(n=>{if(!n.canvas)throw new Error("Please provide a canvas");let a=XA(n);Ui=a,LA();function s(){return a.dt*a.timeScale}d(s,"dt");function r(){return a.fixedDt*a.timeScale}d(r,"fixedDt");function o(){return a.restDt*a.timeScale}d(o,"restDt");function f(){return a.isHidden}d(f,"isHidden");function h(){return a.time}d(h,"time");function v(){return a.fpsCounter.fps}d(v,"fps");function g(){return a.numFrames}d(g,"numFrames");function p(){return a.canvas.toDataURL()}d(p,"screenshot");function w(T){a.canvas.style.cursor=T}d(w,"setCursor");function R(){return a.canvas.style.cursor}d(R,"getCursor");function y(T){if(T)try{let X=a.canvas.requestPointerLock();X.catch&&X.catch(J=>console.error(J))}catch(X){console.error(X)}else document.exitPointerLock()}d(y,"setCursorLocked");function q(){return!!document.pointerLockElement}d(q,"isCursorLocked");function E(T){T.requestFullscreen?T.requestFullscreen():T.webkitRequestFullscreen&&T.webkitRequestFullscreen()}d(E,"enterFullscreen");function N(){document.exitFullscreen?document.exitFullscreen():document.webkitExitFullScreen&&document.webkitExitFullScreen()}d(N,"exitFullscreen");function x(T=!0){T?E(a.canvas):N()}d(x,"setFullscreen");function D(){return document.fullscreenElement===a.canvas||document.webkitFullscreenElement===a.canvas}d(D,"isFullscreen");function V(){a.stopped=!0;let T=Object.entries(Nt),X=Object.entries(fs),J=Object.entries(Ki);for(let[ie,be]of T)a.canvas.removeEventListener(ie,be);for(let[ie,be]of X)document.removeEventListener(ie,be);for(let[ie,be]of J)window.removeEventListener(ie,be);xa.disconnect()}d(V,"quit");function $(T,X){a.loopID!==null&&cancelAnimationFrame(a.loopID);let J=0,ie=0,be=d(Qe=>{if(a.stopped)return;if(document.visibilityState!=="visible"){a.loopID=requestAnimationFrame(be);return}let pt=Qe/1e3,Ie=Math.min(pt-a.realTime,.25),hn=n.maxFPS?1/n.maxFPS:0;if(a.realTime=pt,ie+=Ie,ie>hn){if(!a.skipTime){for(J+=ie,a.dt=a.fixedDt,a.restDt=0;J>a.fixedDt;)J-=a.fixedDt,J<a.fixedDt&&(a.restDt=J),T();a.restDt=J,a.dt=ie,a.time+=s(),a.fpsCounter.tick(a.dt)}ie=0,a.skipTime=!1,a.numFrames++,X(qn,Dt)}a.loopID=requestAnimationFrame(be)},"frame");be(0)}d($,"run");function re(){return"ontouchstart"in window||navigator.maxTouchPoints>0}d(re,"isTouchscreen");function ee(){return a.mousePos.clone()}d(ee,"mousePos");function O(){return a.mouseDeltaPos.clone()}d(O,"mouseDeltaPos");function U(T="left"){return a.mouseState.pressed.has(T)}d(U,"isMousePressed");function G(T="left"){return a.mouseState.down.has(T)}d(G,"isMouseDown");function j(T="left"){return a.mouseState.released.has(T)}d(j,"isMouseReleased");function F(){return a.isMouseMoved}d(F,"isMouseMoved");function ae(T){return T===void 0?a.keyState.pressed.size>0:Zn(a.keyState.pressed,T)}d(ae,"isKeyPressed");function ue(T){return T===void 0?a.keyState.pressedRepeat.size>0:Zn(a.keyState.pressedRepeat,T)}d(ue,"isKeyPressedRepeat");function ge(T){return T===void 0?a.keyState.down.size>0:Zn(a.keyState.down,T)}d(ge,"isKeyDown");function me(T){return T===void 0?a.keyState.released.size>0:Zn(a.keyState.released,T)}d(me,"isKeyReleased");function ve(T){return T===void 0?a.mergedGamepadState.buttonState.pressed.size>0:Zn(a.mergedGamepadState.buttonState.pressed,T)}d(ve,"isGamepadButtonPressed");function P(T){return T===void 0?a.mergedGamepadState.buttonState.down.size>0:Zn(a.mergedGamepadState.buttonState.down,T)}d(P,"isGamepadButtonDown");function ne(T){return T===void 0?a.mergedGamepadState.buttonState.released.size>0:Zn(a.mergedGamepadState.buttonState.released,T)}d(ne,"isGamepadButtonReleased");function le(T){return T===void 0?a.buttonState.pressed.size>0:Zn(a.buttonState.pressed,T)}d(le,"isButtonPressed");function he(T){return T===void 0?a.buttonState.down.size>0:Zn(a.buttonState.down,T)}d(he,"isButtonDown");function M(T){return T===void 0?a.buttonState.released.size>0:Zn(a.buttonState.released,T)}d(M,"isButtonReleased");function W(T){var X;return(X=a.buttons)==null?void 0:X[T]}d(W,"getButton");function te(T,X){a.buttons[T]={...a.buttons[T],...X}}d(te,"setButton");function ce(T){a.buttonState.press(T),a.events.trigger("buttonPress",T)}d(ce,"pressButton");function se(T){a.buttonState.release(T),a.events.trigger("buttonRelease",T)}d(se,"releaseButton");function Ee(T){return a.events.on("resize",T)}d(Ee,"onResize");let we=Pe(T=>a.events.on("keyDown",T),(T,X)=>a.events.on("keyDown",J=>Mn(T,J)&&X(J))),st=Pe(T=>a.events.on("keyPress",X=>T(X)),(T,X)=>a.events.on("keyPress",J=>Mn(T,J)&&X(J))),Oe=Pe(T=>a.events.on("keyPressRepeat",T),(T,X)=>a.events.on("keyPressRepeat",J=>Mn(T,J)&&X(J))),Fe=Pe(T=>a.events.on("keyRelease",T),(T,X)=>a.events.on("keyRelease",J=>Mn(T,J)&&X(J))),Ne=Pe(T=>a.events.on("mouseDown",X=>T(X)),(T,X)=>a.events.on("mouseDown",J=>Mn(T,J)&&X(J))),rt=Pe(T=>a.events.on("mousePress",X=>T(X)),(T,X)=>a.events.on("mousePress",J=>Mn(T,J)&&X(J))),Yn=Pe(T=>a.events.on("mouseRelease",X=>T(X)),(T,X)=>a.events.on("mouseRelease",J=>J===T&&X(J)));function qt(T){return a.events.on("mouseMove",()=>T(ee(),O()))}d(qt,"onMouseMove");function de(T){return a.events.on("charInput",T)}d(de,"onCharInput");function Ae(T){return a.events.on("touchStart",T)}d(Ae,"onTouchStart");function Se(T){return a.events.on("touchMove",T)}d(Se,"onTouchMove");function Le(T){return a.events.on("touchEnd",T)}d(Le,"onTouchEnd");function Je(T){return a.events.on("scroll",T)}d(Je,"onScroll");function Ce(T){return a.events.on("hide",T)}d(Ce,"onHide");function gt(T){return a.events.on("show",T)}d(gt,"onShow");let fn=Pe(T=>a.events.on("gamepadButtonPress",(X,J)=>T(X,J)),(T,X)=>a.events.on("gamepadButtonPress",(J,ie)=>Mn(T,J)&&X(J,ie))),us=Pe(T=>a.events.on("gamepadButtonDown",(X,J)=>T(X,J)),(T,X)=>a.events.on("gamepadButtonDown",(J,ie)=>Mn(T,J)&&X(J,ie))),os=Pe(T=>a.events.on("gamepadButtonRelease",(X,J)=>T(X,J)),(T,X)=>a.events.on("gamepadButtonRelease",(J,ie)=>Mn(T,J)&&X(J,ie)));function _t(T,X){return a.events.on("gamepadStick",(J,ie,be)=>J===T&&X(ie,be))}d(_t,"onGamepadStick");function Qi(T){a.events.on("gamepadConnect",T)}d(Qi,"onGamepadConnect");function wa(T){a.events.on("gamepadDisconnect",T)}d(wa,"onGamepadDisconnect");function jt(T){return a.mergedGamepadState.stickState.get(T)||new K(0)}d(jt,"getGamepadStick");function Xt(){return[...a.charInputted]}d(Xt,"charInputted");function Sa(){return[...a.gamepads]}d(Sa,"getGamepads");let Ht=Pe(T=>a.events.on("buttonPress",X=>T(X)),(T,X)=>a.events.on("buttonPress",J=>Mn(T,J)&&X(J))),ui=Pe(T=>a.events.on("buttonDown",X=>T(X)),(T,X)=>a.events.on("buttonDown",J=>Mn(T,J)&&X(J))),Rn=Pe(T=>a.events.on("buttonRelease",X=>T(X)),(T,X)=>a.events.on("buttonRelease",J=>Mn(T,J)&&X(J)));function qn(){a.events.trigger("input"),a.keyState.down.forEach(T=>a.events.trigger("keyDown",T)),a.mouseState.down.forEach(T=>a.events.trigger("mouseDown",T)),a.buttonState.down.forEach(T=>{a.events.trigger("buttonDown",T)}),Ot()}d(qn,"processInput");function Dt(){a.keyState.update(),a.mouseState.update(),a.buttonState.update(),a.mergedGamepadState.buttonState.update(),a.mergedGamepadState.stickState.forEach((T,X)=>{a.mergedGamepadState.stickState.set(X,new K(0))}),a.charInputted=[],a.isMouseMoved=!1,a.mouseDeltaPos=new K(0),a.gamepadStates.forEach(T=>{T.buttonState.update(),T.stickState.forEach((X,J)=>{T.stickState.set(J,new K(0))})})}d(Dt,"resetInput");function cs(T){let X={index:T.index,isPressed:d(J=>{var ie;return((ie=a.gamepadStates.get(T.index))==null?void 0:ie.buttonState.pressed.has(J))||!1},"isPressed"),isDown:d(J=>{var ie;return((ie=a.gamepadStates.get(T.index))==null?void 0:ie.buttonState.down.has(J))||!1},"isDown"),isReleased:d(J=>{var ie;return((ie=a.gamepadStates.get(T.index))==null?void 0:ie.buttonState.released.has(J))||!1},"isReleased"),getStick:d(J=>{var ie;return((ie=a.gamepadStates.get(T.index))==null?void 0:ie.stickState.get(J))||Y()},"getStick")};return a.gamepads.push(X),a.gamepadStates.set(T.index,{buttonState:new ur,stickState:new Map([["left",new K(0)],["right",new K(0)]])}),X}d(cs,"registerGamepad");function Dn(T){a.gamepads=a.gamepads.filter(X=>X.index!==T.index),a.gamepadStates.delete(T.index)}d(Dn,"removeGamepad");function Ot(){var T,X;for(let J of navigator.getGamepads())J&&!a.gamepadStates.has(J.index)&&cs(J);for(let J of a.gamepads){let ie=navigator.getGamepads()[J.index];if(!ie)continue;let be=(n.gamepads??{})[ie.id]||Bm[ie.id]||Bm.default,Qe=a.gamepadStates.get(J.index);if(Qe){for(let pt=0;pt<ie.buttons.length;pt++){let Ie=be.buttons[pt],hn=ie.buttons[pt],$t=a.buttonsByGamepad.has(Ie);if(hn.pressed){if(Qe.buttonState.down.has(Ie)){a.events.trigger("gamepadButtonDown",Ie,J);continue}a.lastInputDevice="gamepad",$t&&((T=a.buttonsByGamepad.get(Ie))==null||T.forEach(On=>{a.buttonState.press(On),a.events.trigger("buttonPress",On)})),a.mergedGamepadState.buttonState.press(Ie),Qe.buttonState.press(Ie),a.events.trigger("gamepadButtonPress",Ie,J)}else Qe.buttonState.down.has(Ie)&&($t&&((X=a.buttonsByGamepad.get(Ie))==null||X.forEach(On=>{a.buttonState.release(On),a.events.trigger("buttonRelease",On)})),a.mergedGamepadState.buttonState.release(Ie),Qe.buttonState.release(Ie),a.events.trigger("gamepadButtonRelease",Ie,J))}for(let pt in be.sticks){let Ie=be.sticks[pt];if(!Ie)continue;let hn=new K(ie.axes[Ie.x],ie.axes[Ie.y]);Qe.stickState.set(pt,hn),a.mergedGamepadState.stickState.set(pt,hn),a.events.trigger("gamepadStick",pt,hn,J)}}}}d(Ot,"processGamepad");let Nt={},fs={},Ki={},oi=n.pixelDensity||1;Nt.mousemove=T=>{let X=new K(T.offsetX,T.offsetY),J=new K(T.movementX,T.movementY);if(D()){let ie=a.canvas.width/oi,be=a.canvas.height/oi,Qe=window.innerWidth,pt=window.innerHeight,Ie=Qe/pt,hn=ie/be;if(Ie>hn){let $t=pt/be,On=(Qe-ie*$t)/2;X.x=Nn(T.offsetX-On,0,ie*$t,0,ie),X.y=Nn(T.offsetY,0,be*$t,0,be)}else{let $t=Qe/ie,On=(pt-be*$t)/2;X.x=Nn(T.offsetX,0,ie*$t,0,ie),X.y=Nn(T.offsetY-On,0,be*$t,0,be)}}a.events.onOnce("input",()=>{a.isMouseMoved=!0,a.mousePos=X,a.mouseDeltaPos=J,a.events.trigger("mouseMove")})};let ci=["left","middle","right","back","forward"];Nt.mousedown=T=>{a.events.onOnce("input",()=>{var J;let X=ci[T.button];X&&(a.lastInputDevice="mouse",a.buttonsByMouse.has(X)&&((J=a.buttonsByMouse.get(X))==null||J.forEach(ie=>{a.buttonState.press(ie),a.events.trigger("buttonPress",ie)})),a.mouseState.press(X),a.events.trigger("mousePress",X))})},Nt.mouseup=T=>{a.events.onOnce("input",()=>{var J;let X=ci[T.button];X&&(a.buttonsByMouse.has(X)&&((J=a.buttonsByMouse.get(X))==null||J.forEach(ie=>{a.buttonState.release(ie),a.events.trigger("buttonRelease",ie)})),a.mouseState.release(X),a.events.trigger("mouseRelease",X))})};let In=new Set([" ","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Tab"]),fi={ArrowLeft:"left",ArrowRight:"right",ArrowUp:"up",ArrowDown:"down"," ":"space"};Nt.keydown=T=>{In.has(T.key)&&T.preventDefault(),a.events.onOnce("input",()=>{var ie,be;let X=fi[T.key]||T.key.toLowerCase(),J=T.code;if(X===void 0)throw new Error(`Unknown key: ${T.key}`);X.length===1?(a.events.trigger("charInput",X),a.charInputted.push(X)):X==="space"&&(a.events.trigger("charInput"," "),a.charInputted.push(" ")),T.repeat?(a.keyState.pressRepeat(X),a.events.trigger("keyPressRepeat",X)):(a.lastInputDevice="keyboard",a.buttonsByKey.has(X)&&((ie=a.buttonsByKey.get(X))==null||ie.forEach(Qe=>{a.buttonState.press(Qe),a.events.trigger("buttonPress",Qe)})),a.buttonsByKeyCode.has(J)&&((be=a.buttonsByKeyCode.get(J))==null||be.forEach(Qe=>{a.buttonState.press(Qe),a.events.trigger("buttonPress",Qe)})),a.keyState.press(X),a.events.trigger("keyPressRepeat",X),a.events.trigger("keyPress",X))})},Nt.keyup=T=>{a.events.onOnce("input",()=>{var ie,be;let X=fi[T.key]||T.key.toLowerCase(),J=T.code;a.buttonsByKey.has(X)&&((ie=a.buttonsByKey.get(X))==null||ie.forEach(Qe=>{a.buttonState.release(Qe),a.events.trigger("buttonRelease",Qe)})),a.buttonsByKeyCode.has(J)&&((be=a.buttonsByKeyCode.get(J))==null||be.forEach(Qe=>{a.buttonState.release(Qe),a.events.trigger("buttonRelease",Qe)})),a.keyState.release(X),a.events.trigger("keyRelease",X)})},Nt.touchstart=T=>{T.preventDefault(),a.events.onOnce("input",()=>{var ie;let X=[...T.changedTouches],J=a.canvas.getBoundingClientRect();n.touchToMouse!==!1&&(a.mousePos=new K(X[0].clientX-J.x,X[0].clientY-J.y),a.lastInputDevice="mouse",a.buttonsByMouse.has("left")&&((ie=a.buttonsByMouse.get("left"))==null||ie.forEach(be=>{a.buttonState.press(be),a.events.trigger("buttonPress",be)})),a.mouseState.press("left"),a.events.trigger("mousePress","left")),X.forEach(be=>{a.events.trigger("touchStart",new K(be.clientX-J.x,be.clientY-J.y),be)})})},Nt.touchmove=T=>{T.preventDefault(),a.events.onOnce("input",()=>{let X=[...T.changedTouches],J=a.canvas.getBoundingClientRect();if(n.touchToMouse!==!1){let ie=a.mousePos;a.mousePos=new K(X[0].clientX-J.x,X[0].clientY-J.y),a.mouseDeltaPos=a.mousePos.sub(ie),a.events.trigger("mouseMove")}X.forEach(ie=>{a.events.trigger("touchMove",new K(ie.clientX-J.x,ie.clientY-J.y),ie)})})},Nt.touchend=T=>{a.events.onOnce("input",()=>{var ie;let X=[...T.changedTouches],J=a.canvas.getBoundingClientRect();n.touchToMouse!==!1&&(a.mousePos=new K(X[0].clientX-J.x,X[0].clientY-J.y),a.mouseDeltaPos=new K(0,0),a.buttonsByMouse.has("left")&&((ie=a.buttonsByMouse.get("left"))==null||ie.forEach(be=>{a.buttonState.release(be),a.events.trigger("buttonRelease",be)})),a.mouseState.release("left"),a.events.trigger("mouseRelease","left")),X.forEach(be=>{a.events.trigger("touchEnd",new K(be.clientX-J.x,be.clientY-J.y),be)})})},Nt.touchcancel=T=>{a.events.onOnce("input",()=>{let X=[...T.changedTouches],J=a.canvas.getBoundingClientRect();n.touchToMouse!==!1&&(a.mousePos=new K(X[0].clientX-J.x,X[0].clientY-J.y),a.mouseState.release("left"),a.events.trigger("mouseRelease","left")),X.forEach(ie=>{a.events.trigger("touchEnd",new K(ie.clientX-J.x,ie.clientY-J.y),ie)})})},Nt.wheel=T=>{T.preventDefault(),a.events.onOnce("input",()=>{a.events.trigger("scroll",new K(T.deltaX,T.deltaY))})},Nt.contextmenu=T=>T.preventDefault(),fs.visibilitychange=()=>{document.visibilityState==="visible"?(a.skipTime=!0,a.isHidden=!1,a.events.trigger("show")):(a.isHidden=!0,a.events.trigger("hide"))},Ki.gamepadconnected=T=>{let X=cs(T.gamepad);a.events.onOnce("input",()=>{a.events.trigger("gamepadConnect",X)})},Ki.gamepaddisconnected=T=>{let X=Sa().filter(J=>J.index===T.gamepad.index)[0];Dn(T.gamepad),a.events.onOnce("input",()=>{a.events.trigger("gamepadDisconnect",X)})};for(let[T,X]of Object.entries(Nt))a.canvas.addEventListener(T,X);for(let[T,X]of Object.entries(fs))document.addEventListener(T,X);for(let[T,X]of Object.entries(Ki))window.addEventListener(T,X);let xa=new ResizeObserver(T=>{for(let X of T)if(X.target===a.canvas){if(a.lastWidth===a.canvas.offsetWidth&&a.lastHeight===a.canvas.offsetHeight)return;a.lastWidth=a.canvas.offsetWidth,a.lastHeight=a.canvas.offsetHeight,a.events.onOnce("input",()=>{a.events.trigger("resize")})}});return xa.observe(a.canvas),{state:a,dt:s,fixedDt:r,restDt:o,time:h,run:$,canvas:a.canvas,fps:v,numFrames:g,quit:V,isHidden:f,setFullscreen:x,isFullscreen:D,setCursor:w,screenshot:p,getGamepads:Sa,getCursor:R,setCursorLocked:y,isCursorLocked:q,isTouchscreen:re,mousePos:ee,mouseDeltaPos:O,isKeyDown:ge,isKeyPressed:ae,isKeyPressedRepeat:ue,isKeyReleased:me,isMouseDown:G,isMousePressed:U,isMouseReleased:j,isMouseMoved:F,isGamepadButtonPressed:ve,isGamepadButtonDown:P,isGamepadButtonReleased:ne,getGamepadStick:jt,isButtonPressed:le,isButtonDown:he,isButtonReleased:M,setButton:te,getButton:W,pressButton:ce,releaseButton:se,charInputted:Xt,onResize:Ee,onKeyDown:we,onKeyPress:st,onKeyPressRepeat:Oe,onKeyRelease:Fe,onMouseDown:Ne,onMousePress:rt,onMouseRelease:Yn,onMouseMove:qt,onCharInput:de,onTouchStart:Ae,onTouchMove:Se,onTouchEnd:Le,onScroll:Je,onHide:Ce,onShow:gt,onGamepadButtonDown:us,onGamepadButtonPress:fn,onGamepadButtonRelease:os,onGamepadStick:_t,onGamepadConnect:Qi,onGamepadDisconnect:wa,onButtonPress:Ht,onButtonDown:ui,onButtonRelease:Rn,getLastInputDeviceType:GA,events:a.events}},"initApp");function xt(){return b.app.dt()}d(xt,"dt");function Qu(){return b.app.fixedDt()}d(Qu,"fixedDt");function Ku(){return b.app.restDt()}d(Ku,"restDt");var QA=new K(-1,-1),KA=new K(0,-1),ZA=new K(1,-1),FA=new K(-1,0),JA=new K(0,0),PA=new K(1,0),WA=new K(-1,1),IA=new K(0,1),$A=new K(1,1);function ji(n){switch(n){case"topleft":return QA;case"top":return KA;case"topright":return ZA;case"left":return FA;case"center":return JA;case"right":return PA;case"botleft":return WA;case"bot":return IA;case"botright":return $A;default:return n}}d(ji,"anchorPt");function Q0(n){switch(n){case"left":return 0;case"center":return .5;case"right":return 1;default:return 0}}d(Q0,"alignPt");function K0(n){return n.createBuffer(1,1,44100)}d(K0,"createEmptyAudioBuffer");var zu=2.5949095,Cm=1.70158+1,Um=2*Math.PI/3,zm=2*Math.PI/4.5,Gu={linear:d(n=>n,"linear"),easeInSine:d(n=>1-Math.cos(n*Math.PI/2),"easeInSine"),easeOutSine:d(n=>Math.sin(n*Math.PI/2),"easeOutSine"),easeInOutSine:d(n=>-(Math.cos(Math.PI*n)-1)/2,"easeInOutSine"),easeInQuad:d(n=>n*n,"easeInQuad"),easeOutQuad:d(n=>1-(1-n)*(1-n),"easeOutQuad"),easeInOutQuad:d(n=>n<.5?2*n*n:1-Math.pow(-2*n+2,2)/2,"easeInOutQuad"),easeInCubic:d(n=>n*n*n,"easeInCubic"),easeOutCubic:d(n=>1-Math.pow(1-n,3),"easeOutCubic"),easeInOutCubic:d(n=>n<.5?4*n*n*n:1-Math.pow(-2*n+2,3)/2,"easeInOutCubic"),easeInQuart:d(n=>n*n*n*n,"easeInQuart"),easeOutQuart:d(n=>1-Math.pow(1-n,4),"easeOutQuart"),easeInOutQuart:d(n=>n<.5?8*n*n*n*n:1-Math.pow(-2*n+2,4)/2,"easeInOutQuart"),easeInQuint:d(n=>n*n*n*n*n,"easeInQuint"),easeOutQuint:d(n=>1-Math.pow(1-n,5),"easeOutQuint"),easeInOutQuint:d(n=>n<.5?16*n*n*n*n*n:1-Math.pow(-2*n+2,5)/2,"easeInOutQuint"),easeInExpo:d(n=>n===0?0:Math.pow(2,10*n-10),"easeInExpo"),easeOutExpo:d(n=>n===1?1:1-Math.pow(2,-10*n),"easeOutExpo"),easeInOutExpo:d(n=>n===0?0:n===1?1:n<.5?Math.pow(2,20*n-10)/2:(2-Math.pow(2,-20*n+10))/2,"easeInOutExpo"),easeInCirc:d(n=>1-Math.sqrt(1-Math.pow(n,2)),"easeInCirc"),easeOutCirc:d(n=>Math.sqrt(1-Math.pow(n-1,2)),"easeOutCirc"),easeInOutCirc:d(n=>n<.5?(1-Math.sqrt(1-Math.pow(2*n,2)))/2:(Math.sqrt(1-Math.pow(-2*n+2,2))+1)/2,"easeInOutCirc"),easeInBack:d(n=>Cm*n*n*n-1.70158*n*n,"easeInBack"),easeOutBack:d(n=>1+Cm*Math.pow(n-1,3)+1.70158*Math.pow(n-1,2),"easeOutBack"),easeInOutBack:d(n=>n<.5?Math.pow(2*n,2)*((zu+1)*2*n-zu)/2:(Math.pow(2*n-2,2)*((zu+1)*(n*2-2)+zu)+2)/2,"easeInOutBack"),easeInElastic:d(n=>n===0?0:n===1?1:-Math.pow(2,10*n-10)*Math.sin((n*10-10.75)*Um),"easeInElastic"),easeOutElastic:d(n=>n===0?0:n===1?1:Math.pow(2,-10*n)*Math.sin((n*10-.75)*Um)+1,"easeOutElastic"),easeInOutElastic:d(n=>n===0?0:n===1?1:n<.5?-(Math.pow(2,20*n-10)*Math.sin((20*n-11.125)*zm))/2:Math.pow(2,-20*n+10)*Math.sin((20*n-11.125)*zm)/2+1,"easeInOutElastic"),easeInBounce:d(n=>1-Gu.easeOutBounce(1-n),"easeInBounce"),easeOutBounce:d(n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,"easeOutBounce"),easeInOutBounce:d(n=>n<.5?(1-Gu.easeOutBounce(1-2*n))/2:(1+Gu.easeOutBounce(2*n-1))/2,"easeInOutBounce")},gr=Gu;function Z0(n,a,s){let r=[],o=a;for(r.push(o);o!==n;){if(o=s.get(o),o==null)return null;r.push(o)}return r.reverse()}d(Z0,"buildPath");function F0(n,a,s){var h;let r=new q0((v,g)=>v.cost<g.cost);r.insert({cost:0,node:a});let o=new Map;o.set(a,a);let f=new Map;for(f.set(a,0);r.length!==0;){let v=(h=r.remove())==null?void 0:h.node;if(v===s)break;let g=n.getNeighbours(v);for(let p of g){let w=(f.get(v)||0)+n.getCost(v,p)+n.getHeuristic(p,s);(!f.has(p)||w<f.get(p))&&(f.set(p,w),r.insert({cost:w,node:p}),o.set(p,v))}}return Z0(a,s,o)}d(F0,"aStarSearch");var Vl,kA=(Vl=class{constructor(a,s,r){_(this,"a");_(this,"b");_(this,"polygon");this.a=a,this.b=s,this.polygon=new WeakRef(r)}isLeft(a,s){return(this.b.x-this.a.x)*(s-this.a.y)-(a-this.a.x)*(this.b.y-this.a.y)}get middle(){return this.a.add(this.b).scale(.5)}},d(Vl,"NavEdge"),Vl),Ql,e2=(Ql=class{constructor(a){_(this,"_edges");_(this,"_centroid");_(this,"_id");this._id=a}get id(){return this._id}set edges(a){this._edges=a;let s=0,r=0,o=0;for(let f of this._edges){f.polygon=new WeakRef(this);let h=f.a.x*f.b.y-f.a.y*f.b.x;s+=(f.a.x+f.b.x)*h,r+=(f.a.y+f.b.y)*h,o+=h}o/=2,this._centroid=Y(s/(6*o),r/(6*o))}get edges(){return this._edges}get centroid(){return this._centroid}contains(a){let s=!1;for(let r of this.edges)r.b.y>a.y!=r.a.y>a.y&&a.x<(r.a.x-r.b.x)*(a.y-r.b.y)/(r.a.y-r.b.y)+r.b.x&&(s=!s);return s}},d(Ql,"NavPolygon"),Ql),Kl,t2=(Kl=class{constructor(){_(this,"_polygons");_(this,"_pointCache");_(this,"_edgeCache");this._polygons=[],this._pointCache={},this._edgeCache={}}_addPoint(a){let s=this._pointCache[`${a.x}_${a.y}`];return s||(s=a.clone(),this._pointCache[`${a.x}_${a.y}`]=s,s)}_addEdge(a){let s=`${a.a.x}_${a.a.y}-${a.b.x}_${a.b.y}`;return this._edgeCache[s]=a,a}_findEdge(a,s){let r=`${a.x}_${a.y}-${s.x}_${s.y}`;return this._edgeCache[r]}_findCommonEdge(a,s){for(let r of a.edges){let o=this._findEdge(r.b,r.a);if(o&&o.polygon.deref().id===s.id)return o}return null}addPolygon(a){let s=new e2(this._polygons.length),r=a.map((o,f)=>new kA(o,a[(f+1)%a.length],s));s.edges=r,this._polygons.push(s);for(let o of s.edges)this._addEdge(o);return s}addRect(a,s){let r=this._addPoint(a),o=this._addPoint(a.add(s.x,0)),f=this._addPoint(a.add(s)),h=this._addPoint(a.add(0,s.y));return this.addPolygon([r,o,f,h])}_getLocation(a){for(let s of this._polygons)if(s.contains(a))return s;return null}getNeighbours(a){let s=[];for(let r of this._polygons[a].edges){let o=this._findEdge(r.b,r.a);if(o){let f=o.polygon.deref();f&&s.push(f.id)}}return s}getCost(a,s){return 1}getHeuristic(a,s){let r=this._polygons[a],o=this._polygons[s],f=r.centroid.x-o.centroid.x,h=r.centroid.y-o.centroid.y;return Math.sqrt(f*f+h*h)}getPath(a,s){return a===void 0||s===void 0?[]:a===s?[a,s]:F0(this,a,s)}getWaypointPath(a,s,r){let o=(r==null?void 0:r.type)||"centroids",f=this._getLocation(a),h=this._getLocation(s);if(f===void 0||h===void 0)return[];let v=this.getPath(f.id,h.id);if(!v)return[];if(o==="edges"){let g=[];for(let p=1;p<v.length;p++){let w=this._polygons[v[p-1]],R=this._polygons[v[p]],y=this._findCommonEdge(w,R);g.push(y.middle.add(R.centroid.sub(y.middle).unit().scale(4)))}return[a,...g,s]}else return[a,...v.slice(1,-1).map(g=>this._polygons[g].centroid),s]}},d(Kl,"NavMesh"),Kl);function Cl(n){let a=new Wn;return n.pos&&a.translate(n.pos),n.scale&&a.scale(n.scale),n.angle&&a.rotate(n.angle),n.parent?a.mult(n.parent.transform):a}d(Cl,"calcTransform");function J0(n){return new K(n.x/Rt()*2-1,-n.y/zt()*2+1)}d(J0,"screen2ndc");function Ol(n,a,s,r,o,f=1){r=dt(r%360),o=dt(o%360),o<=r&&(o+=Math.PI*2);let h=[],v=Math.ceil((o-r)/dt(8)*f),g=(o-r)/v,p=Y(Math.cos(r),Math.sin(r)),w=Y(Math.cos(g),Math.sin(g));for(let R=0;R<=v;R++)h.push(n.add(a*p.x,s*p.y)),p=Y(p.x*w.x-p.y*w.y,p.x*w.y+p.y*w.x);return h}d(Ol,"getArcPts");function P0(...n){let a=Ge(...n),s=n[3]??1;b.gfx.bgColor=a,b.gfx.bgAlpha=s,b.gfx.ggl.gl.clearColor(a.r/255,a.g/255,a.b/255,s)}d(P0,"setBackground");function W0(){var n,a;return((a=(n=b.gfx.bgColor)==null?void 0:n.clone)==null?void 0:a.call(n))??null}d(W0,"getBackground");function it(...n){if(n[0]===void 0)return;let a=Y(...n);a.x===0&&a.y===0||b.gfx.transform.translate(a)}d(it,"pushTranslate");function ln(){b.gfx.transformStack.push(b.gfx.transform.clone())}d(ln,"pushTransform");function I0(n){b.gfx.transform=n.clone()}d(I0,"pushMatrix");function as(...n){if(n[0]===void 0)return;let a=Y(...n);a.x===1&&a.y===1||b.gfx.transform.scale(a)}d(as,"pushScale");function Gi(n){n&&b.gfx.transform.rotate(n)}d(Gi,"pushRotate");function Jt(){b.gfx.transformStack.length>0&&(b.gfx.transform=b.gfx.transformStack.pop())}d(Jt,"popTransform");function sn(){b.gfx.renderer.flush()}d(sn,"flush");function Rt(){return b.gfx.width}d(Rt,"width");function zt(){return b.gfx.height}d(zt,"height");function rh(){return(b.gfx.viewport.width+b.gfx.viewport.height)/(b.gfx.width+b.gfx.height)}d(rh,"getViewportScale");function $0(n){return new K(n.x*b.gfx.viewport.width/b.gfx.width,n.y*b.gfx.viewport.height/b.gfx.height)}d($0,"contentToView");function k0(n){return new K((n.x-b.gfx.viewport.x)*Rt()/b.gfx.viewport.width,(n.y-b.gfx.viewport.y)*zt()/b.gfx.viewport.height)}d(k0,"windowToContent");function uh(){return k0(b.app.mousePos())}d(uh,"mousePos");function pr(){return Y(Rt()/2,zt()/2)}d(pr,"center");var Zl,n2=(Zl=class{constructor(a,s,r,o){_(this,"lastTextureId",0);_(this,"textures",[]);_(this,"bigTextures",[]);_(this,"texturesPosition",new Map);_(this,"canvas");_(this,"c2d");_(this,"x",0);_(this,"y",0);_(this,"curHeight",0);_(this,"gfx");_(this,"padding");this.gfx=a,this.canvas=document.createElement("canvas"),this.canvas.width=s,this.canvas.height=r,this.textures=[Ja.fromImage(a,this.canvas)],this.bigTextures=[],this.padding=o;let f=this.canvas.getContext("2d");if(!f)throw new Error("Failed to get 2d context");this.c2d=f}add(a){let s=a.width+this.padding*2,r=a.height+this.padding*2;if(s>this.canvas.width||r>this.canvas.height){let h=Ja.fromImage(this.gfx,a);return this.bigTextures.push(h),[h,new lt(0,0,1,1),0]}this.x+s>this.canvas.width&&(this.x=0,this.y+=this.curHeight,this.curHeight=0),this.y+r>this.canvas.height&&(this.c2d.clearRect(0,0,this.canvas.width,this.canvas.height),this.textures.push(Ja.fromImage(this.gfx,this.canvas)),this.x=0,this.y=0,this.curHeight=0);let o=this.textures[this.textures.length-1],f=new K(this.x+this.padding,this.y+this.padding);return this.x+=s,r>this.curHeight&&(this.curHeight=r),a instanceof ImageData?this.c2d.putImageData(a,f.x,f.y):this.c2d.drawImage(a,f.x,f.y),o.update(this.canvas),this.texturesPosition.set(this.lastTextureId,{position:f,size:new K(a.width,a.height),texture:o}),this.lastTextureId++,[o,new lt(f.x/this.canvas.width,f.y/this.canvas.height,a.width/this.canvas.width,a.height/this.canvas.height),this.lastTextureId-1]}free(){for(let a of this.textures)a.free();for(let a of this.bigTextures)a.free()}},d(Zl,"TexPacker"),Zl);function on(n){return typeof n!="string"||C0(n)?n:b.assets.urlPrefix+n}d(on,"fixURL");var Hi,Tn=(Hi=class{constructor(a){_(this,"loaded",!1);_(this,"data",null);_(this,"error",null);_(this,"onLoadEvents",new Ft);_(this,"onErrorEvents",new Ft);_(this,"onFinishEvents",new Ft);a.then(s=>{this.loaded=!0,this.data=s,this.onLoadEvents.trigger(s)}).catch(s=>{if(this.error=s,this.onErrorEvents.numListeners()>0)this.onErrorEvents.trigger(s);else throw s}).finally(()=>{this.onFinishEvents.trigger(),this.loaded=!0})}static loaded(a){let s=new Hi(Promise.resolve(a));return s.data=a,s.loaded=!0,s}onLoad(a){return this.loaded&&this.data?a(this.data):this.onLoadEvents.add(a),this}onError(a){return this.loaded&&this.error?a(this.error):this.onErrorEvents.add(a),this}onFinish(a){return this.loaded?a():this.onFinishEvents.add(a),this}then(a){return this.onLoad(a)}catch(a){return this.onError(a)}finally(a){return this.onFinish(a)}},d(Hi,"Asset"),Hi),Fl,Rl=(Fl=class{constructor(){_(this,"assets",new Map);_(this,"lastUID",0)}add(a,s){let r=a??this.lastUID+++"",o=new Tn(s);return this.assets.set(r,o),o}addLoaded(a,s){let r=a??this.lastUID+++"",o=Tn.loaded(s);return this.assets.set(r,o),o}get(a){return this.assets.get(a)}progress(){if(this.assets.size===0)return 1;let a=0;return this.assets.forEach(s=>{s.loaded&&a++}),a/this.assets.size}getFailedAssets(){return Array.from(this.assets.keys()).filter(a=>this.assets.get(a).error!==null).map(a=>[a,this.assets.get(a)])}},d(Fl,"AssetBucket"),Fl);function fo(n){return fetch(n).then(a=>{if(!a.ok)throw new Error(`Failed to fetch "${n}"`);return a})}d(fo,"fetchURL");function xr(n){return fo(n).then(a=>a.json())}d(xr,"fetchJSON");function ey(n){return fo(n).then(a=>a.text())}d(ey,"fetchText");function ty(n){return fo(n).then(a=>a.arrayBuffer())}d(ty,"fetchArrayBuffer");function ny(n){return n!==void 0&&(b.assets.urlPrefix=n),b.assets.urlPrefix}d(ny,"loadRoot");function ay(n,a){return b.assets.custom.add(n,xr(on(a)))}d(ay,"loadJSON");function Er(n){let a=new Image;return a.crossOrigin="anonymous",a.src=n,new Promise((s,r)=>{a.onload=()=>s(a),a.onerror=()=>r(new Error(`Failed to load image from "${n}"`))})}d(Er,"loadImg");function ti(){let n=[b.assets.sprites,b.assets.sounds,b.assets.shaders,b.assets.fonts,b.assets.bitmapFonts,b.assets.custom];return n.reduce((a,s)=>a+s.progress(),0)/n.length}d(ti,"loadProgress");function oh(){return[b.assets.sprites,b.assets.sounds,b.assets.shaders,b.assets.fonts,b.assets.bitmapFonts,b.assets.custom].reduce((n,a)=>n.concat(a.getFailedAssets()),[])}d(oh,"getFailedAssets");function iy(n){return b.assets.custom.get(n)??null}d(iy,"getAsset");function Zu(n){return b.assets.custom.add(null,n)}d(Zu,"load");var a2=d((n,a)=>({urlPrefix:"",sprites:new Rl,fonts:new Rl,bitmapFonts:new Rl,sounds:new Rl,shaders:new Rl,custom:new Rl,music:{},packer:new n2(n,2048,2048,a),loaded:!1}),"initAssets"),i2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD0AAAA1CAYAAADyMeOEAAAAAXNSR0IArs4c6QAAAoVJREFUaIHdm7txwkAQhheGAqACiCHzOKQDQrqgILpwSAeEDBnEUAF0gCMxZ7G72qce/mec2Lpf9+3unaS78wgSNZ8uX5729+d1FNWXUuGmXlBOUUEIMckEpeQJgBu6C+BSFngztBR2vd+ovY+7g+p6LbgaWgJrAeUkDYIUXgXdBBwNi6kpABJwMTQH3AZsXRR8GHTfgEth8E3gjdAUcNewpbTgY85sCMCUuOokozE0YM0YRzM9NGAAXd8+omAF5h4lnmBRvpSnZHyLoLEbaN+aKB9KWv/KWw0tAbbANnlG+UvB2dm77NxxdwgBpjrF/d7rW9cbmpvio2A5z8iAYpVU8pGZlo6/2+MSco2lHfd3rv9jAP038e1xef9o2mjvYb2OqpqKE81028/jeietlSEVO5FRWsxWsJit1G3aFpW8iWe5RwpiCZAk25QvV6nz6fIlynRGuTd5WqpJ4guAlDfVKBK87hXljflgv1ON6fV+4+5gVlA17SfeG0heKqQd4l4jI/wrmaA9N9R4ar+wpHJDZyrrfcH0nB66PqAzPi76pn+faSyJk/vzOorYhGurQrzj/P68jtBMawHaHBIR9xoD5O34dy0qQOSYHvqExq2TpT2nf76+w7y251OYF0CRaU+J920TwLUa6inx6OxE6g80lu2ux7Y2eJLF/rCXE6zEPdnenk9o+4ih9AEdnW2q81HXl5LuU6OTl2fXUhqganbXAGq3g6jJOWV/OnoesO6YqqEB/GdNsjf7uHtwj2DzmRNpp7iOZfm6D9oAxB6Yi1gC4oIYeo4MIPdopEQRB+cAko5J1tW386HpB2Kz1eop4Epdwls/kgZ1sh8gZsEjdcWkr//D8Qu3Z3l5Nl1NtAAAAABJRU5ErkJggg==",Pn,ni=(Pn=class{constructor(a,s,r={},o=null){_(this,"tex");_(this,"frames",[new lt(0,0,1,1)]);_(this,"anims",{});_(this,"slice9",null);this.tex=a,s&&(this.frames=s),this.anims=r,this.slice9=o}get width(){return this.tex.width*this.frames[0].w}get height(){return this.tex.height*this.frames[0].h}static from(a,s={}){return typeof a=="string"?Pn.fromURL(a,s):Promise.resolve(Pn.fromImage(a,s))}static fromImage(a,s={}){let[r,o]=b.assets.packer.add(a),f=s.frames?s.frames.map(h=>new lt(o.x+h.x*o.w,o.y+h.y*o.h,h.w*o.w,h.h*o.h)):fh(s.sliceX||1,s.sliceY||1,o.x,o.y,o.w,o.h);return new Pn(r,f,s.anims,s.slice9)}static fromURL(a,s={}){return Er(a).then(r=>Pn.fromImage(r,s))}},d(Pn,"SpriteData"),Pn);function or(n){if(typeof n=="string"){let a=ch(n);if(a)return a;if(ti()<1)return null;throw new Error(`Sprite not found: ${n}`)}else{if(n instanceof ni)return Tn.loaded(n);if(n instanceof Tn)return n;throw new Error(`Invalid sprite: ${n}`)}}d(or,"resolveSprite");function ch(n){return b.assets.sprites.get(n)??null}d(ch,"getSprite");function Ul(n,a,s={sliceX:1,sliceY:1,anims:{}}){return a=on(a),Array.isArray(a)?a.some(r=>typeof r=="string")?b.assets.sprites.add(n,Promise.all(a.map(r=>typeof r=="string"?Er(r):Promise.resolve(r))).then(r=>Hf(r,s))):b.assets.sprites.addLoaded(n,Hf(a,s)):typeof a=="string"?b.assets.sprites.add(n,ni.from(a,s)):b.assets.sprites.addLoaded(n,ni.fromImage(a,s))}d(Ul,"loadSprite");function fh(n=1,a=1,s=0,r=0,o=1,f=1){let h=[],v=o/n,g=f/a;for(let p=0;p<a;p++)for(let w=0;w<n;w++)h.push(new lt(s+w*v,r+p*g,v,g));return h}d(fh,"slice");function Hf(n,a={}){let s=document.createElement("canvas"),r=n[0].width,o=n[0].height;s.width=r*n.length,s.height=o;let f=s.getContext("2d");if(!f)throw new Error("Failed to create canvas context");n.forEach((v,g)=>{v instanceof ImageData?f.putImageData(v,g*r,0):f.drawImage(v,g*r,0)});let h=f.getImageData(0,0,n.length*r,o);return ni.fromImage(h,{...a,sliceX:n.length,sliceY:1})}d(Hf,"createSpriteSheet");function ly(n="bean"){return Ul(n,i2)}d(ly,"loadBean");function sy(n,a,s){a=on(a),s=on(s),typeof a=="string"&&!s&&(s=UA(a)+".json");let r=typeof s=="string"?xr(s):Promise.resolve(s);return b.assets.sprites.add(n,r.then(o=>{let f=o.meta.size,h=o.frames.map(g=>new lt(g.frame.x/f.w,g.frame.y/f.h,g.frame.w/f.w,g.frame.h/f.h)),v={};for(let g of o.meta.frameTags)g.from===g.to?v[g.name]=g.from:v[g.name]={from:g.from,to:g.to,speed:10,loop:!0,pingpong:g.direction==="pingpong"};return ni.from(a,{frames:h,anims:v})}))}d(sy,"loadAseprite");var Jl,Lu=(Jl=class{constructor(a,s={}){_(this,"fontface");_(this,"filter",Bf);_(this,"outline",null);_(this,"size",64);if(this.fontface=a,this.filter=s.filter??Bf,this.size=s.size??64,this.size>256)throw new Error("Max font size: 256");s.outline&&(this.outline={width:1,color:Ge(0,0,0)},typeof s.outline=="number"?this.outline.width=s.outline:typeof s.outline=="object"&&(s.outline.width&&(this.outline.width=s.outline.width),s.outline.color&&(this.outline.color=s.outline.color)))}},d(Jl,"FontData"),Jl);function hh(n){if(!n)return hh(b.globalOpt.font??bA);if(typeof n=="string"){let a=gh(n),s=dh(n);if(a)return a.data??a;if(s)return s.data??s;if(document.fonts.check(`64px ${n}`))return n;if(ti()<1)return null;throw new Error(`Font not found: ${n}`)}else if(n instanceof Tn)return n.data?n.data:n;return n}d(hh,"resolveFont");function dh(n){return b.assets.fonts.get(n)??null}d(dh,"getFont");function ry(n,a,s={}){let r=on(a),o=new FontFace(n,typeof a=="string"?`url(${r})`:r);return document.fonts.add(o),b.assets.fonts.add(n,o.load().catch(f=>{throw new Error(`Failed to load font from "${r}": ${f}`)}).then(f=>new Lu(f,s)))}d(ry,"loadFont");function uy(n,a,s,r){let o=n.width/a,f={},h=r.split("").entries();for(let[v,g]of h)f[g]=new lt(v%o*a,Math.floor(v/o)*s,a,s);return{tex:n,map:f,size:s}}d(uy,"makeFont");function gh(n){return b.assets.bitmapFonts.get(n)??null}d(gh,"getBitmapFont");function oy(n,a,s,r,o={}){let f=on(a);return b.assets.bitmapFonts.add(n,Er(f).then(h=>uy(Ja.fromImage(b.gfx.ggl,h,o),s,r,o.chars??E0)))}d(oy,"loadBitmapFont");function cy(n,a){return a=on(a),b.assets.sprites.add(n,new Promise(async s=>{let r=typeof a=="string"?await xr(a):a,o=await Promise.all(r.frames.map(Er)),f=document.createElement("canvas");f.width=r.width,f.height=r.height*r.frames.length;let h=f.getContext("2d");if(!h)throw new Error("Failed to create canvas context");o.forEach((g,p)=>{h.drawImage(g,0,p*r.height)});let v=await Ul(null,f,{sliceY:r.frames.length,anims:r.anims});s(v)}))}d(cy,"loadPedit");var Pl,l2=(Pl=class{constructor(a,s,r,o){_(this,"ctx");_(this,"glProgram");this.ctx=a,a.onDestroy(()=>this.free());let f=a.gl,h=f.createShader(f.VERTEX_SHADER),v=f.createShader(f.FRAGMENT_SHADER);if(!h||!v)throw new Error("Failed to create shader");f.shaderSource(h,s),f.shaderSource(v,r),f.compileShader(h),f.compileShader(v);let g=f.createProgram();if(this.glProgram=g,f.attachShader(g,h),f.attachShader(g,v),o.forEach((p,w)=>f.bindAttribLocation(g,w,p)),f.linkProgram(g),!f.getProgramParameter(g,f.LINK_STATUS)){let p=f.getShaderInfoLog(h);if(p)throw new Error("VERTEX SHADER "+p);let w=f.getShaderInfoLog(v);if(w)throw new Error("FRAGMENT SHADER "+w)}f.deleteShader(h),f.deleteShader(v)}bind(){this.ctx.pushProgram(this.glProgram)}unbind(){this.ctx.popProgram()}send(a){let s=this.ctx.gl;for(let r in a){let o=a[r],f=s.getUniformLocation(this.glProgram,r);if(typeof o=="number")s.uniform1f(f,o);else if(o instanceof Wn)s.uniformMatrix4fv(f,!1,new Float32Array(o.m));else if(o instanceof De)s.uniform3f(f,o.r,o.g,o.b);else if(o instanceof K)s.uniform2f(f,o.x,o.y);else if(Array.isArray(o))o[0],CA(o)?s.uniform1fv(f,o):BA(o)?s.uniform2fv(f,o.map(h=>[h.x,h.y]).flat()):OA(o)&&s.uniform3fv(f,o.map(h=>[h.r,h.g,h.b]).flat());else throw new Error("Unsupported uniform data type")}}free(){this.ctx.gl.deleteProgram(this.glProgram)}},d(Pl,"Shader"),Pl);function ho(n,a=Cf,s=Uf){let r=xA.replace("{{user}}",a??Cf),o=EA.replace("{{user}}",s??Uf);try{return new l2(n,r,o,lh.map(f=>f.name))}catch(f){let h=/(?<type>^\w+) SHADER ERROR: 0:(?<line>\d+): (?<msg>.+)/,v=zA(f).match(h);if(!(v!=null&&v.groups))throw f;let g=Number(v.groups.line)-14,p=v.groups.msg.trim(),w=v.groups.type.toLowerCase();throw new Error(`${w} shader line ${g}: ${p}`)}}d(ho,"makeShader");function fy(n){if(!n)return b.gfx.defShader;if(typeof n=="string"){let a=ph(n);if(a)return a.data??a;if(ti()<1)return null;throw new Error(`Shader not found: ${n}`)}else if(n instanceof Tn)return n.data?n.data:n;return n}d(fy,"resolveShader");function ph(n){return b.assets.shaders.get(n)??null}d(ph,"getShader");function hy(n,a,s){return b.assets.shaders.addLoaded(n,ho(b.gfx.ggl,a,s))}d(hy,"loadShader");function dy(n,a,s){a=on(a),s=on(s);let r=d(f=>f?ey(f):Promise.resolve(null),"resolveUrl"),o=Promise.all([r(a),r(s)]).then(([f,h])=>ho(b.gfx.ggl,f,h));return b.assets.shaders.add(n,o)}d(dy,"loadShaderURL");var ma,mr=(ma=class{constructor(a){_(this,"buf");this.buf=a}static fromArrayBuffer(a){return new Promise((s,r)=>b.audio.ctx.decodeAudioData(a,s,r)).then(s=>new ma(s))}static fromURL(a){return C0(a)?ma.fromArrayBuffer(O0(a)):ty(a).then(s=>ma.fromArrayBuffer(s))}},d(ma,"SoundData"),ma);function gy(n){if(typeof n=="string"){let a=mh(n);if(a)return a;if(ti()<1)return null;throw new Error(`Sound not found: ${n}`)}else{if(n instanceof mr)return Tn.loaded(n);if(n instanceof Tn)return n;throw new Error(`Invalid sound: ${n}`)}}d(gy,"resolveSound");function mh(n){return b.assets.sounds.get(n)??null}d(mh,"getSound");function py(n,a){return a=on(a),b.assets.sounds.add(n,typeof a=="string"?mr.fromURL(a):mr.fromArrayBuffer(a))}d(py,"loadSound");function my(n,a){let s=on(a),r=new Audio(s);return r.preload="auto",b.assets.music[n]=s}d(my,"loadMusic");function yh(n,a){return n=on(n),Zu(typeof a=="string"?new Promise((s,r)=>{xr(a).then(o=>{yh(n,o).then(s).catch(r)})}):ni.from(n).then(s=>{let r={};for(let o in a){let f=a[o],h=s.frames[0],v=2048*h.w,g=2048*h.h,p=f.frames?f.frames.map(R=>new lt(h.x+(f.x+R.x)/v*h.w,h.y+(f.y+R.y)/g*h.h,R.w/v*h.w,R.h/g*h.h)):fh(f.sliceX||1,f.sliceY||1,h.x+f.x/v*h.w,h.y+f.y/g*h.h,f.width/v*h.w,f.height/g*h.h),w=new ni(s.tex,p,f.anims);b.assets.sprites.addLoaded(o,w),r[o]=w}return r}))}d(yh,"loadSpriteAtlas");function Aa(n,a,s=!1,r,o,f={}){let h=r??b.gfx.defTex,v=o??b.gfx.defShader,g=fy(v);if(!g||g instanceof Tn)return;let p=b.gfx.fixed||s?b.gfx.transform:b.game.cam.transform.mult(b.gfx.transform),w=[];for(let R of n){let y=J0(p.multVec2(R.pos));w.push(y.x,y.y,R.uv.x,R.uv.y,R.color.r/255,R.color.g/255,R.color.b/255,R.opacity)}b.gfx.renderer.push(b.gfx.ggl.gl.TRIANGLES,w,a,g,h,f)}d(Aa,"drawRaw");function ya(n){if(!n.pts)throw new Error('drawPolygon() requires property "pts".');let a=n.pts.length;if(!(a<3)){if(ln(),it(n.pos),as(n.scale),Gi(n.angle),it(n.offset),n.fill!==!1){let s=n.color??De.WHITE,r=n.pts.map((f,h)=>({pos:new K(f.x,f.y),uv:n.uv?n.uv[h]:new K(0,0),color:n.colors&&n.colors[h]?n.colors[h].mult(s):s,opacity:n.opacity??1})),o;n.triangulate?o=ih(n.pts).map(f=>f.map(h=>n.pts.indexOf(h))).flat():o=[...Array(a-2).keys()].map(f=>[0,f+1,f+2]).flat(),Aa(r,n.indices??o,n.fixed,n.uv?n.tex:b.gfx.defTex,n.shader,n.uniform??void 0)}n.outline&&go({pts:[...n.pts,n.pts[0]],radius:n.radius,width:n.outline.width,color:n.outline.color,join:n.outline.join,uniform:n.uniform,fixed:n.fixed,opacity:n.opacity??n.outline.opacity}),Jt()}}d(ya,"drawPolygon");function vh(n){if(n.radiusX===void 0||n.radiusY===void 0)throw new Error('drawEllipse() requires properties "radiusX" and "radiusY".');if(n.radiusX===0||n.radiusY===0)return;let a=n.start??0,s=n.end??360,r=ji(n.anchor??"center").scale(new K(-n.radiusX,-n.radiusY)),o=Ol(r,n.radiusX,n.radiusY,a,s,n.resolution);o.unshift(r);let f=Object.assign({},n,{pts:o,radius:0,...n.gradient?{colors:[n.gradient[0],...Array(o.length-1).fill(n.gradient[1])]}:{}});if(s-a>=360&&n.outline){n.fill!==!1&&ya(Object.assign({},f,{outline:null})),ya(Object.assign({},f,{pts:o.slice(1),fill:!1}));return}ya(f)}d(vh,"drawEllipse");function Xi(n){if(typeof n.radius!="number")throw new Error('drawCircle() requires property "radius".');n.radius!==0&&vh(Object.assign({},n,{radiusX:n.radius,radiusY:n.radius,angle:0}))}d(Xi,"drawCircle");function Bl(n){let{p1:a,p2:s}=n;if(!a||!s)throw new Error('drawLine() requires properties "p1" and "p2".');let r=n.width||1,o=s.sub(a).unit().normal().scale(r*.5),f=[a.sub(o),a.add(o),s.add(o),s.sub(o)].map(h=>({pos:new K(h.x,h.y),uv:new K(0),color:n.color??De.WHITE,opacity:n.opacity??1}));Aa(f,[0,1,3,1,2,3],n.fixed,b.gfx.defTex,n.shader,n.uniform??void 0)}d(Bl,"drawLine");function yy(n){let a=n.pts,s=[],r=(n.width||1)*.5,o=a[0]===a[a.length-1]||a[0].eq(a[a.length-1]),f=n.pos||Y(0,0),h;o?h=a[0].sub(a[a.length-2]):h=a[1].sub(a[0]);let v=h.len(),g=h.normal().scale(-r/v),p,w=a[0];if(!o)switch(n.cap){case"square":{let E=h.scale(-r/v);s.push(w.add(E).add(g)),s.push(w.add(E).sub(g));break}case"round":{let E=Math.max(r,10),N=Math.PI/E,x=g.scale(-1),D=Math.cos(N),V=Math.sin(N);for(let $=0;$<E;$++)s.push(w),s.push(w.sub(x)),x=Y(x.x*D-x.y*V,x.x*V+x.y*D)}}for(let E=1;E<a.length;E++){if(w===a[E]||w.eq(a[E]))continue;p=w,w=a[E];let N=w.sub(p),x=N.len(),D=N.normal().scale(-r/x),V=h.cross(N);if(Math.abs(V)/(v*x)<.05){s.push(p.add(g)),s.push(p.sub(g)),h.dot(N)<0&&(s.push(p.sub(g)),s.push(p.add(g))),h=N,v=x,g=D;continue}let $=D.sub(g).cross(N)/V,re=g.add(h.scale($));V>0?(s.push(p.add(re)),s.push(p.sub(g)),s.push(p.add(re)),s.push(p.sub(D))):(s.push(p.add(g)),s.push(p.sub(re)),s.push(p.add(D)),s.push(p.sub(re))),h=N,v=x,g=D}if(!o)switch(s.push(w.add(g)),s.push(w.sub(g)),n.cap){case"square":{let E=h.scale(r/v);s.push(w.add(E).add(g)),s.push(w.add(E).sub(g));break}case"round":{let E=Math.max(r,10),N=Math.PI/E,x=g.scale(1),D=Math.cos(N),V=Math.sin(N);for(let $=0;$<E;$++)x=Y(x.x*D-x.y*V,x.x*V+x.y*D),s.push(w),s.push(w.sub(x))}}if(s.length<4)return;let R=s.map(E=>({pos:f.add(E),uv:Y(),color:n.color||De.WHITE,opacity:n.opacity??1})),y=[],q=0;for(let E=0;E<s.length-2;E+=2)y[q++]=E+1,y[q++]=E,y[q++]=E+2,y[q++]=E+2,y[q++]=E+3,y[q++]=E+1;o&&(y[q++]=s.length-1,y[q++]=s.length-2,y[q++]=0,y[q++]=0,y[q++]=1,y[q++]=s.length-1),Aa(R,y,n.fixed,b.gfx.defTex,n.shader,n.uniform??void 0)}d(yy,"_drawLinesBevel");function vy(n){let a=n.pts,s=[],r=(n.width||1)*.5,o=a[0]===a[a.length-1]||a[0].eq(a[a.length-1]),f=n.pos||Y(0,0),h;o?h=a[0].sub(a[a.length-2]):h=a[1].sub(a[0]);let v=h.len(),g=h.normal().scale(-r/v),p,w=a[0];if(!o)switch(n.cap){case"square":{let E=h.scale(-r/v);s.push(w.add(E).add(g)),s.push(w.add(E).sub(g));break}case"round":{let E=Math.max(r,10),N=Math.PI/E,x=g.scale(-1),D=Math.cos(N),V=Math.sin(N);for(let $=0;$<E;$++)s.push(w),s.push(w.sub(x)),x=Y(x.x*D-x.y*V,x.x*V+x.y*D)}}for(let E=1;E<a.length;E++){if(w===a[E]||w.eq(a[E]))continue;p=w,w=a[E];let N=w.sub(p),x=N.len(),D=N.normal().scale(-r/x),V=h.cross(N);if(Math.abs(V)/(v*x)<.05){s.push(p.add(g)),s.push(p.sub(g)),h.dot(N)<0&&(s.push(p.sub(g)),s.push(p.add(g))),h=N,v=x,g=D;continue}let $=D.sub(g).cross(N)/V,re=g.add(h.scale($));if(V>0){let ee=p.add(re),O=Math.max(r,10),U=dt(g.angleBetween(D)/O),G=g,j=Math.cos(U),F=Math.sin(U);for(let ae=0;ae<O;ae++)s.push(ee),s.push(p.sub(G)),G=Y(G.x*j-G.y*F,G.x*F+G.y*j)}else{let ee=p.sub(re),O=Math.max(r,10),U=dt(g.angleBetween(D)/O),G=g,j=Math.cos(U),F=Math.sin(U);for(let ae=0;ae<O;ae++)s.push(p.add(G)),s.push(ee),G=Y(G.x*j-G.y*F,G.x*F+G.y*j)}h=N,v=x,g=D}if(!o)switch(s.push(w.add(g)),s.push(w.sub(g)),n.cap){case"square":{let E=h.scale(r/v);s.push(w.add(E).add(g)),s.push(w.add(E).sub(g));break}case"round":{let E=Math.max(r,10),N=Math.PI/E,x=g.scale(1),D=Math.cos(N),V=Math.sin(N);for(let $=0;$<E;$++)x=Y(x.x*D-x.y*V,x.x*V+x.y*D),s.push(w),s.push(w.sub(x))}}if(s.length<4)return;let R=s.map(E=>({pos:f.add(E),uv:Y(),color:n.color||De.WHITE,opacity:n.opacity??1})),y=[],q=0;for(let E=0;E<s.length-2;E+=2)y[q++]=E+1,y[q++]=E,y[q++]=E+2,y[q++]=E+2,y[q++]=E+3,y[q++]=E+1;o&&(y[q++]=s.length-1,y[q++]=s.length-2,y[q++]=0,y[q++]=0,y[q++]=1,y[q++]=s.length-1),Aa(R,y,n.fixed,b.gfx.defTex,n.shader,n.uniform??void 0)}d(vy,"_drawLinesRound");function by(n){let a=n.pts,s=[],r=(n.width||1)*.5,o=a[0]===a[a.length-1]||a[0].eq(a[a.length-1]),f=n.pos||Y(0,0),h;o?h=a[0].sub(a[a.length-2]):h=a[1].sub(a[0]);let v=h.len(),g=h.normal().scale(-r/v),p,w=a[0];if(!o)switch(n.cap){case"square":{let E=h.scale(-r/v);s.push(w.add(E).add(g)),s.push(w.add(E).sub(g));break}case"round":{let E=Math.max(r,10),N=Math.PI/E,x=g.scale(-1),D=Math.cos(N),V=Math.sin(N);for(let $=0;$<E;$++)s.push(w),s.push(w.sub(x)),x=Y(x.x*D-x.y*V,x.x*V+x.y*D)}}for(let E=1;E<a.length;E++){if(w===a[E]||w.eq(a[E]))continue;p=w,w=a[E];let N=w.sub(p),x=N.len(),D=N.normal().scale(-r/x),V=h.cross(N);if(Math.abs(V)/(v*x)<.05){s.push(p.add(g)),s.push(p.sub(g)),h.dot(N)<0&&(s.push(p.sub(g)),s.push(p.add(g))),h=N,v=x,g=D;continue}let $=D.sub(g).cross(N)/V,re=g.add(h.scale($));s.push(p.add(re)),s.push(p.sub(re)),h=N,v=x,g=D}if(!o)switch(s.push(w.add(g)),s.push(w.sub(g)),n.cap){case"square":{let E=h.scale(r/v);s.push(w.add(E).add(g)),s.push(w.add(E).sub(g));break}case"round":{let E=Math.max(r,10),N=Math.PI/E,x=g.scale(1),D=Math.cos(N),V=Math.sin(N);for(let $=0;$<E;$++)x=Y(x.x*D-x.y*V,x.x*V+x.y*D),s.push(w),s.push(w.sub(x))}}if(s.length<4)return;let R=s.map(E=>({pos:f.add(E),uv:Y(),color:n.color||De.WHITE,opacity:n.opacity??1})),y=[],q=0;for(let E=0;E<s.length-2;E+=2)y[q++]=E+1,y[q++]=E,y[q++]=E+2,y[q++]=E+2,y[q++]=E+3,y[q++]=E+1;o&&(y[q++]=s.length-1,y[q++]=s.length-2,y[q++]=0,y[q++]=0,y[q++]=1,y[q++]=s.length-1),Aa(R,y,n.fixed,b.gfx.defTex,n.shader,n.uniform??void 0)}d(by,"_drawLinesMiter");function go(n){let a=n.pts,s=n.width??1;if(!a)throw new Error('drawLines() requires property "pts".');if(!(a.length<2)){if(a.length>2)switch(n.join){case"bevel":return yy(n);case"round":return vy(n);case"miter":return by(n)}if(n.radius&&a.length>=3){Bl(Object.assign({},n,{p1:a[0],p2:a[1]}));for(let r=1;r<a.length-2;r++){let o=a[r],f=a[r+1];Bl(Object.assign({},n,{p1:o,p2:f}))}Bl(Object.assign({},n,{p1:a[a.length-2],p2:a[a.length-1]}))}else for(let r=0;r<a.length-1;r++)Bl(Object.assign({},n,{p1:a[r],p2:a[r+1]})),n.join!=="none"&&Xi(Object.assign({},n,{pos:a[r],radius:s/2}))}}d(go,"drawLines");function bh(n,a){let s=a.segments??16,r=[];for(let o=0;o<=s;o++)r.push(n(o/s));go({pts:r,width:a.width||1,pos:a.pos,color:a.color,opacity:a.opacity})}d(bh,"drawCurve");function Ay(n){bh(a=>so(n.pt1,n.pt2,n.pt3,n.pt4,a),n)}d(Ay,"drawBezier");var Ni,Ja=(Ni=class{constructor(a,s,r,o={}){_(this,"ctx");_(this,"src",null);_(this,"glTex");_(this,"width");_(this,"height");this.ctx=a;let f=a.gl,h=a.gl.createTexture();if(!h)throw new Error("Failed to create texture");this.glTex=h,a.onDestroy(()=>this.free()),this.width=s,this.height=r;let v={linear:f.LINEAR,nearest:f.NEAREST}[o.filter??a.opts.texFilter??"nearest"],g={repeat:f.REPEAT,clampToEdge:f.CLAMP_TO_EDGE}[o.wrap??"clampToEdge"];this.bind(),s&&r&&f.texImage2D(f.TEXTURE_2D,0,f.RGBA,s,r,0,f.RGBA,f.UNSIGNED_BYTE,null),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,v),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,v),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,g),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,g),f.pixelStorei(f.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this.unbind()}static fromImage(a,s,r={}){let o=new Ni(a,s.width,s.height,r);return o.update(s),o.src=s,o}update(a,s=0,r=0){let o=this.ctx.gl;this.bind(),o.texSubImage2D(o.TEXTURE_2D,0,s,r,o.RGBA,o.UNSIGNED_BYTE,a),this.unbind()}bind(){this.ctx.pushTexture2D(this.glTex)}unbind(){this.ctx.popTexture2D()}free(){this.ctx.gl.deleteTexture(this.glTex)}},d(Ni,"Texture"),Ni),Wl,Fu=(Wl=class{constructor(a,s,r,o={}){_(this,"ctx");_(this,"tex");_(this,"glFramebuffer");_(this,"glRenderbuffer");this.ctx=a;let f=a.gl;a.onDestroy(()=>this.free()),this.tex=new Ja(a,s,r,o);let h=f.createFramebuffer(),v=f.createRenderbuffer();if(!h||!v)throw new Error("Failed to create framebuffer");this.glFramebuffer=h,this.glRenderbuffer=v,this.bind(),f.renderbufferStorage(f.RENDERBUFFER,f.DEPTH_STENCIL,s,r),f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,this.tex.glTex,0),f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_STENCIL_ATTACHMENT,f.RENDERBUFFER,this.glRenderbuffer),this.unbind()}get width(){return this.tex.width}get height(){return this.tex.height}toImageData(){let a=this.ctx.gl,s=new Uint8ClampedArray(this.width*this.height*4);this.bind(),a.readPixels(0,0,this.width,this.height,a.RGBA,a.UNSIGNED_BYTE,s),this.unbind();let r=this.width*4,o=new Uint8Array(r);for(let f=0;f<(this.height/2|0);f++){let h=f*r,v=(this.height-f-1)*r;o.set(s.subarray(h,h+r)),s.copyWithin(h,v,v+r),s.set(o,v)}return new ImageData(s,this.width,this.height)}toDataURL(){let a=document.createElement("canvas"),s=a.getContext("2d");if(a.width=this.width,a.height=this.height,!s)throw new Error("Failed to get 2d context");return s.putImageData(this.toImageData(),0,0),a.toDataURL()}clear(){let a=this.ctx.gl;a.clear(a.COLOR_BUFFER_BIT)}draw(a){this.bind(),a(),this.unbind()}bind(){this.ctx.pushFramebuffer(this.glFramebuffer),this.ctx.pushRenderbuffer(this.glRenderbuffer),this.ctx.pushViewport({x:0,y:0,w:this.width,h:this.height})}unbind(){this.ctx.popFramebuffer(),this.ctx.popRenderbuffer(),this.ctx.popViewport()}free(){let a=this.ctx.gl;a.deleteFramebuffer(this.glFramebuffer),a.deleteRenderbuffer(this.glRenderbuffer),this.tex.free()}},d(Wl,"FrameBuffer"),Wl),Il,s2=(Il=class{constructor(a,s,r,o){_(this,"ctx");_(this,"glVBuf");_(this,"glIBuf");_(this,"vqueue",[]);_(this,"iqueue",[]);_(this,"stride");_(this,"maxVertices");_(this,"maxIndices");_(this,"vertexFormat");_(this,"numDraws",0);_(this,"curPrimitive",null);_(this,"curTex",null);_(this,"curShader",null);_(this,"curUniform",{});let f=a.gl;this.vertexFormat=s,this.ctx=a,this.stride=s.reduce((v,g)=>v+g.size,0),this.maxVertices=r,this.maxIndices=o;let h=f.createBuffer();if(!h)throw new Error("Failed to create vertex buffer");this.glVBuf=h,a.pushArrayBuffer(this.glVBuf),f.bufferData(f.ARRAY_BUFFER,r*4,f.DYNAMIC_DRAW),a.popArrayBuffer(),this.glIBuf=f.createBuffer(),a.pushElementArrayBuffer(this.glIBuf),f.bufferData(f.ELEMENT_ARRAY_BUFFER,o*4,f.DYNAMIC_DRAW),a.popElementArrayBuffer()}push(a,s,r,o,f=null,h={}){(a!==this.curPrimitive||f!==this.curTex||o!==this.curShader||!oo(this.curUniform,h)||this.vqueue.length+s.length*this.stride>this.maxVertices||this.iqueue.length+r.length>this.maxIndices)&&this.flush();let v=this.vqueue.length/this.stride;for(let g of s)this.vqueue.push(g);for(let g of r)this.iqueue.push(g+v);this.curPrimitive=a,this.curShader=o,this.curTex=f,this.curUniform=h}flush(){var s,r;if(!this.curPrimitive||!this.curShader||this.vqueue.length===0||this.iqueue.length===0)return;let a=this.ctx.gl;this.ctx.pushArrayBuffer(this.glVBuf),a.bufferSubData(a.ARRAY_BUFFER,0,new Float32Array(this.vqueue)),this.ctx.pushElementArrayBuffer(this.glIBuf),a.bufferSubData(a.ELEMENT_ARRAY_BUFFER,0,new Uint16Array(this.iqueue)),this.ctx.setVertexFormat(this.vertexFormat),this.curShader.bind(),this.curShader.send(this.curUniform),(s=this.curTex)==null||s.bind(),a.drawElements(this.curPrimitive,this.iqueue.length,a.UNSIGNED_SHORT,0),(r=this.curTex)==null||r.unbind(),this.curShader.unbind(),this.ctx.popArrayBuffer(),this.ctx.popElementArrayBuffer(),this.vqueue=[],this.iqueue=[],this.numDraws++}free(){let a=this.ctx.gl;a.deleteBuffer(this.glVBuf),a.deleteBuffer(this.glIBuf)}},d(Il,"BatchRenderer"),Il);function Za(n){let a=[],s=d(f=>{a.push(f),n(f)},"push"),r=d(()=>{a.pop(),n(o()??null)},"pop"),o=d(()=>a[a.length-1],"cur");return[s,r,o]}d(Za,"genStack");function wy(n,a={}){let s=[];function r(ee){s.push(ee)}d(r,"onDestroy");function o(){s.forEach(O=>O());let ee=n.getExtension("WEBGL_lose_context");ee&&ee.loseContext()}d(o,"destroy");let f=null;function h(ee){if(oo(ee,f))return;f=ee;let O=ee.reduce((U,G)=>U+G.size,0);ee.reduce((U,G,j)=>(n.vertexAttribPointer(j,G.size,n.FLOAT,!1,O*4,U),n.enableVertexAttribArray(j),U+G.size*4),0)}d(h,"setVertexFormat");let[v,g]=Za(ee=>n.bindTexture(n.TEXTURE_2D,ee)),[p,w]=Za(ee=>n.bindBuffer(n.ARRAY_BUFFER,ee)),[R,y]=Za(ee=>n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,ee)),[q,E]=Za(ee=>n.bindFramebuffer(n.FRAMEBUFFER,ee)),[N,x]=Za(ee=>n.bindRenderbuffer(n.RENDERBUFFER,ee)),[D,V]=Za(ee=>{if(!ee)return;let{x:O,y:U,w:G,h:j}=ee;n.viewport(O,U,G,j)}),[$,re]=Za(ee=>n.useProgram(ee));return D({x:0,y:0,w:n.drawingBufferWidth,h:n.drawingBufferHeight}),{gl:n,opts:a,onDestroy:r,destroy:o,pushTexture2D:v,popTexture2D:g,pushArrayBuffer:p,popArrayBuffer:w,pushElementArrayBuffer:R,popElementArrayBuffer:y,pushFramebuffer:q,popFramebuffer:E,pushRenderbuffer:N,popRenderbuffer:x,pushViewport:D,popViewport:V,pushProgram:$,popProgram:re,setVertexFormat:h}}d(wy,"initGfx");var Df={};function Nf(n,a){if(a.override){Object.assign(n,a);return}a.pos&&(n.pos=n.pos.add(a.pos)),a.scale&&(n.scale=n.scale.scale(Y(a.scale))),a.angle&&(n.angle+=a.angle),a.color&&n.ch.length===1&&(n.color=n.color.mult(a.color)),a.opacity!=null&&(n.opacity*=a.opacity)}d(Nf,"applyCharTransform");function Ju(n){let a={},s="",r=[],o=String(n),f=d(h=>{r.length>0&&(a[s.length]=r.slice()),s+=h},"emit");for(;o!=="";){if(o[0]==="\\"){if(o.length===1)throw new Error("Styled text error: \\ at end of string");f(o[1]),o=o.slice(2);continue}if(o[0]==="["){let h=/^\[(\/)?(\w+?)\]/.exec(o);if(!h){f(o[0]),o=o.slice(1);continue}let[v,g,p]=h;if(g!==void 0){let w=r.pop();if(w!==p)throw w!==void 0?new Error(`Styled text error: mismatched tags. Expected [/${w}], got [/${p}]`):new Error(`Styled text error: stray end tag [/${p}]`)}else r.push(p);o=o.slice(v.length);continue}f(o[0]),o=o.slice(1)}if(r.length>0)throw new Error(`Styled text error: unclosed tags ${r}`);return{charStyleMap:a,text:s}}d(Ju,"compileStyledText");function ai(n){var $,re,ee;if(n.text===void 0)throw new Error('formatText() requires property "text".');let a=hh(n.font);if(!n.text||n.text===""||a instanceof Tn||!a)return{width:0,height:0,chars:[],opt:n,renderedText:""};let{charStyleMap:s,text:r}=Ju(n.text+""),o=z0(r);if(a instanceof Lu||typeof a=="string"){let O=a instanceof Lu?a.fontface.family:a,U=a instanceof Lu?{outline:a.outline,filter:a.filter}:{outline:null,filter:Bf},G=Df[O]??{font:{tex:new Ja(b.gfx.ggl,2048,2048,{filter:U.filter}),map:{},size:64},cursor:new K(0),maxHeight:0,outline:U.outline};Df[O]||(Df[O]=G),a=G.font;for(let j of o)if(!G.font.map[j]){let F=b.fontCacheC2d;if(!F)throw new Error("fontCacheC2d is not defined.");if(!b.fontCacheCanvas)throw new Error("fontCacheCanvas is not defined.");F.clearRect(0,0,b.fontCacheCanvas.width,b.fontCacheCanvas.height),F.font=`${a.size}px ${O}`,F.textBaseline="top",F.textAlign="left",F.fillStyle="#ffffff";let ae=F.measureText(j),ue=Math.ceil(ae.width);if(!ue)continue;let ge=Math.ceil(Math.abs(ae.actualBoundingBoxAscent))+Math.ceil(Math.abs(ae.actualBoundingBoxDescent));G.outline&&G.outline.width&&G.outline.color&&(F.lineJoin="round",F.lineWidth=G.outline.width*2,F.strokeStyle=G.outline.color.toHex(),F.strokeText(j,G.outline.width,G.outline.width),ue+=G.outline.width*2,ge+=G.outline.width*3),F.fillText(j,(($=G.outline)==null?void 0:$.width)??0,((re=G.outline)==null?void 0:re.width)??0);let me=F.getImageData(0,0,ue,ge);if(G.cursor.x+ue>2048&&(G.cursor.x=0,G.cursor.y+=G.maxHeight,G.maxHeight=0,G.cursor.y>2048))throw new Error("Font atlas exceeds character limit");a.tex.update(me,G.cursor.x,G.cursor.y),a.map[j]=new lt(G.cursor.x,G.cursor.y,ue,ge),G.cursor.x+=ue+1,G.maxHeight=Math.max(G.maxHeight,ge)}}let f=n.size||a.size,h=Y(n.scale??1).scale(f/a.size),v=n.lineSpacing??0,g=n.letterSpacing??0,p=0,w=0,R=0,y=[],q=[],E=0,N=null,x=0,D;for(;E<o.length;){let O=o[E];if(O===`
`)R+=f+v,y.push({width:p-g,chars:q}),N=null,x=0,p=0,q=[],D=void 0;else{let U=a.map[O];if(U){let G=U.w*h.x;n.width&&p+G>n.width&&(R+=f+v,N!=null&&(E-=q.length-N,O=o[E],U=a.map[O],G=U.w*h.x,q=q.slice(0,N-1),p=x),N=null,x=0,y.push({width:p-g,chars:q}),p=D??0,q=[]),q.push({tex:a.tex,width:U.w,height:U.h,quad:new lt(U.x/a.tex.width,U.y/a.tex.height,U.w/a.tex.width,U.h/a.tex.height),ch:O,pos:new K(p,R),opacity:n.opacity??1,color:n.color??De.WHITE,scale:Y(h),angle:0}),O===" "&&(N=q.length,x=p),n.indentAll&&D===void 0&&/\S/.test(O)&&(D=p),p+=G,w=Math.max(w,p),p+=g}}E++}y.push({width:p-g,chars:q}),R+=f,n.width&&(w=n.width);let V=[];for(let O=0;O<y.length;O++){let U=(w-y[O].width)*Q0(n.align??"left");for(let G of y[O].chars){let j=a.map[G.ch],F=V.length+O;if(G.pos=G.pos.add(U,0).add(j.w*h.x*.5,j.h*h.y*.5),n.transform){let ae=typeof n.transform=="function"?n.transform(F,G.ch):n.transform;ae&&Nf(G,ae)}if(s[F]){let ae=s[F];for(let ue of ae){let ge=(ee=n.styles)==null?void 0:ee[ue],me=typeof ge=="function"?ge(F,G.ch):ge;me&&Nf(G,me)}}V.push(G)}}return{width:w,height:R,chars:V,opt:n,renderedText:r}}d(ai,"formatText");function is(n){if(n.width===void 0||n.height===void 0)throw new Error('drawUVQuad() requires property "width" and "height".');if(n.width<=0||n.height<=0)return;let a=n.width,s=n.height,r=ji(n.anchor||ro).scale(new K(a,s).scale(-.5)),o=n.quad||new lt(0,0,1,1),f=n.color||Ge(255,255,255),h=n.opacity??1,v=n.tex?.1/n.tex.width:0,g=n.tex?.1/n.tex.height:0,p=o.x+v,w=o.y+g,R=o.w-v*2,y=o.h-g*2;ln(),it(n.pos),Gi(n.angle),as(n.scale),it(r),Aa([{pos:new K(-a/2,s/2),uv:new K(n.flipX?p+R:p,n.flipY?w:w+y),color:f,opacity:h},{pos:new K(-a/2,-s/2),uv:new K(n.flipX?p+R:p,n.flipY?w+y:w),color:f,opacity:h},{pos:new K(a/2,-s/2),uv:new K(n.flipX?p:p+R,n.flipY?w+y:w),color:f,opacity:h},{pos:new K(a/2,s/2),uv:new K(n.flipX?p:p+R,n.flipY?w:w+y),color:f,opacity:h}],[0,1,3,1,2,3],n.fixed,n.tex,n.shader,n.uniform??void 0),Jt()}d(is,"drawUVQuad");function ii(n){ln(),it(n.opt.pos),Gi(n.opt.angle),it(ji(n.opt.anchor??"topleft").add(1,1).scale(n.width,n.height).scale(-.5)),n.chars.forEach(a=>{is({tex:a.tex,width:a.width,height:a.height,pos:a.pos,scale:a.scale,angle:a.angle,color:a.color,opacity:a.opacity,quad:a.quad,anchor:"center",uniform:n.opt.uniform,shader:n.opt.shader,fixed:n.opt.fixed})}),Jt()}d(ii,"drawFormattedText");function rn(n){if(n.width===void 0||n.height===void 0)throw new Error('drawRect() requires property "width" and "height".');if(n.width<=0||n.height<=0)return;let a=n.width,s=n.height,r=ji(n.anchor||ro).add(1,1).scale(new K(a,s).scale(-.5)),o=[new K(0,0),new K(a,0),new K(a,s),new K(0,s)];if(n.radius){let f=Math.min(a,s)/2,h=Array.isArray(n.radius)?n.radius.map(v=>Math.min(f,v)):new Array(4).fill(Math.min(f,n.radius));o=[new K(h[0],0),...h[1]?Ol(new K(a-h[1],h[1]),h[1],h[1],270,360):[Y(a,0)],...h[2]?Ol(new K(a-h[2],s-h[2]),h[2],h[2],0,90):[Y(a,s)],...h[3]?Ol(new K(h[3],s-h[3]),h[3],h[3],90,180):[Y(0,s)],...h[0]?Ol(new K(h[0],h[0]),h[0],h[0],180,270):[]]}ya(Object.assign({},n,{offset:r,pts:o,...n.gradient?{colors:n.horizontal?[n.gradient[0],n.gradient[1],n.gradient[1],n.gradient[0]]:[n.gradient[0],n.gradient[0],n.gradient[1],n.gradient[1]]}:{}}))}d(rn,"drawRect");function pa(n){sn();let a=b.gfx.width,s=b.gfx.height;b.gfx.width=b.gfx.viewport.width,b.gfx.height=b.gfx.viewport.height,n(),sn(),b.gfx.width=a,b.gfx.height=s}d(pa,"drawUnscaled");function Gf(n,a){pa(()=>{let s=Y(8);ln(),it(n);let r=ai({text:a,font:Xu,size:16,pos:s,color:Ge(255,255,255),fixed:!0}),o=r.width+s.x*2,f=r.height+s.x*2;n.x+o>=Rt()&&it(Y(-o,0)),n.y+f>=zt()&&it(Y(0,-f)),rn({width:o,height:f,color:Ge(0,0,0),radius:4,opacity:.8,fixed:!0}),ii(r),Jt()})}d(Gf,"drawInspectText");function Ah(n){if(!n.p1||!n.p2||!n.p3)throw new Error('drawTriangle() requires properties "p1", "p2" and "p3".');return ya(Object.assign({},n,{pts:[n.p1,n.p2,n.p3]}))}d(Ah,"drawTriangle");function Sy(){if(b.debug.inspect){let n=null;for(let a of b.game.root.get("*",{recursive:!0}))if(a.c("area")&&a.isHovering()){n=a;break}if(b.game.root.drawInspect(),n){let a=[],s=n.inspect();for(let r in s)s[r]?a.push(`${s[r]}`):a.push(`${r}`);Gf($0(uh()),a.join(`
`))}Gf(Y(8),`FPS: ${b.debug.fps()}`)}b.debug.paused&&pa(()=>{ln(),it(Rt(),0),it(-8,8);let n=32;rn({width:n,height:n,anchor:"topright",color:Ge(0,0,0),opacity:.8,radius:4,fixed:!0});for(let a=1;a<=2;a++)rn({width:4,height:n*.6,anchor:"center",pos:Y(-32/3*a,n*.5),color:Ge(255,255,255),radius:2,fixed:!0});Jt()}),b.debug.timeScale!==1&&pa(()=>{ln(),it(Rt(),zt()),it(-8,-8);let n=8,a=ai({text:b.debug.timeScale.toFixed(1),font:Xu,size:16,color:Ge(255,255,255),pos:Y(-8),anchor:"botright",fixed:!0});rn({width:a.width+n*2+n*4,height:a.height+n*2,anchor:"botright",color:Ge(0,0,0),opacity:.8,radius:4,fixed:!0});for(let s=0;s<2;s++){let r=b.debug.timeScale<1;Ah({p1:Y(-a.width-n*(r?2:3.5),-8),p2:Y(-a.width-n*(r?2:3.5),-8-a.height),p3:Y(-a.width-n*(r?3.5:2),-8-a.height/2),pos:Y(-s*n*1+(r?-8*.5:0),0),color:Ge(255,255,255),fixed:!0})}ii(a),Jt()}),b.debug.curRecording&&pa(()=>{ln(),it(0,zt()),it(24,-24),Xi({radius:12,color:Ge(255,0,0),opacity:Qf(0,1,b.app.time()*4),fixed:!0}),Jt()}),b.debug.showLog&&b.game.logs.length>0&&pa(()=>{ln(),it(0,zt()),it(8,-8);let n=8,a=[];for(let r of b.game.logs){let o="",f=r.msg instanceof Error?"error":"info";o+=`[time]${r.time.toFixed(2)}[/time]`,o+=" ",o+=`[${f}]${Pu(r.msg)}[/${f}]`,a.push(o)}b.game.logs=b.game.logs.filter(r=>b.app.time()-r.time<(b.globalOpt.logTime||4));let s=ai({text:a.join(`
`),font:Xu,pos:Y(n,-8),anchor:"botleft",size:16,width:Rt()*.6,lineSpacing:n/2,fixed:!0,styles:{time:{color:Ge(127,127,127)},info:{color:Ge(255,255,255)},error:{color:Ge(255,0,127)}}});rn({width:s.width+n*2,height:s.height+n*2,anchor:"botleft",color:Ge(0,0,0),radius:4,opacity:.8,fixed:!0}),ii(s),Jt()})}d(Sy,"drawDebug");function Pu(n,a=!1,s=new Set){if(s.has(n))return"<recursive>";var r="",o;return a&&typeof n=="string"&&(n=JSON.stringify(n)),Array.isArray(n)&&(r=["[",n.map(f=>Pu(f,!0,s.union(new Set([n])))).join(", "),"]"].join(""),n=r),n===null?"null":(typeof n=="object"&&n.toString===Object.prototype.toString&&(n.constructor!==Object&&(r+=n.constructor.name+" "),r+=["{",(o=Object.getOwnPropertyNames(n).map(f=>`${/^\w+$/.test(f)?f:JSON.stringify(f)}: ${Pu(n[f],!0,s.union(new Set([n])))}`).join(", "))?` ${o} `:"","}"].join(""),n=r),String(n).replaceAll(new RegExp("(?<!\\\\)\\[","g"),"\\["))}d(Pu,"prettyDebug");function xy(){let n=b.game.cam,a=K.fromAngle(St(0,360)).scale(n.shake);n.shake=Pt(n.shake,0,5*xt()),n.transform=new Wn().translate(pr()).scale(n.scale).rotate(n.angle).translate((n.pos??pr()).scale(-1).add(a)),b.game.root.draw(),sn()}d(xy,"drawFrame");function Ey(){let n=ti();b.game.events.numListeners("loading")>0?b.game.events.trigger("loading",n):pa(()=>{let a=Rt()/2,s=24,r=Y(Rt()/2,zt()/2).sub(Y(a/2,s/2));rn({pos:Y(0),width:Rt(),height:zt(),color:Ge(0,0,0)}),rn({pos:r,width:a,height:s,fill:!1,outline:{width:4}}),rn({pos:r,width:a*n,height:s})})}d(Ey,"drawLoadScreen");function wh(n,a,s){let r=b.gfx.ggl.gl;sn(),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST),r.stencilFunc(r.NEVER,1,255),r.stencilOp(r.REPLACE,r.REPLACE,r.REPLACE),a(),sn(),r.stencilFunc(s,1,255),r.stencilOp(r.KEEP,r.KEEP,r.KEEP),n(),sn(),r.disable(r.STENCIL_TEST)}d(wh,"drawStenciled");function My(n,a){let s=b.gfx.ggl.gl;wh(n,a,s.EQUAL)}d(My,"drawMasked");function yr(n){var f,h;if(!n.tex)throw new Error('drawTexture() requires property "tex".');let a=n.quad??new lt(0,0,1,1),s=n.tex.width*a.w,r=n.tex.height*a.h,o=new K(1);if(n.tiled){let v=ji(n.anchor||ro);(((f=n.pos)==null?void 0:f.x)||0)-(v.x+1)*.5*(n.width||s),(((h=n.pos)==null?void 0:h.y)||0)-(v.y+1)*.5*(n.height||r);let g=(n.width||s)/s,p=(n.height||r)/r,w=Math.floor(g),R=Math.floor(p),y=g-w,q=p-R,E=(w+y?1:0)*(R+q?1:0),N=new Array(E*6),x=new Array(E*4),D=0,V=d(($,re,ee,O,U)=>{N[D*6+0]=D*4+0,N[D*6+1]=D*4+1,N[D*6+2]=D*4+3,N[D*6+3]=D*4+1,N[D*6+4]=D*4+2,N[D*6+5]=D*4+3,x[D*4+0]={pos:new K($-v.x,re-v.y),uv:new K(U.x,U.y),color:n.color||De.WHITE,opacity:n.opacity||1},x[D*4+1]={pos:new K($+ee-v.x,re-v.y),uv:new K(U.x+U.w,U.y),color:n.color||De.WHITE,opacity:n.opacity||1},x[D*4+2]={pos:new K($+ee-v.x,re+O-v.y),uv:new K(U.x+U.w,U.y+U.h),color:n.color||De.WHITE,opacity:n.opacity||1},x[D*4+3]={pos:new K($-v.x,re+O-v.y),uv:new K(U.x,U.y+U.h),color:n.color||De.WHITE,opacity:n.opacity||1},D++},"addQuad");for(let $=0;$<R;$++){for(let re=0;re<w;re++)V(re*s,$*r,s,r,a);y&&V(w*s,$*r,s*y,r,new lt(a.x,a.y,a.w*y,a.h))}if(q){for(let $=0;$<w;$++)V($*s,R*r,s,r*q,new lt(a.x,a.y,a.w,a.h*q));y&&V(w*s,R*r,s*y,r*q,new lt(a.x,a.y,a.w*y,a.h*q))}Aa(x,N,n.fixed,n.tex,n.shader,n.uniform??void 0)}else n.width&&n.height?(o.x=n.width/s,o.y=n.height/r):n.width?(o.x=n.width/s,o.y=o.x):n.height&&(o.y=n.height/r,o.x=o.y),is(Object.assign({},n,{scale:o.scale(n.scale||new K(1)),tex:n.tex,quad:a,width:s,height:r}))}d(yr,"drawTexture");function Ty(n){if(!n.sprite)throw new Error('drawSprite() requires property "sprite"');let a=or(n.sprite);if(!a||!a.data)return;let s=a.data.frames[n.frame??0];if(!s)throw new Error(`Frame not found: ${n.frame??0}`);yr(Object.assign({},n,{tex:a.data.tex,quad:s.scale(n.quad??new lt(0,0,1,1))}))}d(Ty,"drawSprite");function Ry(n,a){let s=b.gfx.ggl.gl;wh(n,a,s.NOTEQUAL)}d(Ry,"drawSubtracted");function Lf(n){ii(ai(n))}d(Lf,"drawText");var r2=d((n,a)=>{let s=ho(a,Cf,Uf),r=n.pixelDensity??1,o=n.scale??1,{gl:f}=a,h=Ja.fromImage(a,new ImageData(new Uint8ClampedArray([255,255,255,255]),1,1)),v=n.width&&n.height?new Fu(a,n.width*r*o,n.height*r*o):new Fu(a,f.drawingBufferWidth,f.drawingBufferHeight),g=null,p=1;n.background&&(typeof n.background=="string"?g=Ge(n.background):(g=Ge(...n.background),p=n.background[3]??1),f.clearColor(g.r/255,g.g/255,g.b/255,p??1)),f.enable(f.BLEND),f.blendFuncSeparate(f.ONE,f.ONE_MINUS_SRC_ALPHA,f.ONE,f.ONE_MINUS_SRC_ALPHA);let w=new s2(a,lh,wA,SA),R=Ja.fromImage(a,new ImageData(new Uint8ClampedArray([128,128,128,255,190,190,190,255,190,190,190,255,128,128,128,255]),2,2),{wrap:"repeat",filter:"nearest"});return{lastDrawCalls:0,ggl:a,defShader:s,defTex:h,frameBuffer:v,postShader:null,postShaderUniform:null,renderer:w,transform:new Wn,transformStack:[],bgTex:R,bgColor:g,bgAlpha:p,width:n.width??f.drawingBufferWidth/r/o,height:n.height??f.drawingBufferHeight/r/o,viewport:{x:0,y:0,width:f.drawingBufferWidth,height:f.drawingBufferHeight},fixed:!1}},"initAppGfx");function Sh(){let n=b.pixelDensity,a=b.gfx.ggl.gl.drawingBufferWidth/n,s=b.gfx.ggl.gl.drawingBufferHeight/n;if(b.globalOpt.letterbox){if(!b.globalOpt.width||!b.globalOpt.height)throw new Error("Letterboxing requires width and height defined.");let r=a/s,o=b.globalOpt.width/b.globalOpt.height;if(r>o){let f=s*o,h=(a-f)/2;b.gfx.viewport={x:h,y:0,width:f,height:s}}else{let f=a/o,h=(s-f)/2;b.gfx.viewport={x:0,y:h,width:a,height:f}}return}if(b.globalOpt.stretch&&(!b.globalOpt.width||!b.globalOpt.height))throw new Error("Stretching requires width and height defined.");b.gfx.viewport={x:0,y:0,width:a,height:s}}d(Sh,"updateViewport");function Pa(n){return n.fixed?!0:n.parent?Pa(n.parent):!1}d(Pa,"isFixed");function li(n){return{color:n.color,opacity:n.opacity,anchor:n.anchor,outline:n.outline,shader:n.shader,uniform:n.uniform}}d(li,"getRenderProps");function qy(n,a={}){return{id:"circle",radius:n,draw(){Xi(Object.assign(li(this),{radius:this.radius,fill:a.fill}))},renderArea(){return new et(new K(this.anchor?0:-this.radius),this.radius*2,this.radius*2)},inspect(){return`radius: ${Math.ceil(this.radius)}`}}}d(qy,"circle");function xh(...n){return{id:"color",color:Ge(...n),inspect(){return`color: ${this.color.toString()}`}}}d(xh,"color");function Dy(n){return{add(){this.canvas=n}}}d(Dy,"drawon");function Oy(n=1){let a,s=0,r=!1;return{require:["opacity"],add(){a=this.opacity,this.opacity=0},update(){r||(s+=xt(),this.opacity=Nn(s,0,n,0,a),s>=n&&(this.opacity=a,r=!0))}}}d(Oy,"fadeIn");function By(n="intersect"){return{id:"mask",mask:n}}d(By,"mask");function Eh(n){return{id:"opacity",opacity:n??1,fadeIn(a=1,s=b.k.easings.linear){return b.game.root.tween(0,this.opacity,a,r=>this.opacity=r,s)},fadeOut(a=1,s=b.k.easings.linear){return b.game.root.tween(this.opacity,0,a,r=>this.opacity=r,s)},inspect(){return`opacity: ${Vu(this.opacity,1)}`}}}d(Eh,"opacity");function Cy(n=1,a=Ge(0,0,0),s=1,r="miter",o=10,f="butt"){return{id:"outline",outline:{width:n,color:a,opacity:s,join:r,miterLimit:o,cap:f},inspect(){return`outline: ${this.outline.width}px, ${this.outline.color}`}}}d(Cy,"outline");var $l,u2=($l=class{constructor(){_(this,"pos",Y(0));_(this,"vel",Y(0));_(this,"acc",Y(0));_(this,"angle",0);_(this,"angularVelocity",0);_(this,"damping",0);_(this,"t");_(this,"lt",null);_(this,"gc");this.t=0,this.gc=!0}get progress(){return this.lt?this.t/this.lt:this.t}},d($l,"Particle"),$l);function Uy(n,a){let s=a.lifetime,r=[],o=n.colors||[De.WHITE],f=n.opacities||[1],h=n.quads||[new lt(0,0,1,1)],v=n.scales||[1],g=n.lifeTime,p=a.direction,w=a.spread,R=n.speed||[0,0],y=n.angle||[0,0],q=n.angularVelocity||[0,0],E=n.acceleration||[Y(0),Y(0)],N=n.damping||[0,0],x=[],D=new Array(n.max),V=0,$=0;for(let O=0;O<n.max;O++){x[O*6+0]=O*4+0,x[O*6+1]=O*4+1,x[O*6+2]=O*4+3,x[O*6+3]=O*4+1,x[O*6+4]=O*4+2,x[O*6+5]=O*4+3;for(let U=0;U<4;U++)D[O*4+U]={pos:new K(0,0),uv:new K(0,0),color:Ge(255,255,255),opacity:1};r[O]=new u2}let re=new Ft;function ee(O=0){for(;O<n.max;){if(r[O].gc)return O;O++}return null}return d(ee,"nextFree"),{id:"particles",emit(O){let U=0;for(let G=0;G<O;G++){if(U=ee(U),U==null)return;let j=St(p-w,p+w),F=K.fromAngle(j).scale(St(R[0],R[1])),ae=St(y[0],y[1]),ue=St(q[0],q[1]),ge=Y(St(E[0].x,E[1].x),St(E[0].y,E[1].y)),me=St(N[0],N[1]),ve=g?St(g[0],g[1]):null,P=a.shape?a.shape.random():Y(),ne=r[U];ne.lt=ve,ne.pos=P,ne.vel=F,ne.acc=ge,ne.angle=ae,ne.angularVelocity=ue,ne.damping=me,ne.angularVelocity=ue,ne.gc=!1}V+=O},update(){if(s!==void 0&&s<=0)return;let O=xt();for(let U of r)if(!U.gc){if(U.t+=O,U.lt&&U.t>=U.lt){U.gc=!0,V--;continue}U.vel=U.vel.add(U.acc.scale(O)).scale(1-U.damping*O),U.pos=U.pos.add(U.vel.scale(O)),U.angle+=U.angularVelocity*O}for(s!==void 0&&(s-=O,s<=0&&re.trigger()),$+=O;V<n.max&&a.rate&&$>a.rate;)this.emit(1),V++,$-=a.rate},draw(){if(!(s!==void 0&&s<=0)){for(let O=0;O<r.length;O++){let U=r[O];if(U.gc)continue;let G=U.progress,j=Math.floor(U.progress*o.length),F=j<o.length-1?Pt(o[j],o[j+1],Nn(G,j/o.length,(j+1)/o.length,0,1)):o[j],ae=Math.floor(U.progress*f.length),ue=ae<f.length-1?Pt(f[ae],f[ae+1],Nn(G,ae/f.length,(ae+1)/f.length,0,1)):f[ae],ge=Math.floor(U.progress*h.length),me=h[ge],ve=Math.floor(U.progress*v.length),P=v[ve],ne=Math.cos(U.angle*Math.PI/180),le=Math.sin(U.angle*Math.PI/180),he=(n.texture?n.texture.width:10)*me.w/2,M=(n.texture?n.texture.height:10)*me.h/2,W=O*4,te=D[W];te.pos.x=U.pos.x+-he*P*ne- -M*P*le,te.pos.y=U.pos.y+-he*P*le+-M*P*ne,te.uv.x=me.x,te.uv.y=me.y,te.color.r=F.r,te.color.g=F.g,te.color.b=F.b,te.opacity=ue,te=D[W+1],te.pos.x=U.pos.x+he*P*ne- -M*P*le,te.pos.y=U.pos.y+he*P*le+-M*P*ne,te.uv.x=me.x+me.w,te.uv.y=me.y,te.color.r=F.r,te.color.g=F.g,te.color.b=F.b,te.opacity=ue,te=D[W+2],te.pos.x=U.pos.x+he*P*ne-M*P*le,te.pos.y=U.pos.y+he*P*le+M*P*ne,te.uv.x=me.x+me.w,te.uv.y=me.y+me.h,te.color.r=F.r,te.color.g=F.g,te.color.b=F.b,te.opacity=ue,te=D[W+3],te.pos.x=U.pos.x+-he*P*ne-M*P*le,te.pos.y=U.pos.y+-he*P*le+M*P*ne,te.uv.x=me.x,te.uv.y=me.y+me.h,te.color.r=F.r,te.color.g=F.g,te.color.b=F.b,te.opacity=ue}Aa(D,x,this.fixed,n.texture,this.shader,this.uniform)}},onEnd(O){return re.add(O)},inspect(){return`count: ${V}/${n.max}`}}}d(Uy,"particles");function zy(n,a={}){if(n.length<3)throw new Error(`Polygon's need more than two points, ${n.length} points provided`);return{id:"polygon",pts:n,colors:a.colors,uv:a.uv,tex:a.tex,radius:a.radius,draw(){ya(Object.assign(li(this),{pts:this.pts,colors:this.colors,uv:this.uv,tex:this.tex,radius:this.radius,fill:a.fill,triangulate:a.triangulate}))},renderArea(){return new Wt(this.pts)},inspect(){return`polygon: ${this.pts.map(s=>`[${s.x},${s.y}]`).join(",")}`}}}d(zy,"polygon");function Mh(n,a,s){let r;return b.game.root.get("area").forEach(o=>{if(s&&s.some(h=>o.is(h)))return;let f=o.worldArea().raycast(n,a);f&&(r?f.fraction<r.fraction&&(r=f,r.object=o):(r=f,r.object=o))}),r}d(Mh,"raycast");function Th(n,a,s={}){return{id:"rect",width:n,height:a,radius:s.radius||0,draw(){rn(Object.assign(li(this),{width:this.width,height:this.height,radius:this.radius,fill:s.fill}))},renderArea(){return new et(Y(0),this.width,this.height)},inspect(){return`rect: (${Math.ceil(this.width)}w, ${Math.ceil(this.height)}h)`}}}d(Th,"rect");function _y(n,a){return{id:"shader",shader:n,...typeof a=="function"?{uniform:a(),update(){this.uniform=a()}}:{uniform:a},inspect(){return`shader: ${n}`}}}d(_y,"shader");function Hy(n,a){if(!a.tileWidth||!a.tileHeight)throw new Error("Must provide tileWidth and tileHeight.");let s=b.game.root.add([vr(a.pos??Y(0))]),r=n.length,o=0,f=null,h=null,v=null,g=null,p=d(O=>O.x+O.y*o,"tile2Hash"),w=d(O=>Y(Math.floor(O%o),Math.floor(O/o)),"hash2Tile"),R=d(()=>{f=[];for(let O of s.children)y(O)},"createSpatialMap"),y=d(O=>{let U=p(O.tilePos);f[U]?f[U].push(O):f[U]=[O]},"insertIntoSpatialMap"),q=d(O=>{let U=p(O.tilePos);if(f[U]){let G=f[U].indexOf(O);G>=0&&f[U].splice(G,1)}},"removeFromSpatialMap"),E=d(()=>{let O=!1;for(let U of s.children){let G=s.pos2Tile(U.pos);(U.tilePos.x!=G.x||U.tilePos.y!=G.y)&&(O=!0,q(U),U.tilePos.x=G.x,U.tilePos.y=G.y,y(U))}O&&s.trigger("spatialMapChanged")},"updateSpatialMap"),N=d(()=>{let O=s.getSpatialMap(),U=s.numRows()*s.numColumns();h?h.length=U:h=new Array(U),h.fill(1,0,U);for(let G=0;G<O.length;G++){let j=O[G];if(j){let F=0;for(let ae of j)if(ae.isObstacle){F=1/0;break}else F+=ae.cost;h[G]=F||1}}},"createCostMap"),x=d(()=>{let O=s.getSpatialMap(),U=s.numRows()*s.numColumns();v?v.length=U:v=new Array(U),v.fill(15,0,U);for(let G=0;G<O.length;G++){let j=O[G];if(j){let F=j.length,ae=15;for(let ue=0;ue<F;ue++)ae|=j[ue].edgeMask;v[G]=ae}}},"createEdgeMap"),D=d(()=>{let O=s.numRows()*s.numColumns(),U=d((j,F)=>{let ae=[];for(ae.push(j);ae.length>0;){let ue=ae.pop();re(ue).forEach(ge=>{g[ge]<0&&(g[ge]=F,ae.push(ge))})}},"traverse");g?g.length=O:g=new Array(O),g.fill(-1,0,O);let G=0;for(let j=0;j<h.length;j++){if(g[j]>=0){G++;continue}U(j,G),G++}},"createConnectivityMap"),V=d((O,U)=>h[U],"getCost"),$=d((O,U)=>{let G=w(O),j=w(U);return G.dist(j)},"getHeuristic"),re=d((O,U)=>{let G=[],j=Math.floor(O%o),F=j>0&&v[O]&1&&h[O-1]!==1/0,ae=O>=o&&v[O]&2&&h[O-o]!==1/0,ue=j<o-1&&v[O]&4&&h[O+1]!==1/0,ge=O<o*r-o-1&&v[O]&8&&h[O+o]!==1/0;return U?(F&&(ae&&G.push(O-o-1),G.push(O-1),ge&&G.push(O+o-1)),ae&&G.push(O-o),ue&&(ae&&G.push(O-o+1),G.push(O+1),ge&&G.push(O+o+1)),ge&&G.push(O+o)):(F&&G.push(O-1),ae&&G.push(O-o),ue&&G.push(O+1),ge&&G.push(O+o)),G},"getNeighbours"),ee={id:"level",tileWidth(){return a.tileWidth},tileHeight(){return a.tileHeight},spawn(O,...U){let G=Y(...U),j=(()=>{if(typeof O=="string"){if(a.tiles[O]){if(typeof a.tiles[O]!="function")throw new Error("Level symbol def must be a function returning a component list");return a.tiles[O](G)}else if(a.wildcardTile)return a.wildcardTile(O,G)}else{if(Array.isArray(O))return O;throw new Error("Expected a symbol or a component list")}})();if(!j)return null;let F=!1,ae=!1;for(let ge of j)ge.id==="tile"&&(ae=!0),ge.id==="pos"&&(F=!0);F||j.push(vr(this.tile2Pos(G))),ae||j.push(jh());let ue=s.add(j);return F&&(ue.tilePosOffset=ue.pos.clone()),ue.tilePos=G,ue.transform=Cl(ue),f&&(y(ue),this.trigger("spatialMapChanged"),this.trigger("navigationMapInvalid")),ue},numColumns(){return o},numRows(){return r},levelWidth(){return o*this.tileWidth()},levelHeight(){return r*this.tileHeight()},tile2Pos(...O){return Y(...O).scale(this.tileWidth(),this.tileHeight())},pos2Tile(...O){let U=Y(...O);return Y(Math.floor(U.x/this.tileWidth()),Math.floor(U.y/this.tileHeight()))},getSpatialMap(){return f||R(),f},removeFromSpatialMap:q,insertIntoSpatialMap:y,onSpatialMapChanged(O){return this.on("spatialMapChanged",O)},onNavigationMapInvalid(O){return this.on("navigationMapInvalid",O)},getAt(O){f||R();let U=p(O);return f[U]||[]},raycast(O,U){let G=this.toWorld(O),j=this.toWorld(O.add(U)).sub(G),F=1/this.tileWidth(),ae=O.scale(F),ue=e0(ae,U,ge=>{let me=this.getAt(ge);if(me.some(P=>P.isObstacle))return!0;let ve=null;for(let P of me)if(P.has("area")){let ne=P.worldArea().raycast(G,j);ne&&(ve?ne.fraction<ve.fraction&&(ve=ne,ve.object=P):(ve=ne,ve.object=P))}return ve&&(ve.point=this.fromWorld(ve.point).scale(F)),ve||!1},64);return ue&&(ue.point=ue.point.scale(this.tileWidth())),ue},update(){f&&E()},invalidateNavigationMap(){h=null,v=null,g=null},onNavigationMapChanged(O){return this.on("navigationMapChanged",O)},getTilePath(O,U,G={}){var ne;if(h||N(),v||x(),g||D(),O.x<0||O.x>=o||O.y<0||O.y>=r||U.x<0||U.x>=o||U.y<0||U.y>=r)return null;let j=p(O),F=p(U);if(h[F]===1/0)return null;if(j===F)return[];if(g[j]!=-1&&g[j]!==g[F])return null;let ae=new q0((le,he)=>le.cost<he.cost);ae.insert({cost:0,node:j});let ue=new Map;ue.set(j,j);let ge=new Map;for(ge.set(j,0);ae.length!==0;){let le=(ne=ae.remove())==null?void 0:ne.node;if(le===F)break;let he=re(le,G.allowDiagonals);for(let M of he){let W=(ge.get(le)||0)+V(le,M)+$(M,F);(!ge.has(M)||W<ge.get(M))&&(ge.set(M,W),ae.insert({cost:W,node:M}),ue.set(M,le))}}let me=[],ve=F,P=w(ve);for(me.push(P);ve!==j;){let le=ue.get(ve);if(le===void 0)throw new Error("Bug in pathfinding algorithm");ve=le;let he=w(ve);me.push(he)}return me.reverse()},getPath(O,U,G={}){let j=this.tileWidth(),F=this.tileHeight(),ae=this.getTilePath(this.pos2Tile(O),this.pos2Tile(U),G);return ae?[O,...ae.slice(1,-1).map(ue=>ue.scale(j,F).add(j/2,F/2)),U]:null}};return s.use(ee),s.onNavigationMapInvalid(()=>{s.invalidateNavigationMap(),s.trigger("navigationMapChanged")}),n.forEach((O,U)=>{let G=O.split("");o=Math.max(G.length,o),G.forEach((j,F)=>{s.spawn(j,Y(F,U))})}),s}d(Hy,"addLevel");function It(n,a,s){return b.game.objEvents.registers[n]||(b.game.objEvents.registers[n]=new R0),b.game.objEvents.on(n,(r,...o)=>{r.is(a)&&s(r,...o)})}d(It,"on");var o2=d((n,a,...s)=>{for(let r of b.game.root.children)r.is(a)&&r.trigger(n)},"trigger"),c2=Pe(n=>{let a=b.game.root.add([{fixedUpdate:n}]);return{get paused(){return a.paused},set paused(s){a.paused=s},cancel:d(()=>a.destroy(),"cancel")}},(n,a)=>It("fixedUpdate",n,a)),f2=Pe(n=>{let a=b.game.root.add([{update:n}]);return{get paused(){return a.paused},set paused(s){a.paused=s},cancel:d(()=>a.destroy(),"cancel")}},(n,a)=>It("update",n,a)),h2=Pe(n=>{let a=b.game.root.add([{draw:n}]);return{get paused(){return a.hidden},set paused(s){a.hidden=s},cancel:d(()=>a.destroy(),"cancel")}},(n,a)=>It("draw",n,a)),Ny=Pe(n=>b.game.events.on("add",n),(n,a)=>It("add",n,a)),d2=Pe(n=>b.game.events.on("destroy",n),(n,a)=>It("destroy",n,a)),g2=Pe(n=>b.game.events.on("use",n),(n,a)=>It("use",n,a)),p2=Pe(n=>b.game.events.on("unuse",n),(n,a)=>It("unuse",n,a)),Gy=Pe(n=>b.game.events.on("tag",n),(n,a)=>It("tag",n,a)),m2=Pe(n=>b.game.events.on("untag",n),(n,a)=>It("untag",n,a));function Ly(n,a,s){return It("collide",n,(r,o,f)=>o.is(a)&&s(r,o,f))}d(Ly,"onCollide");function Yy(n,a,s){return It("collideUpdate",n,(r,o,f)=>o.is(a)&&s(r,o,f))}d(Yy,"onCollideUpdate");function jy(n,a,s){return It("collideEnd",n,(r,o,f)=>o.is(a)&&s(r,o,f))}d(jy,"onCollideEnd");function Mr(n,a){b.game.root.get(n,{recursive:!0}).forEach(a),Ny(n,a),Gy((s,r)=>{r===n&&a(s)})}d(Mr,"forAllCurrentAndFuture");var y2=Pe(n=>b.app.onMousePress(n),(n,a)=>{let s=[];return Mr(n,r=>{if(!r.area)throw new Error("onClick() requires the object to have area() component");s.push(r.onClick(()=>a(r)))}),Li.join(s)});function Xy(n,a){let s=[];return Mr(n,r=>{if(!r.area)throw new Error("onHover() requires the object to have area() component");s.push(r.onHover(()=>a(r)))}),Li.join(s)}d(Xy,"onHover");function Vy(n,a){let s=[];return Mr(n,r=>{if(!r.area)throw new Error("onHoverUpdate() requires the object to have area() component");s.push(r.onHoverUpdate(()=>a(r)))}),Li.join(s)}d(Vy,"onHoverUpdate");function Qy(n,a){let s=[];return Mr(n,r=>{if(!r.area)throw new Error("onHoverEnd() requires the object to have area() component");s.push(r.onHoverEnd(()=>a(r)))}),Li.join(s)}d(Qy,"onHoverEnd");function Ky(n){b.game.events.on("loading",n)}d(Ky,"onLoading");function Zy(n){b.app.onResize(n)}d(Zy,"onResize");function Fy(n){b.game.events.on("error",n)}d(Fy,"onError");function po(n){b.assets.loaded?n():b.game.events.on("load",n)}d(po,"onLoad");function Jy(n){if(b.assets.loaded)oh().forEach(a=>n(...a));else return b.game.events.on("loadError",n)}d(Jy,"onLoadError");function Rh(...n){b.game.cam.pos=Y(...n)}d(Rh,"setCamPos");function qh(){return b.game.cam.pos?b.game.cam.pos.clone():pr()}d(qh,"getCamPos");function Dh(...n){b.game.cam.scale=Y(...n)}d(Dh,"setCamScale");function Oh(){return b.game.cam.scale.clone()}d(Oh,"getCamScale");function Bh(n){b.game.cam.angle=n}d(Bh,"setCamRot");function Ch(){return b.game.cam.angle}d(Ch,"getCamRot");function Py(){return b.game.cam.transform.clone()}d(Py,"getCamTransform");function Uh(n=Ge(255,255,255),a=1){let s=b.game.root.add([Th(Rt(),zt()),xh(n),Eh(1),Kh()]),r=s.fadeOut(a);return r.onEnd(()=>Yh(s)),r}d(Uh,"flash");function Wy(){return b.game.cam.transform.clone()}d(Wy,"camTransform");function Iy(n=12){b.game.cam.shake+=n}d(Iy,"shake");function Wu(n){return b.game.cam.transform.multVec2(n)}d(Wu,"toScreen");function zh(n){return b.game.cam.transform.invert().multVec2(n)}d(zh,"toWorld");function $y(...n){return Yi("camPos","setCamPos / getCamPos"),n.length>0&&Rh(...n),qh()}d($y,"camPos");function ky(...n){return Yi("camScale","setCamScale / getCamScale"),n.length>0&&Dh(...n),Oh()}d(ky,"camScale");function e1(n){return Yi("camRot","setCamRot / getCamRot"),n!==void 0&&Bh(n),Ch()}d(e1,"camRot");function t1(n=Ge(255,255,255),a=1){return Yi("camFlash","flash"),Uh(n,a)}d(t1,"camFlash");function mo(n=[]){let a=new Map,s=[],r={},o=new dr,f=[],h=new Set("*"),v=b.globalOpt.tagsAsComponents,g=null,p=!1,w={id:HA(),hidden:!1,transform:new Wn,children:[],parent:null,set paused(y){if(y!==p){p=y;for(let q of f)q.paused=y}},get paused(){return p},get tags(){return Array.from(h)},add(y){let q=Array.isArray(y)?mo(y):y;if(q.parent)throw new Error("Cannot add a game obj that already has a parent.");return q.parent=this,q.transform=Cl(q),this.children.push(q),q.trigger("add",q),b.game.events.trigger("add",q),q},readd(y){let q=this.children.indexOf(y);return q!==-1&&(this.children.splice(q,1),this.children.push(y)),y},remove(y){let q=this.children.indexOf(y);if(q!==-1){y.parent=null,this.children.splice(q,1);let E=d(N=>{N.trigger("destroy"),b.game.events.trigger("destroy",N),N.children.forEach(x=>E(x))},"trigger");E(y)}},removeAll(y){if(y)this.get(y).forEach(q=>this.remove(q));else for(let q of[...this.children])this.remove(q)},fixedUpdate(){this.paused||(this.children.forEach(y=>y.fixedUpdate()),this.trigger("fixedUpdate"))},update(){this.paused||(this.children.forEach(y=>y.update()),this.trigger("update"))},draw(){if(this.hidden)return;this.canvas&&(sn(),this.canvas.bind());let y=b.gfx.fixed;this.fixed&&(b.gfx.fixed=!0),ln(),it(this.pos),as(this.scale),Gi(this.angle);let q=this.children.sort((E,N)=>{let x=E.layerIndex??b.game.defaultLayerIndex,D=N.layerIndex??b.game.defaultLayerIndex;return x-D||(E.z??0)-(N.z??0)});if(this.mask){let E={intersect:b.k.drawMasked,subtract:b.k.drawSubtracted}[this.mask];if(!E)throw new Error(`Invalid mask func: "${this.mask}"`);E(()=>{q.forEach(N=>N.draw())},()=>{this.trigger("draw")})}else this.trigger("draw"),q.forEach(E=>E.draw());Jt(),b.gfx.fixed=y,this.canvas&&(sn(),this.canvas.unbind())},drawInspect(){this.hidden||(ln(),it(this.pos),as(this.scale),Gi(this.angle),this.children.forEach(y=>y.drawInspect()),this.trigger("drawInspect"),Jt())},use(y){var N;if(typeof y=="string")return h.add(y);if(!y||typeof y!="object")throw new Error(`You can only pass a component or a string to .use(), you passed a "${typeof y}"`);let q=[];y.id?(this.unuse(y.id),r[y.id]=[],q=r[y.id],a.set(y.id,y),v&&h.add(y.id)):s.push(y);for(let x in y){if(MA.has(x))continue;let D=Object.getOwnPropertyDescriptor(y,x);if(D)if(typeof D.value=="function"&&(y[x]=y[x].bind(this)),D.set&&Object.defineProperty(y,x,{set:D.set.bind(this)}),D.get&&Object.defineProperty(y,x,{get:D.get.bind(this)}),TA.has(x)){let V=x==="add"?()=>{var $;g=d(re=>q.push(re),"onCurCompCleanup"),($=y[x])==null||$.call(y),g=null}:y[x];q.push(this.on(x,V).cancel)}else if(this[x]===void 0)Object.defineProperty(this,x,{get:d(()=>y[x],"get"),set:d(V=>y[x]=V,"set"),configurable:!0,enumerable:!0}),q.push(()=>delete this[x]);else{let V=(N=a.values().find($=>$[x]!==void 0))==null?void 0:N.id;throw new Error(`Duplicate component property: "${x}" while adding component "${y.id}"`+(V?` (originally added by "${V}")`:""))}}let E=d(()=>{if(y.require){for(let x of y.require)if(!this.c(x))throw new Error(`Component "${y.id}" requires component "${x}"`)}},"checkDeps");y.destroy&&q.push(y.destroy.bind(this)),this.exists()?(E(),y.add&&(g=d(x=>q.push(x),"onCurCompCleanup"),y.add.call(this),g=null),y.id&&(this.trigger("use",y.id),b.game.events.trigger("use",this,y.id))):y.require&&q.push(this.on("add",E).cancel)},unuse(y){if(a.has(y)){for(let q of a.values())if(q.require&&q.require.includes(y))throw new Error(`Can't unuse. Component "${q.id}" requires component "${y}"`);a.delete(y),this.trigger("unuse",y),b.game.events.trigger("unuse",this,y)}else v&&h.has(y)&&h.delete(y);r[y]&&(r[y].forEach(q=>q()),delete r[y])},c(y){return a.get(y)??null},get(y,q={}){let E=d((x,D)=>q.only==="comps"?x.has(D):q.only==="tags"?x.is(D):x.is(D)||x.has(D),"checkTagsOrComps"),N=q.recursive?this.children.flatMap(d(function x(D){return[D,...D.children.flatMap(x)]},"recurse")):this.children;if(N=N.filter(x=>y?E(x,y):!0),q.liveUpdate){let x=d(V=>q.recursive?this.isAncestorOf(V):V.parent===this,"isChild"),D=[];D.push(b.k.onAdd(V=>{x(V)&&E(V,y)&&N.push(V)})),D.push(b.k.onDestroy(V=>{if(x(V)&&E(V,y)){let $=N.findIndex(re=>re.id===V.id);$!==-1&&N.splice($,1)}})),this.onDestroy(()=>{for(let V of D)V.cancel()})}return N},query(y){let q=y.hierarchy||"children",E=y.include,N=y.exclude,x=[];switch(q){case"children":x=this.children;break;case"siblings":x=this.parent?this.parent.children.filter(V=>V!==this):[];break;case"ancestors":let D=this.parent;for(;D;)x.push(D),D=D.parent;break;case"descendants":x=this.children.flatMap(d(function V($){return[$,...$.children.flatMap(V)]},"recurse"));break}if(E&&((y.includeOp||"and")==="and"||!Array.isArray(y.include)?x=x.filter(D=>D.is(E)):x=x.filter(D=>y.include.some(V=>D.is(V)))),N&&((y.includeOp||"and")==="and"||!Array.isArray(y.include)?x=x.filter(D=>!D.is(N)):x=x.filter(D=>!y.exclude.some(V=>D.is(V)))),y.visible===!0&&(x=x.filter(D=>D.visible)),y.distance){if(!this.pos)throw Error("Can't do a distance query from an object without pos");let D=y.distanceOp||"near",V=y.distance*y.distance;D==="near"?x=x.filter($=>$.pos&&this.pos.sdist($.pos)<=V):x=x.filter($=>$.pos&&this.pos.sdist($.pos)>V)}return y.name&&(x=x.filter(D=>D.name===y.name)),x},isAncestorOf(y){return y.parent?y.parent===this||this.isAncestorOf(y.parent):!1},exists(){return b.game.root.isAncestorOf(this)},is(y,q="and"){return Array.isArray(y)?q==="and"?y.every(E=>h.has(E)):y.some(E=>h.has(E)):h.has(y)},tag(y){if(Array.isArray(y))for(let q of y)h.add(q),this.trigger("tag",q),b.game.events.trigger("tag",this,q);else h.add(y),this.trigger("tag",y),b.game.events.trigger("tag",this,y)},untag(y){if(Array.isArray(y))for(let q of y)h.delete(q),this.trigger("untag",q),b.game.events.trigger("untag",this,q);else h.delete(y),this.trigger("untag",y),b.game.events.trigger("untag",this,y)},has(y,q="and"){return Array.isArray(y)?q==="and"?y.every(E=>a.has(E)):y.some(E=>a.has(E)):a.has(y)},on(y,q){let E=o.on(y,q.bind(this));return g&&g(()=>E.cancel()),E},trigger(y,...q){o.trigger(y,...q),b.game.objEvents.trigger(y,this,...q)},destroy(){this.parent&&this.parent.remove(this)},inspect(){var q;let y={};for(let[E,N]of a)y[E]=((q=N.inspect)==null?void 0:q.call(N))??null;for(let[E,N]of s.entries()){if(N.inspect){y[E]=N.inspect();continue}for(let[x,D]of Object.entries(N))typeof D!="function"&&(y[x]=`${x}: ${D}`)}return y},onAdd(y){return this.on("add",y)},onFixedUpdate(y){return this.on("fixedUpdate",y)},onUpdate(y){return this.on("update",y)},onDraw(y){return this.on("draw",y)},onDestroy(y){return this.on("destroy",y)},onUse(y){return this.on("use",y)},onUnuse(y){return this.on("unuse",y)},clearEvents(){o.clear()}},R=["onKeyPress","onKeyPressRepeat","onKeyDown","onKeyRelease","onMousePress","onMouseDown","onMouseRelease","onMouseMove","onCharInput","onMouseMove","onTouchStart","onTouchMove","onTouchEnd","onScroll","onGamepadButtonPress","onGamepadButtonDown","onGamepadButtonRelease","onGamepadStick","onButtonPress","onButtonDown","onButtonRelease"];for(let y of R)w[y]=(...q)=>{var N,x;let E=(x=(N=b.app)[y])==null?void 0:x.call(N,...q);return f.push(E),w.onDestroy(()=>E.cancel()),w.on("sceneEnter",()=>{var V,$;f.splice(f.indexOf(E),1);let D=($=(V=b.app)[y])==null?void 0:$.call(V,...q);Li.replace(E,D),f.push(E)}),E};for(let y of n)w.use(y);return w}d(mo,"make");var v2=d(()=>({events:new dr,objEvents:new dr,root:mo([]),gravity:null,scenes:{},currentScene:null,layers:null,defaultLayerIndex:0,logs:[],cam:{pos:null,scale:new K(1),angle:0,shake:0,transform:new Wn}}),"initGame");function n1(n){b.game.gravity=n?(b.game.gravity||Y(0,1)).unit().scale(n):null}d(n1,"setGravity");function a1(){return b.game.gravity?b.game.gravity.len():0}d(a1,"getGravity");function i1(n){b.game.gravity=n.unit().scale(b.game.gravity?b.game.gravity.len():1)}d(i1,"setGravityDirection");function zl(){return b.game.gravity?b.game.gravity.unit():Y(0,1)}d(zl,"getGravityDirection");var b2=gA("//uUBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAATAAAeAAANDQ0NDRoaGhoaKCgoKCg1NTU1NTVDQ0NDQ1BQUFBQXl5eXl5ra2tra2t5eXl5eYaGhoaGlJSUlJShoaGhoaGvr6+vr7y8vLy8ysrKysrX19fX19fl5eXl5fLy8vLy//////8AAAA5TEFNRTMuMTAwAaoAAAAAAAAAABSAJAOPhgAAgAAAHgBaqIlmAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//uUBAAP8h1kPIABR4BEDGeQAEbkSb2RAACBFMEyMiAAASJw4xjgwAGyRvfIoZT2QKGV5YNw/tKID9+X93qXtBQUFBQ/e+EFKTQUT/dy3f5dK/3d04rkXHpufCClDAaH7jDMgFAQEGfPt+jI352U9vU4GLRpzkUDeeeTQggQe2ggF3d7/3j697DnhCH5iGf38//iNj9oy2Jk71oj+CBAABGNB4RJNMwgCABCB//8//l////1z6XEGd73az07sOkwZD9VYgjzjmQ6j4EMfZM86OJ7GUWwvFw3ZPcdVEtczf9RNf6xMyxLjZZgjMQ7KDkLSU8g2E12UDUWrf//////9LdtFdeeqKwSitW9SJL59VM5pyUGiBNiK0jIGO0j7p3pUpWpaeqi1nTvqP3b43mGmM6HeXFjIlRwiFiIDQRRAGgkDQhxMMv//+f1//6XM/PfMvysJa3993MjDjhaRkrV3cRPXjGptDDGTHtFKUeMHU0K5STvVfMtVX/UXHctt1Z1//uUBB0AgnZkQAAgRTBMzIgAACiqCdB9E1QRgAFuIuGmhjABPZRJRCHi4etY2gcEYRwFw5KFBMMRV/////z6kX2ppnJszEzKbkZKEumm+pBRUDBg9IsgXGXrazn1QhmGjBrLVjT5Xvir0HT7d//HSZh18IZdji2N5JZgbA3DwQAahogSDqUhQuNtpJmBTwAGMY2QP3c/dy4EKsAABoXEJEFmlf/c4TgYtwcAbwfD4gOOoS1QIH7jDnNzYVe1x4mNFyD2jMVaaykjV29ePMARwXcUOgAFr+UjhVz4jhwMDFxPKgYs3cDFpohVgAAYAIO7u8eAAjRNA7hBFAwN3ACDvu7nETkLMrnyIj8v/9fNwhF9vKRfm82P5zPPmLV/WKs9G3d16n/v3rubEN0zgs7RdWrHne9brdv5bI4EwEAM6lj7aVdTKtXQHgLdzCKQ2kcihe4FyMcD1r3nR4TWxuax5EOZJEs3DEQnjyqyB8cSfrI6GEcoJxiHBDEfrTOFYrO1//uUBCgAA406ym5hgAB1R1ktzDwACxDBZzj0gAFhGrA3HoACypAXH9HY4umZan4ZlZKldajczMzMzOTnzMvnb77f/1IuSzHIbnJLJdapWmwUAQBXqWPtqV1OyqVqXhB9abR90OyKEsM51pIJK/nXplbDPtKz2dH+oVWeZSm8z7nvAZ19bneqhk3qeBhrhZiLbCc8sRnXb520RnPFd61/AgSR4f8CVlfWpD/////+N6/jv8v4f/6Ln///06c8YYcQIaGmAJ9VhMHEZYc9Kn0TOOYKv2cibDoZieAaGy4Cd6AfGkxQQr+agomAw+dC7AkjOxklIZEpUgmHxXP7/znl/4qT9Z/8+T2a0WF9/lvpv39if/KZnV6Gp1vQRmN1rYDAADfLGQxVR2d49LQLXdImm5n40smwjQ4aIYKMeKCOEw0OBV5cHA8cFV8mB5LyIIeksHspy79/iTv9SH+v66f2Wn/i+Lt//x9y//5MohgAAXiTCVBil4RUZ7XUvPRCD9Uc//uUBAoAAro3Wzc9AABXRutm56AACrUhc6eYT0FWpC508wnoO35hs9j6x7PQOB0PF0JWIkYwigNPoXUBA0cKA6JwDB7lRKDm/93r/mb6iEqL5lv3Vq//6YgYd1AgECi4xACCYbHyukYAAF4kwlQYpeEVGe11Lz0Qg/VHDt+YbPY+sez0DgdDxdCViJGMIoDT6F1AQNHCgOicAwe5USg5v/d6/5m+ohKi+Zb91av/+mIGHdQIBAouMQAgmGx8rptmoLKSACTuBBUPFsH6RlCz+UhoKeVfJy/eqOspBG4PScFOnOxYJJcf/nVzmyfR42Zwxy//hfSUrPq1SzFnO7q/SzNUzst+GQpnZ/kLwzVZ9xJ2lVa02zUFlJABJ3AgqHi2D9IyhZ/KQ0FPKvk5fvVHWUgjcHpOCnTnYsEkuP/zq5zZPo8bM4Y5f/wvpKVn1apZiznd1fpZmqZ2W/DIUzs/yF4Zqs+4k7SqtaYkWgEGMgppYQlMVdKcos2bWFZbFIJp//uUBAsAAr0wWe1hAABXpgs9rCAACwS5azj0gAFgly1nHpAAVgWmZa3LaUWCcGh5HgOEYkViyQUjrX+G5FUr5Dla1ZhtXDf7ckpazXwzeusqq+zXwUePSw8NYzlZKWfbyzod4dCRItAIMZBTSwhKYq6U5RZs2sKy2KQTSrAtMy1uW0osE4NDyPAcIxIrFkgpHWv8NyKpXyHK1qzDauG/25JS1mvhm9dZVV9mvgo8elh4axnKyUs+3lnQ7w6EkIEIIZFKlBSAGwRMrEIEuM658s5gvyVtFDrQtgTY2YSPlAJcgwlXLmokM8sUQJYJOm3eaW04jWVsoghX+ZBt3SHFZOypVez//VONpL+du6U+4WLXBC79cuhAhBDIpUoKQA2CJlYhAlxnXPlnMF+StoodaFsCbGzCR8oBLkGEq5c1EhnliiBLBJ027zS2nEaytlEEK/zINu6Q4rJ2VKr2f/6pxtJfzt3Sn3Cxa4IXfrl6IGEh4icUSUDRZk/k88VFEmCy//uUBAkAAociWgZh4ABQ5EtAzDwAC6zBXBmXgAF1mCuDMvAART7WmhWQ9QwYJexoKJ+z1bcQqfEFmtDtXH8lUg2omFi2b/4+UhW/j+bHgwAM8SqMAQFxYj9wqAwhlftf//sSQMJDxE4okoGizJ/J54qKJMFkin2tNCsh6hgwS9jQUT9nq24hU+ILNaHauP5KpBtRMLFs3/x8pCt/H82PBgAZ4lUYAgLixH7hUBhDK/a///YmHznKbibgJd0lEi0TfuHXCfhZ0faHA6GL3GuUpLTgTwnd/upcFAbo+BGMfzKxWE9PNg+sbrEwwRLn6uFElWTc/zN8Yvf5V3xV29///8OO/f7j3cT0mgMTPP9uPEwIQ+c5TcTcBLukokWib9w64T8LOj7Q4HQxe41ylJacCeE7v91LgoDdHwIxj+ZWKwnp5sH1jdYmGCJc/Vwokqybn+ZvjF7/Ku+Ku3v///hx37/ce7iek0BiZ5/tx4mBCmI5QXQAgigG+j0P8fdg2Xjs//uUBAiAAqwlWwY94ABVhKtgx7wACoilZ7z0AAFUlOz3noAAii2PkO1AMBYBIssJqQ5PtEdSQ2WE3xIF22b19axY89F5QQmWCwxJrf51h5mt74jRvBahCxQkS0MgJxY15ITjX3sb+vlGI5QXQAgigG+j0P8fdg2Xjsii2PkO1AMBYBIssJqQ5PtEdSQ2WE3xIF22b19axY89F5QQmWCwxJrf51h5mt74jRvBahCxQkS0MgJxY15ITjX3sb+vlEBsAgCSkHfwmFY/MMKQyg4tjhHeuR2mpSZWstSwEQAw00wZaogwgZL3PPVWw9vuB51zUXf3Df/ytV917DjxQEGA+0mbu4YYg4TnkRcMGQsxH/Ioc1AbAIAkpB38JhWPzDCkMoOLY4R3rkdpqUmVrLUsBEAMNNMGWqIMIGS9zz1VsPb7gedc1F39w3/8rVfdew48UQIFwus29HKDIAW8tcsSGAOKXK/jHmF1AkIAAC8ZUaEFwTHUylbannoarv7HwxH8//uUBAwEAtAx18sMQuBVJisaYSJeCmhnX6eZLQFZJy208wmidE7zXIRk0ZLYCqc1eg1sKc3HZuweFNeSCHHGg+JyhTcd8RE3/+rJXIdH6UpI2qUdVtHGRCOewEOXGUfKG2/v+RIoA0MAAAByh2gABL0EpLTwNTz0qzjM2ER8SF2lsSRLESGiqG5JXMCauo+aTB1GQKTyJd6SDnG6Iv8rkaoYeRihQbVGzJSSQ4sOghQh7vhkf+T0agMeCYAcAABBO40gsg/gOpfIiHoQgldEIGLVK9EaTFmFH9jkkvLA41VT/4q0XDJLUopJkJmWHAqZyRAPJOvBUS+NYSLC4FFjoJkUfGP/La3XNJCMJPep5CkIaRQCSTuM4ikUepPHAnZLEErtHuqs1EWDizBAvsdVeWBxqqn9aiS9FK24Z0KUhvVkY7ZbylKV/SrKiK0yrKqFkPe3/sZ//8xt6t2dajIDpFMRf6tSU9FIlJJKChTJIgq2hhZlrTlNcpaB/Xv5rDOU//uUBA2AAoQl1lVgwARQxLrKrBgAjCyVTrmngAGFkqnXNPAAg4ANdH9PKxIijn/xmvyjW2ZISnLe5yUtyv2ufSTfVJUGyoFiU6s6Crgyd2PEyn5Ul/85kUElPRSJSSSgoUySIKtoYWZa05TXKWgf17+awzlIOADXR/TxLEiKOf/GZ/KNbZkhKct7nJS3K/a59JN9UlQbKgWJTqzoKuDJ3Y8TKflSX/zmRQSCs10kCQCFAcBJCZCbl2c0bF5RBELfoQBmp3G2m3m3lgZoN0/BmhutukeGPbe/GtGj9jtiXNZdfDjIwYiYvnePS27ebO75y/Edksl4SONB/PlBrg6dNh8h+pW2//lktFhYcFZrpIEgEKA4CSEyE3Ls5o2LyiCIW/QgDNTuNtNvNvLAzQbp+DNDdbdI8Me29+NaNH7HbEuay6+HGRgxExfO8elt282d3zl+I7JZLwkcaD+fKDXB06bD5D9Stt//LJaLCw4AhAEAACKEywIJz0PRwTBn6tS2//uUBAmAAmUjVNdhAABMpGqa7CAACWiNUay8pYEtEao1l5SwsvqET9LUv/TIpAROYdsSHIoHxzccjRUPRZmVQnHLH7FYdB9rF8Q11yOCAKeHZHyIhMO///lWz0JPcAQgCAABFCZYEE56Ho4Jgz9WpbWX1CJ+lqX/pkUgInMO2JDkUD45uORoqHoszKoTjlj9isOg+1i+Ia65HBAFPDsj5EQmHf//yrZ6EnuACgcjEAKT2Dfl0wUuCCDwOHgDLjMYs6OLViO840e/fHfBZmadNu+NYYNVT84fPkYRCJ/K5V3vsq0Gh0H0YgBP+moubbodw+IHr/kgAoHIxACk9g35dMFLggg8Dh4Ay4zGLOji1YjvONHv3x3wWZmnTbvjWGDVU/OHz5GEQifyuVd77KtBodB9GIAT/pqLm26HcPiB6/5KAE6OeESRRgDMViF4jCI2bT5fbThs6iKGQfPTVaYtXdjMROEbiIqKlZk1KJAzpcWEnNs6FapfKXq1jerLEhaS//uUBB+BAmUqVWsMKrhMpUqtYYVXCTSlTzWSgAE0lKp2sFAAqcgRPyRHxKsBPAQVtIgCdHPCJIowBmKxC8RhEbNp8vtpw2dRFDIPnpqtMWruxmInCNxEVFSsyalEgZ0uLCTm2dCtUvlL1axvVliQtJVOQIn5Ij4lWAngIK2kQCHQhVnhkMD1BlLGveBt13z8bjbsI+MtfqdjdaAQiJFeBGV0AQFB2Qr8QDBc8iiATM25R8+fqp/Izn9CHGC7CEg5BTqd6jM4IBoADCiIYSTWAeAwKIoGBRr+EfZ3bjcbhhdDLX6nY3WgEIiRXgRloICoOyFfiA4+RRAJmbco+fP1U/kZz+hDjBdhCQcgp1O9QZnAQAbiCQAm485bonLdZ5NLqAAAEaPfiGAJsDpfUrAhC8wIZFkkEsiX6UBGvscp3FQfN5VNjWCnQ6AGqvk/UqZBbG3rpCt0gR7qtiNBxOfSeTupa6fMjXaMuYTclIn9ZIVayP2pYMiVUajtVYufukCu//uUBDWABAw9Uu5p4AKDx9qdzLwAiiyjShmngAFFlGlDNPAAm9bW7Vct6q61jNa/e6f/0cL33T31CoACacjUkabckdbjkoAAQ2Pe5fJoCshU+EXmCMRGkCbpN6UCNfKFHfcVB8kSOgSgDsuTAAtXyfqVMgtjb10hW6QI91XCQyZP85jl1K90+ZGuz5Ewl0gGT+skKsGAr0weA/JVRqO1Vi5+6QK6b1tbtFct6q61jNa+26fG/RwvfdPeIpm6BswQctcoCeIAYEYf1mWXRGbxQSwlUiCoY91ytUSo4mqDAgHrhQ3Y/4l2ptfeDG/xHfQXlda18S59aW+rZz8/Gtf7vXU0aFeJUKxkREA+tA5tnJGCDlrlATxADAjD+syy6IzeKCWEqkQVDHuuVqiVHE1QYEA9cKG7H/Eu1Nr7wY3+I76C8rrWviXPrS31bOfn41r/d66mjQrxKhWMiIgH1oHNs5Iw4nNwugqcGVUIoOnFryq5YBVMFyLPEAM4rxNXgSVW//uUBA+AAtkszwZtgABapZngzbAACxyZTzmkgAljkynnNJABzA8PYTFvx2VIR78NqPytscLolrRXGbLUv3rfHNp37BGU77n4xv9NNmu7larWfrk294JgJMNJQ9k6Z//3mHE5uF0FTgyqhFB04teVXLAKpguRZ4gBnFeJq8CSq2YHh7CYt+OypCPfhtR+VtjhdEtaK4zZal+9b45tO/YIynfc/GN/pps13crVaz9cm3vBMBJhpKLJ0z//vAA/m9Y8//8wALImAAl3wUQQSnfKuPXkDS5Ql5I8JfOufQG0twDlAxToCFKYarEoVqWFNJ6nNVd9fnX5/O72D/GEfeJf1TBIwjlyh7XHDg+dW/e///9oGG0YAH83rHn//mABZEwAEu+CiCCU75Vx68gaXKEvJHhL51z6A2luAcoGKdAQpTDVYlCtSwppPU5qrvr86/P53ewf4wj7xL+qYJGEcuUPa44cHzq373///tAw2joy5iMKijE5A82dFg4+liKoGBQF//uUBAmAAqobToZt4ABVI2nQzbwAClBrX7j0gBFKDWv3HpACuAcKpXhYKYZtV8OtethxIYxrF3onBiRVg0Z5VNJHjodV8sWdI031RiPzue4vQ9IA5zgUawg6s0J1ixM4H0rkVfR6DLmIwqKMTkDzZ0WDj6WIqgYFAW4BwqleFgphm1Xw6162HEhjGsXeicGJFWDRnlU2I8dDqvlizpGm+qMR+dz3F6HpAHOcCjWEHVmhOsWJnA+lcir6PQCI3I43G43HIxGIwIABFJObxBmwXEYYlhzHKcYl4ccyEKlyI6ONNnSpVx1pORjqKXEvGgpRqN/VI1tIQnEAogesbyZtJhhEj7rQutav+WB4ClRCCI3I43G43HIxGIwIABFJObxBmwXEYYlhzHKcYl4ccyEKlyI6ONNnSpVx1pORjqKXEvGgpRqN/VI1tIQnEAogesbyZtJhhEj7rQutav+WB4ClRDWAElxIBP/fgA5BRsQaBJEcORBgUrqXzDOmyQ7B8Js0//uUBA+AAnIbz+9swABNA3nq7ZgACYxbKSxpgQEzi6UljTAh0ph0igLRRPKosl/+21oMFkUfTMlPbu5vLWMhsIpBoJlEBWacSYwqxs0adkSycpqwAugFfb4AMMU0BUCAJUc6VBAkwaXzDlPhDsnkNmmlMVAKAOiieBJHkv/22tBkzUfXZJ+37zy1jILgmkGjpRAVmnCVjCrGzRozkSydWoAAhAKsACEHAmDZAyOJvjXlQsCbLAhfALBGnDuUyMsKxSWoyN41Ma1yzl81ldaycS4FmOc/HeG0F0EouNMvOJY8wRknQ2MHFgo50O9wABCAVYAEIOBMGyBkcTfGvKhYE2WBC+AWCNOHcpkZYViktRkbxqY1rlnL5rK61k4lwLMc5+Od4vceyz2aZfD2t6Yf1T8VpbBUmvyf/6WSCIaFJmBQHBBPnChjBCJpALOEZzWEOoXAjEVcJwU6QNMnCQemw5lYr1wP4Yrd7Kh813KsJITdZtDZdO/Nb/EeIEOq6mn9//uUBCMMglwayou4eTBKg1lRdw8mCRxbKCzswxEuGGWdow2oj0ziXaKZIIhoUmYFAcEE+cKGMEImkAs4RnNYQ6hcCMRVwnBTpA0ycJB6bDmVivXA/hit3sqHzXcqwkhN1m0Nl0781v8R4gQ3qup/2PTcl2geDKLS0Dlz62OeezARhAXGxQHQWEYYrFAT3TZw4FCwS4JDTF8AkaliQVaJoBk2ZlkiTQ2GgZmiQ1TzBSo+AA7JnYoKkVD1ZLuX4AtuEAwAFeAsHNMiPlXBIxSunQZU2GQTJoCe6bOHAoWCXBIaYvkUWljkvhpGS5mWFUrqaky+ZUivDyLT+PkTH9Nf5Jc8MPCT5LS5agFKBGvwAEGuOYUBgViPhKwULrvceUN2EYE5cfjEPVa76oYHc8iajBh079LyeBx+8xsatjP5+f/v9moz085O0y92c1/TLeIQBc5iarAMAtQBhIDsHMLAswKiDlZBMLgFd7jyhuwXBjO4/GIeq131ERQsohipJqEF//uUBDuAAl4rSc1swABNpWkWriAAT6S1N7msABH4Fqa3NYACK3Y2lxKnyqWlj4I9evjntWStpWltoH3a1c9wPfBQe51tv4QIRW5JWpHY2wmAQCAA3Ez8JQ0wQP/M2RNaIDhCYutAAONBBkAlvb4j4+qi40CU4Bh3bhxXygTVd/7vSq0iY6iSWWXrsXQ29eVJCqUsoXWy7X/vdWvP1JZg/tBEovFId////7rne699onXkM9DUl/+GAZBQDf8JEQCKo//+ogQCRyuRRuRthMAgEABkJp6CMpiBP+aMybcYnwznWkEqoAuaC5GfvF8HZFWg/FXSa8blglIwmKgd/7XpVaYZFGTZZe5DuQPushJSpXIpuwbX/vdWvL6kswcmPQFF4Ef3////LXO917pQHTyGedqP//DAMgoD3/CREAiqP/2eqv////////3dk90KlpVV3eUWVjHLZSMUp5hxnpOcO1WpXVXu4ijKYTSd3IJ7Kzt6Wp7FWiGQUEGFRgdCgpRM//uUBB8P8lRjwIcAoABJLFgQ4BQASJmNAgAFHEkIsiAAAaegRMowxhYVZBMOCoAh7/////////79CTkvIITTqZkZjVGEMPHvEBE7IZXMpGVFYqsKyOYw5jjmOZkFDdkZLkW+9NjEIZxbiYixXO5QkcoRVQoYBgYPlK+XmRGbwXaEFZGvWIpZLWEizxltQ9uELQV7E73d3HESrONG7w3dTdpF6Skf/zNT3I6rIKxJy1oKCtGGjj5FDxcKB+HpYd/3//i3rZFOT0N05+QpgWZYZ3pi5biJNCj4fRQQwYK8p48BQUTWPDTbNjkPn8+1VXKvJ7dJ5Gb2mESWLjnHOYNH07r6//////////icK81KXqTXuvQEteLGdY0DKwrjQVTIMKbgE0b41Egi1KxtuNwUpf9X+bNqTUlXbDClWgIlS4wMVc1F0QZc3/N/yto/7eUShjGUstRgIUZXKUrFYwU5SgKOxgYE+krfVkf6St/VpnMaYwpwoCjoZwoCZwqFC4LH//uUBD+P4jNjPwAjN8I7THfwAEnqR8mAugCAcQkHsheEERr40LUwj//hIzL//9k/9rJZ9lks+yyVDL/////81YHZUMj//yZZLHIy7/5qwMHHIyZZL/sslQyNWt/I1DBQYRxPYaxS/////5kn///6on0VEVP/6on/7OVFVO5QwUGEOzyhgaoqKhQwMGCUjt////8qaLdr/qTiyzLxaJxpRTt6RBhIhDZMQU1FMy4xMDCqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq"),A2=d(()=>(()=>{let n=new(window.AudioContext||window.webkitAudioContext),a=n.createGain();a.connect(n.destination);let s=new mr(K0(n));return n.decodeAudioData(b2.buffer.slice(0)).then(r=>{s.buf=r}).catch(r=>{console.error("Failed to load burp: ",r)}),{ctx:n,masterNode:a,burpSnd:s}})(),"initAudio");function l1(n,a={}){let s=new Ft,r=new Audio(n);r.crossOrigin="anonymous",r.loop=!!a.loop,b.audio.ctx.createMediaElementSource(r).connect(b.audio.masterNode);function o(){b.debug.paused||b.app.isHidden()&&!b.globalOpt.backgroundAudio||b.audio.ctx.resume()}d(o,"resumeAudioCtx");function f(){o(),r.play()}return d(f,"play"),a.paused||f(),r.onended=()=>s.trigger(),{play(){f()},seek(h){r.currentTime=h},stop(){r.pause(),this.seek(0)},set loop(h){r.loop=h},get loop(){return r.loop},set paused(h){h?r.pause():f()},get paused(){return r.paused},time(){return r.currentTime},duration(){return r.duration},set volume(h){r.volume=Gn(h,0,1)},get volume(){return r.volume},set speed(h){r.playbackRate=Math.max(h,0)},get speed(){return r.playbackRate},set detune(h){},get detune(){return 0},onEnd(h){return s.add(h)},then(h){return this.onEnd(h)}}}d(l1,"playMusic");function s1(n,a={}){if(typeof n=="string"&&b.assets.music[n])return l1(b.assets.music[n],a);let s=b.audio.ctx,r=a.paused??!1,o=s.createBufferSource(),f=new Ft,h=s.createGain(),v=s.createStereoPanner(),g=a.seek??0,p=0,w=0,R=!1;o.loop=!!a.loop,o.detune.value=a.detune??0,o.playbackRate.value=a.speed??1,o.connect(v),o.onended=()=>{var x;E()>=(((x=o.buffer)==null?void 0:x.duration)??Number.POSITIVE_INFINITY)&&f.trigger()},v.pan.value=a.pan??0,v.connect(h),h.connect(b.audio.masterNode),h.gain.value=a.volume??1;let y=d(x=>{o.buffer=x.buf,r||(p=s.currentTime,o.start(0,g),R=!0)},"start"),q=gy(n);q instanceof Tn&&q.onLoad(y);let E=d(()=>{if(!o.buffer)return 0;let x=r?w-p:s.currentTime-p,D=o.buffer.duration;return o.loop?x%D:Math.min(x,D)},"getTime"),N=d(x=>{let D=s.createBufferSource();return D.buffer=x.buffer,D.loop=x.loop,D.playbackRate.value=x.playbackRate.value,D.detune.value=x.detune.value,D.onended=x.onended,D.connect(v),D},"cloneNode");return{stop(){this.paused=!0,this.seek(0)},set paused(x){if(r!==x)if(r=x,x)R&&(o.stop(),R=!1),w=s.currentTime;else{o=N(o);let D=w-p;o.start(0,D),R=!0,p=s.currentTime-D,w=0}},get paused(){return r},play(x=0){this.seek(x),this.paused=!1},seek(x){var D;(D=o.buffer)!=null&&D.duration&&(x>o.buffer.duration||(r?(o=N(o),p=w-x):(o.stop(),o=N(o),p=s.currentTime-x,o.start(0,x),R=!0,w=0)))},set speed(x){o.playbackRate.value=x},get speed(){return o.playbackRate.value},set detune(x){o.detune.value=x},get detune(){return o.detune.value},set volume(x){h.gain.value=Math.max(x,0)},get volume(){return h.gain.value},set pan(x){v.pan.value=x},get pan(){return v.pan.value},set loop(x){o.loop=x},get loop(){return o.loop},duration(){var x;return((x=o.buffer)==null?void 0:x.duration)??0},time(){return E()%this.duration()},onEnd(x){return f.add(x)},then(x){return this.onEnd(x)}}}d(s1,"play");function _h(n){return b.k.play(b.audio.burpSnd,n)}d(_h,"burp");function Hh(n){b.audio.masterNode.gain.value=n}d(Hh,"setVolume");function Nh(){return b.audio.masterNode.gain.value}d(Nh,"getVolume");function r1(n){return Yi("volume","setVolume / getVolume"),n!==void 0&&Hh(n),Nh()}d(r1,"volume");function Gh(){b.app.onHide(()=>{b.globalOpt.backgroundAudio||b.audio.ctx.suspend()}),b.app.onShow(()=>{!b.globalOpt.backgroundAudio&&!b.debug.paused&&b.audio.ctx.resume()}),b.app.onResize(()=>{if(b.app.isFullscreen())return;let n=b.globalOpt.width&&b.globalOpt.height;n&&!b.globalOpt.stretch&&!b.globalOpt.letterbox||(b.canvas.width=b.canvas.offsetWidth*b.pixelDensity,b.canvas.height=b.canvas.offsetHeight*b.pixelDensity,Sh(),n||(b.gfx.frameBuffer.free(),b.gfx.frameBuffer=new Fu(b.gfx.ggl,b.gfx.ggl.gl.drawingBufferWidth,b.gfx.ggl.gl.drawingBufferHeight),b.gfx.width=b.gfx.ggl.gl.drawingBufferWidth/b.pixelDensity/b.gscale,b.gfx.height=b.gfx.ggl.gl.drawingBufferHeight/b.pixelDensity/b.gscale))}),b.globalOpt.debug!==!1&&(b.app.onKeyPress(b.globalOpt.debugKey??"f1",()=>b.debug.inspect=!b.debug.inspect),b.app.onKeyPress("f2",()=>b.debug.clearLog()),b.app.onKeyPress("f8",()=>b.debug.paused=!b.debug.paused),b.app.onKeyPress("f7",()=>{b.debug.timeScale=Vu(Gn(b.debug.timeScale-.2,0,2),1)}),b.app.onKeyPress("f9",()=>{b.debug.timeScale=Vu(Gn(b.debug.timeScale+.2,0,2),1)}),b.app.onKeyPress("f10",()=>b.debug.stepFrame())),b.globalOpt.burp&&b.app.onKeyPress("b",()=>_h())}d(Gh,"initEvents");function u1(n,a={}){let s=b.game.root.add([vr(n),Qh()]),r=(a.speed||1)*5,o=a.scale||1;s.add([Iu(b.boomSprite),br(0),ku("center"),jf(r,o),...a.comps??[]]);let f=s.add([Iu(b.kaSprite),br(0),ku("center"),$u(),...a.comps??[]]);return f.wait(.4/r,()=>f.use(jf(r,o))),f.onDestroy(()=>s.destroy()),s}d(u1,"addKaboom");function Lh(n,a){if(b.game.layers)throw Error("Layers can only be assigned once.");let s=n.indexOf(a);if(s==-1)throw Error("The default layer name should be present in the layers list.");b.game.layers=n,b.game.defaultLayerIndex=s}d(Lh,"setLayers");function o1(){return b.game.layers}d(o1,"getLayers");function c1(){var n;return((n=b.game.layers)==null?void 0:n[b.game.defaultLayerIndex])??null}d(c1,"getDefaultLayer");function f1(n,a){Yi("layers","setLayers"),Lh(n,a)}d(f1,"layers");function Yh(n){n.destroy()}d(Yh,"destroy");function h1(){return b.game.root}d(h1,"getTreeRoot");function d1(n,a){b.game.scenes[n]=a}d(d1,"scene");function g1(n,...a){if(!b.game.scenes[n])throw new Error(`Scene not found: ${n}`);b.game.events.onOnce("frameEnd",()=>{b.game.events.trigger("sceneLeave",n),b.app.events.clear(),b.game.events.clear(),b.game.objEvents.clear(),[...b.game.root.children].forEach(s=>{!s.stay||s.scenesToStay&&!s.scenesToStay.includes(n)?b.game.root.remove(s):s.trigger("sceneEnter",n)}),b.game.root.clearEvents(),Gh(),b.game.cam={pos:null,scale:Y(1),angle:0,shake:0,transform:new Wn},b.game.scenes[n](...a)}),b.game.currentScene=n}d(g1,"go");function p1(n){return b.game.events.on("sceneLeave",n)}d(p1,"onSceneLeave");function m1(){return b.game.currentScene}d(m1,"getSceneName");function Iu(n,a={}){let s=null,r=null,o=null,f=new Ft;if(!n)throw new Error("Please pass the resource name or data to sprite()");let h=d((g,p,w,R)=>{let y=Y(1,1);return w&&R?(y.x=w/(g.width*p.w),y.y=R/(g.height*p.h)):w?(y.x=w/(g.width*p.w),y.y=y.x):R&&(y.y=R/(g.height*p.h),y.x=y.y),y},"calcTexScale"),v=d((g,p)=>{if(!p)return;let w=p.frames[0].clone();a.quad&&(w=w.scale(a.quad));let R=h(p.tex,w,a.width,a.height);g.width=p.tex.width*w.w*R.x,g.height=p.tex.height*w.h*R.y,a.anim&&g.play(a.anim),s=p,f.trigger(s)},"setSpriteData");return{id:"sprite",width:0,height:0,frame:a.frame||0,quad:a.quad||new lt(0,0,1,1),animSpeed:a.animSpeed??1,flipX:a.flipX??!1,flipY:a.flipY??!1,get sprite(){return n.toString()},set sprite(g){let p=or(g);p&&p.onLoad(w=>v(this,w))},get animFrame(){if(!s||!r||o===null)return this.frame;let g=s.anims[r.name];return typeof g=="number"?g:this.frame-Math.min(g.from,g.to)},draw(){if(!s)return;let g=s.frames[this.frame??0];if(!g)throw new Error(`Frame not found: ${this.frame??0}`);if(s.slice9){let{left:p,right:w,top:R,bottom:y}=s.slice9,q=s.tex.width*g.w,E=s.tex.height*g.h,N=this.width-p-w,x=this.height-R-y,D=p/q,V=w/q,$=1-D-V,re=R/E,ee=y/E,O=1-re-ee,U=[ht(0,0,D,re),ht(D,0,$,re),ht(D+$,0,V,re),ht(0,re,D,O),ht(D,re,$,O),ht(D+$,re,V,O),ht(0,re+O,D,ee),ht(D,re+O,$,ee),ht(D+$,re+O,V,ee),ht(0,0,p,R),ht(p,0,N,R),ht(p+N,0,w,R),ht(0,R,p,x),ht(p,R,N,x),ht(p+N,R,w,x),ht(0,R+x,p,y),ht(p,R+x,N,y),ht(p+N,R+x,w,y)];for(let G=0;G<9;G++){let j=U[G],F=U[G+9];yr(Object.assign(li(this),{pos:F.pos(),tex:s.tex,quad:g.scale(j),flipX:this.flipX,flipY:this.flipY,tiled:a.tiled,width:F.w,height:F.h}))}}else yr(Object.assign(li(this),{tex:s.tex,quad:g.scale(this.quad??new lt(0,0,1,1)),flipX:this.flipX,flipY:this.flipY,tiled:a.tiled,width:this.width,height:this.height}))},add(){let g=or(n);g?g.onLoad(p=>v(this,p)):po(()=>v(this,or(n).data))},update(){if(!s||!r||o===null)return;let g=s.anims[r.name];if(typeof g=="number"){this.frame=g;return}if(g.speed===0)throw new Error("Sprite anim speed cannot be 0");r.timer+=xt()*this.animSpeed,r.timer>=1/r.speed&&(r.timer=0,this.frame+=o,(this.frame<Math.min(g.from,g.to)||this.frame>Math.max(g.from,g.to))&&(r.loop?r.pingpong?(this.frame-=o,o*=-1,this.frame+=o):this.frame=g.from:r.pingpong?o===Math.sign(g.to-g.from)?(this.frame=g.to,o*=-1,this.frame+=o):(this.frame=g.from,r.onEnd(),this.stop()):(this.frame=g.to,r.onEnd(),this.stop())))},play(g,p={}){if(!s){f.add(()=>this.play(g,p));return}let w=s.anims[g];if(w===void 0)throw new Error(`Anim not found: ${g}`);r&&this.stop(),r=typeof w=="number"?{name:g,timer:0,loop:!1,pingpong:!1,speed:0,onEnd:d(()=>{},"onEnd")}:{name:g,timer:0,loop:p.loop??w.loop??!1,pingpong:p.pingpong??w.pingpong??!1,speed:p.speed??w.speed??10,onEnd:p.onEnd??(()=>{})},o=typeof w=="number"?null:w.from<w.to?1:-1,this.frame=typeof w=="number"?w:w.from,this.trigger("animStart",g)},stop(){if(!r)return;let g=r.name;r=null,this.trigger("animEnd",g)},numFrames(){return(s==null?void 0:s.frames.length)??0},getCurAnim(){return r},curAnim(){return r==null?void 0:r.name},getAnim(g){return(s==null?void 0:s.anims[g])??null},hasAnim(g){return!!this.getAnim(g)},onAnimEnd(g){return this.on("animEnd",g)},onAnimStart(g){return this.on("animStart",g)},renderArea(){return new et(Y(0),this.width,this.height)},inspect(){return typeof n=="string"?`sprite: "${n}"`:null}}}d(Iu,"sprite");function y1(n,a={}){function s(o){var h,v;let f=ai(Object.assign(li(o),{text:o.text+"",size:o.textSize,font:o.font,width:a.width&&o.width,align:o.align,letterSpacing:o.letterSpacing,lineSpacing:o.lineSpacing,transform:o.textTransform,styles:o.textStyles,indentAll:a.indentAll}));return a.width||(o.width=f.width/(((h=o.scale)==null?void 0:h.x)||1)),o.height=f.height/(((v=o.scale)==null?void 0:v.y)||1),f}d(s,"update");let r={id:"text",set text(o){n=o,s(this),this.renderedText=Ju(n).text},get text(){return n},textSize:a.size??36,font:a.font,width:a.width??0,height:0,align:a.align,lineSpacing:a.lineSpacing,letterSpacing:a.letterSpacing,textTransform:a.transform,textStyles:a.styles,renderedText:n?Ju(n).text:"",add(){po(()=>s(this))},draw(){ii(s(this))},renderArea(){return new et(Y(0),this.width,this.height)}};return s(r),r}d(y1,"text");function v1(n,a){return{id:"rect",width:n,height:a,draw(){is(Object.assign(li(this),{width:this.width,height:this.height}))},renderArea(){return new et(Y(0),this.width,this.height)},inspect(){return`uvquad: (${Math.ceil(this.width)}w, ${Math.ceil(this.height)})h`}}}d(v1,"uvquad");function b1(n={}){let a=null,s=null,r=null,o=null;return{id:"agent",require:["pos","tile"],agentSpeed:n.speed??100,allowDiagonals:n.allowDiagonals??!0,getDistanceToTarget(){return a?this.pos.dist(a):0},getNextLocation(){return s&&r?s[r]:null},getPath(){return s?s.slice():null},getTarget(){return a},isNavigationFinished(){return s?r===null:!0},isTargetReachable(){return s!==null},isTargetReached(){return a?this.pos.eq(a):!0},setTarget(f){a=f,s=this.getLevel().getPath(this.pos,a,{allowDiagonals:this.allowDiagonals}),r=s?0:null,s&&r!==null?(o||(o=this.getLevel().onNavigationMapChanged(()=>{a&&s&&r!==null&&(s=this.getLevel().getPath(this.pos,a,{allowDiagonals:this.allowDiagonals}),s?(r=0,this.trigger("navigationNext",this,s[r])):(r=null,this.trigger("navigationEnded",this)))}),this.onDestroy(()=>o==null?void 0:o.cancel())),this.trigger("navigationStarted",this),this.trigger("navigationNext",this,s[r])):this.trigger("navigationEnded",this)},update(){if(a&&s&&r!==null){if(this.pos.sdist(s[r])<2)if(r===s.length-1){this.pos=a.clone(),r=null,this.trigger("navigationEnded",this),this.trigger("targetReached",this);return}else r++,this.trigger("navigationNext",this,s[r]);this.moveTo(s[r],this.agentSpeed)}},onNavigationStarted(f){return this.on("navigationStarted",f)},onNavigationNext(f){return this.on("navigationNext",f)},onNavigationEnded(f){return this.on("navigationEnded",f)},onTargetReached(f){return this.on("targetReached",f)},inspect(){return"agent: "+JSON.stringify({target:JSON.stringify(a),path:JSON.stringify(s)})}}}d(b1,"agent");function A1(n){let a=n.graph;return{id:"pathfinder",require:["pos"],navigateTo(s){var r;return(r=this.graph)==null?void 0:r.getWaypointPath(this.pos,s,n.navigationOpt)},get graph(){if(a)return a;let s=this.parent;for(;s;){if(s.has("pathfinderMap"))return s.graph;s=s.parent}},set graph(s){a=s}}}d(A1,"pathfinder");function w1(n={}){let a=n.waypoints,s=n.speed||100,r=n.endBehavior||"stop",o=0,f=a!=null;return{id:"patrol",require:["pos"],get patrolSpeed(){return s},set patrolSpeed(h){s=h},get waypoints(){return a},set waypoints(h){a=h,o=0,f=!1},get nextLocation(){return a?a[o]:void 0},update(){let h=this.nextLocation;if(!(!a||!h||f)&&(this.moveTo(h,s),this.pos.sdist(h)<9))switch(r){case"loop":o=(o+1)%a.length;break;case"ping-pong":o=o+1,o==a.length&&(a.reverse(),o=0);break;case"stop":o=Math.min(o+1,a.length-1),o==a.length-1&&(f=!0,this.trigger("patrolFinished"));break}},onPatrolFinished(h){return this.on("patrolFinished",h)}}}d(w1,"patrol");function S1(n,a={}){let s=typeof n=="function"?n:()=>b.game.root.query(n),r=a.checkFrequency||1,o=typeof a.direction=="number"?K.fromAngle(a.direction):a.direction,f=0;return{id:"sentry",require:["pos"],direction:typeof a.direction=="number"?K.fromAngle(a.direction):a.direction,spotted:[],set directionAngle(h){this.direction=h!==void 0?K.fromAngle(h):void 0},get directionAngle(){return this.direction?this.direction.angle():void 0},fieldOfView:a.fieldOfView||200,isWithinFieldOfView(h,v,g){let p=(typeof v=="number"?K.fromAngle(v):v)||o,w=g||a.fieldOfView;if(!p||!w||w>=360)return!0;let R=w/2;return h.pos&&p.angleBetween(h.pos.sub(this.pos))<=R},hasLineOfSight(h){let v=Mh(this.pos,h.pos.sub(this.pos),a.raycastExclude);return v!=null&&v.object===h},update(){if(f+=xt(),f>r){f-=r;let h=s();if(h.length&&o&&this.fieldOfView&&this.fieldOfView<360){let v=this.fieldOfView/2;h=h.filter(g=>g.pos&&o.angleBetween(g.pos.sub(this.pos))<=v)}h.length&&a.lineOfSight&&(h=h.filter(v=>v.pos&&this.hasLineOfSight(v))),h.length>0&&(this.spotted=h,this.trigger("objectSpotted",h))}},onObjectsSpotted(h){return this.on("objectSpotted",h)}}}d(S1,"sentry");function jh(n={}){let a=Y(0),s=n.isObstacle??!1,r=n.cost??0,o=n.edges??[],f=d(()=>{let v={left:1,top:2,right:4,bottom:8};return o.map(g=>v[g]||0).reduce((g,p)=>g|p,0)},"getEdgeMask"),h=f();return{id:"tile",tilePosOffset:n.offset??Y(0),set tilePos(v){let g=this.getLevel();a=v.clone(),this.pos=Y(this.tilePos.x*g.tileWidth(),this.tilePos.y*g.tileHeight()).add(this.tilePosOffset)},get tilePos(){return a},set isObstacle(v){s!==v&&(s=v,this.getLevel().invalidateNavigationMap())},get isObstacle(){return s},set cost(v){r!==v&&(r=v,this.getLevel().invalidateNavigationMap())},get cost(){return r},set edges(v){o=v,h=f(),this.getLevel().invalidateNavigationMap()},get edges(){return o},get edgeMask(){return h},getLevel(){return this.parent},tileMove(v){let g=this.getLevel();g.removeFromSpatialMap(this),this.tilePos=this.tilePos.add(v),g.insertIntoSpatialMap(this),g.trigger("spatialMapChanged")},moveLeft(){this.tileMove(Y(-1,0))},moveRight(){this.tileMove(Y(1,0))},moveUp(){this.tileMove(Y(0,-1))},moveDown(){this.tileMove(Y(0,1))}}}d(jh,"tile");var kl,Xh=(kl=class{constructor(a,s,r){_(this,"name");_(this,"duration");_(this,"loops");_(this,"direction");_(this,"easing");_(this,"interpolation");_(this,"isFinished");_(this,"timing");_(this,"easings");_(this,"relative");this.name=a,this.duration=s.duration,this.loops=s.loops||0,this.direction=s.direction||"forward",this.easing=s.easing||gr.linear,this.interpolation=s.interpolation||"linear",this.isFinished=!1,this.timing=s.timing,this.easings=s.easings,this.relative=r}update(a,s){return!0}getLowerKeyIndexAndRelativeTime(a,s,r){let o=s-1,f=a/this.duration;if(this.loops!==0&&f>=this.loops)return[o,0,!0];let h=Math.trunc(f);if(f-=h,(this.direction=="reverse"||this.direction=="ping-pong"&&h&1)&&(f=1-f),r){let v=0;for(;r[v+1]!==void 0&&r[v+1]<f;)v++;return v>=o?[o,0,!0]:[v,(f-r[v])/(r[v+1]-r[v]),!1]}else{let v=Math.floor((s-1)*f);return[v,(f-v/o)*o,!1]}}setValue(a,s,r){if(this.relative)switch(s){case"pos":a.pos=a.base.pos.add(r);break;case"angle":a.angle=a.base.angle+r;break;case"scale":a.scale=a.base.scale.scale(r);break;case"opacity":a.opacity=a.base.opacity*r;break;default:a[s]=r}else a[s]=r}serialize(){let a={duration:this.duration,keys:[]};return this.loops&&(a.loops=this.loops),this.direction!=="forward"&&(a.direction=this.direction),this.easing!=gr.linear&&(a.easing=this.easing.name),this.interpolation!=="linear"&&(a.interpolation=this.interpolation),this.timing&&(a.timing=this.timing),this.easings&&(a.easings=this.easings.map(s=>this.easing.name)),a}},d(kl,"AnimateChannel"),kl);function Yf(n,a){return a.add(a.sub(n))}d(Yf,"reflect");var es,w2=(es=class extends Xh{constructor(s,r,o,f){super(s,o,f);_(this,"keys");this.keys=r}update(s,r){let[o,f,h]=this.getLowerKeyIndexAndRelativeTime(r,this.keys.length,this.timing);if(f==0||this.interpolation==="none")this.setValue(s,this.name,this.keys[o]);else{let v=this.easings?this.easings[o]:this.easing;this.setValue(s,this.name,Pt(this.keys[o],this.keys[o+1],v(f)))}return h}serialize(){return Object.assign(super.serialize(),{keys:this.keys})}},d(es,"AnimateChannelNumber"),es),ts,S2=(ts=class extends Xh{constructor(s,r,o,f,h){var v;super(s,o,f);_(this,"keys");_(this,"curves");_(this,"dcurves");if(this.keys=r,this.interpolation==="spline"){this.curves=[],h&&(this.dcurves=[]);for(let g=0;g<this.keys.length-1;g++){let p=this.keys[g],w=g+1,R=this.keys[w],y=g>0?this.keys[g-1]:Yf(R,p),q=w<this.keys.length-1?this.keys[w+1]:Yf(p,R);this.curves.push(hr(y,p,R,q)),h&&((v=this.dcurves)==null||v.push(hr(y,p,R,q,h0)))}}}update(s,r){let[o,f,h]=this.getLowerKeyIndexAndRelativeTime(r,this.keys.length,this.timing);if(f==0||this.interpolation==="none")this.setValue(s,this.name,this.keys[o]);else{let v=this.easings?this.easings[o]:this.easing;switch(this.interpolation){case"linear":this.setValue(s,this.name,this.keys[o].lerp(this.keys[o+1],v(f)));break;case"slerp":this.setValue(s,this.name,this.keys[o].slerp(this.keys[o+1],v(f)));break;case"spline":if(this.curves){this.setValue(s,this.name,this.curves[o](v(f))),this.dcurves&&this.setValue(s,"angle",this.dcurves[o](v(f)).angle());break}}}return h}serialize(){return Object.assign(super.serialize(),{keys:this.keys.map(s=>[s.x,s.y])})}},d(ts,"AnimateChannelVec2"),ts),ns,x2=(ns=class extends Xh{constructor(s,r,o,f){super(s,o,f);_(this,"keys");this.keys=r}update(s,r){let[o,f,h]=this.getLowerKeyIndexAndRelativeTime(r,this.keys.length,this.timing);if(f==0||this.interpolation=="none")this.setValue(s,this.name,this.keys[o]);else{let v=this.easings?this.easings[o]:this.easing;this.setValue(s,this.name,this.keys[o].lerp(this.keys[o+1],v(f)))}return h}serialize(){return Object.assign(super.serialize(),{keys:this.keys})}},d(ns,"AnimateChannelColor"),ns);function x1(n={}){let a=[],s=0,r=!1;return{id:"animate",require:n.followMotion?["rotate"]:void 0,base:{pos:Y(0,0),angle:0,scale:Y(1,1),opacity:1},animation:{paused:!1,seek(o){s=Gn(o,0,this.duration),a.forEach(f=>{f.isFinished=!1}),r=!1},get duration(){return a.reduce((o,f)=>Math.max(f.duration,o),0)}},add(){n.relative&&(this.has("pos")&&(this.base.pos=this.pos.clone()),this.has("rotate")&&(this.base.angle=this.angle),this.has("scale")&&(this.base.scale=this.scale),this.has("opacity")&&(this.base.opacity=this.opacity))},update(){if(this.animation.paused)return;let o=!0,f;s+=xt();for(let h of a)f=h.update(this,s),f&&!h.isFinished&&(h.isFinished=!0,this.trigger("animateChannelFinished",h.name)),o&&(o=f);o&&!r&&(r=!0,this.trigger("animateFinished"))},animate(o,f,h){r=!1,this.unanimate(o),typeof f[0]=="number"?a.push(new w2(o,f,h,n.relative||!1)):f[0]instanceof K?a.push(new S2(o,f,h,n.relative||!1,o==="pos"&&(n.followMotion||!1))):f[0]instanceof De&&a.push(new x2(o,f,h,n.relative||!1))},unanimate(o){let f=a.findIndex(h=>h.name===o);f>=0&&a.splice(f,1)},unanimateAll(){a.splice(0,a.length)},onAnimateFinished(o){return this.on("animateFinished",o)},onAnimateChannelFinished(o){return this.on("animateChannelFinished",o)},serializeAnimationChannels(){return a.reduce((o,f)=>(o[f.name]=f.serialize(),o),{})},serializeAnimationOptions(){let o={};return n.followMotion&&(o.followMotion=!0),n.relative&&(o.relative=!0),o}}}d(x1,"animate");function Vh(n,a){let s={name:n.name};return n.has("animate")&&(s.channels=n.serializeAnimationChannels(),Object.assign(s,n.serializeAnimationOptions())),n.children.length>0&&(s.children=n.children.filter(r=>r.has("named")).map(r=>Vh(r,r.name))),s}d(Vh,"serializeAnimation");function jf(n=2,a=1){let s=0;return{require:["scale"],update(){let r=Math.sin(s*n)*a;r<0&&this.destroy(),this.scale=Y(r),s+=xt()}}}d(jf,"boom");function E1(n,a){if(n==null)throw new Error("health() requires the initial amount of hp");return{id:"health",hurt(s=1){this.setHP(n-s),this.trigger("hurt",s)},heal(s=1){let r=n;this.setHP(n+s),this.trigger("heal",n-r)},hp(){return n},maxHP(){return a??null},setMaxHP(s){a=s},setHP(s){n=a?Math.min(a,s):s,n<=0&&this.trigger("death")},onHurt(s){return this.on("hurt",s)},onHeal(s){return this.on("heal",s)},onDeath(s){return this.on("death",s)},inspect(){return`health: ${n}`}}}d(E1,"health");function M1(n,a={}){if(n==null)throw new Error("lifespan() requires time");let s=a.fade??0;return{id:"lifespan",require:["opacity"],add(){b.game.root.wait(n,()=>{this.opacity=this.opacity??1,s>0?b.game.root.tween(this.opacity,0,s,r=>this.opacity=r,gr.linear).onEnd(()=>{this.destroy()}):this.destroy()})}}}d(M1,"lifespan");function T1(n){return{id:"named",name:n}}d(T1,"named");function R1(n,a,s){if(!n)throw new Error("state() requires an initial state");let r={};function o(g){r[g]||(r[g]={enter:new Ft,end:new Ft,update:new Ft,draw:new Ft})}d(o,"initStateEvents");function f(g,p,w){return o(p),r[p][g].add(w)}d(f,"on");function h(g,p,...w){o(p),r[p][g].trigger(...w)}d(h,"trigger");let v=!1;return{id:"state",state:n,enterState(g,...p){if(v=!0,a&&!a.includes(g))throw new Error(`State not found: ${g}`);let w=this.state;if(s){if(!(s!=null&&s[w]))return;let R=typeof s[w]=="string"?[s[w]]:s[w];if(!R.includes(g))throw new Error(`Cannot transition state from "${w}" to "${g}". Available transitions: ${R.map(y=>`"${y}"`).join(", ")}`)}h("end",w,...p),this.state=g,h("enter",g,...p),h("enter",`${w} -> ${g}`,...p)},onStateTransition(g,p,w){return f("enter",`${g} -> ${p}`,w)},onStateEnter(g,p){return f("enter",g,p)},onStateUpdate(g,p){return f("update",g,p)},onStateDraw(g,p){return f("draw",g,p)},onStateEnd(g,p){return f("end",g,p)},update(){v||(h("enter",n),v=!0),h("update",this.state)},draw(){h("draw",this.state)},inspect(){return`state: ${this.state}`}}}d(R1,"state");function Qh(n){return{id:"stay",stay:!0,scenesToStay:n}}d(Qh,"stay");function q1(n=!0,a){let s,r;return{id:"textInput",hasFocus:n,require:["text"],typedText:"",add(){let o=d(()=>{this.text=this.typedText.replace(/([\[\\])/g,"\\$1")},"flip");s=b.k.onCharInput(f=>{this.hasFocus&&(!a||this.typedText.length<a)&&(b.k.isKeyDown("shift")?this.typedText+=f.toUpperCase():this.typedText+=f,o())}),r=b.k.onKeyPressRepeat("backspace",()=>{this.hasFocus&&(this.typedText=this.typedText.slice(0,-1)),o()})},destroy(){s.cancel(),r.cancel()}}}d(q1,"textInput");function $u(n=1e3){return{id:"timer",maxLoopsPerFrame:n,loop(a,s,r=-1,o=!1){let f=o?0:a,h=new Ft,v=this.onUpdate(()=>{f+=b.app.state.dt;for(let g=0;f>=a&&g<this.maxLoopsPerFrame;g++){if(r!=-1&&(r--,r<0)){v.cancel(),h.trigger();return}s(),f-=a}});return{get paused(){return v.paused},set paused(g){v.paused=g},cancel:v.cancel,onEnd:h.add,then(g){return h.add(g),this}}},wait(a,s){return this.loop(a,s??(()=>{}),1,!0)},tween(a,s,r,o,f=gr.linear){let h=0,v=[],g=this.onUpdate(()=>{h+=b.app.state.dt;let p=Math.min(h/r,1);o(Pt(a,s,f(p))),p===1&&(g.cancel(),o(s),v.forEach(w=>w()))});return{get paused(){return g.paused},set paused(p){g.paused=p},onEnd(p){v.push(p)},then(p){return this.onEnd(p),this},cancel(){g.cancel()},finish(){g.cancel(),o(s),v.forEach(p=>p())}}}}}d($u,"timer");var Xf=0;function D1(){return Xf>0}d(D1,"usesArea");function O1(n={}){let a={},s=new Set,r=[];return{id:"area",collisionIgnore:n.collisionIgnore??[],add(){Xf++,this.area.cursor&&r.push(this.onHover(()=>b.app.setCursor(this.area.cursor))),r.push(this.onCollideUpdate((o,f)=>{if(!o.id)throw new Error("area() requires the object to have an id");a[o.id]||this.trigger("collide",o,f),f&&(a[o.id]=f,s.add(o.id))}))},destroy(){Xf--;for(let o of r)o.cancel()},fixedUpdate(){for(let o in a)s.has(Number(o))||(this.trigger("collideEnd",a[o].target),delete a[o]);s.clear()},drawInspect(){let o=this.localArea();ln(),it(this.area.offset);let f={outline:{width:4/rh(),color:Ge(0,0,255)},anchor:this.anchor,fill:!1,fixed:Pa(this)};o instanceof et?rn({...f,pos:o.pos,width:o.width*this.area.scale.x,height:o.height*this.area.scale.y}):o instanceof Wt?ya({...f,pts:o.pts,scale:this.area.scale}):o instanceof un&&Xi({...f,pos:o.center,radius:o.radius}),Jt()},area:{shape:n.shape??null,scale:n.scale?Y(n.scale):Y(1),offset:n.offset??Y(0),cursor:n.cursor??null},isClicked(){return b.app.isMousePressed()&&this.isHovering()},isHovering(){let o=Pa(this)?b.k.mousePos():b.k.toWorld(b.k.mousePos());return this.hasPoint(o)},checkCollision(o){if(!o.id)throw new Error("checkCollision() requires the object to have an id");return a[o.id]??null},getCollisions(){return Object.values(a)},isColliding(o){if(!o.id)throw new Error("isColliding() requires the object to have an id");return!!a[o.id]},isOverlapping(o){if(!o.id)throw new Error("isOverlapping() requires the object to have an id");let f=a[o.id];return f&&f.hasOverlap()},onClick(o,f="left"){let h=b.app.onMousePress(f,()=>{this.isHovering()&&o()});return r.push(h),h},onHover(o){let f=!1;return this.onUpdate(()=>{f?f=this.isHovering():this.isHovering()&&(f=!0,o())})},onHoverUpdate(o){return this.onUpdate(()=>{this.isHovering()&&o()})},onHoverEnd(o){let f=!1;return this.onUpdate(()=>{f?this.isHovering()||(f=!1,o()):f=this.isHovering()})},onCollide(o,f){if(typeof o=="function"&&f===void 0)return this.on("collide",o);if(typeof o=="string")return this.onCollide((h,v)=>{h.is(o)&&(f==null||f(h,v))});throw new Error("onCollide() requires either a function or a tag")},onCollideUpdate(o,f){if(typeof o=="function"&&f===void 0)return this.on("collideUpdate",o);if(typeof o=="string")return this.on("collideUpdate",(h,v)=>h.is(o)&&(f==null?void 0:f(h,v)));throw new Error("onCollideUpdate() requires either a function or a tag")},onCollideEnd(o,f){if(typeof o=="function"&&f===void 0)return this.on("collideEnd",o);if(typeof o=="string")return this.on("collideEnd",h=>h.is(o)&&(f==null?void 0:f(h)));throw new Error("onCollideEnd() requires either a function or a tag")},hasPoint(o){return va(this.worldArea(),o)},resolveCollision(o){let f=this.checkCollision(o);f&&!f.resolved&&(this.pos=this.pos.add(f.displacement),f.resolved=!0)},localArea(){return this.area.shape?this.area.shape:this.renderArea()},worldArea(){let o=this.localArea();if(!(o instanceof Wt||o instanceof et))throw new Error("Only support polygon and rect shapes for now");let f=this.transform.clone().translate(this.area.offset).scale(Y(this.area.scale??1));if(o instanceof et){let h=ji(this.anchor||ro).add(1,1).scale(-.5).scale(o.width,o.height);f.translate(h)}return o.transform(f)},screenArea(){let o=this.worldArea();return Pa(this)?o:o.transform(b.game.cam.transform)},inspect(){var o,f,h,v,g,p,w;return((o=this.area.scale)==null?void 0:o.x)==((f=this.area.scale)==null?void 0:f.y)?`area: ${(v=(h=this.area.scale)==null?void 0:h.x)==null?void 0:v.toFixed(1)}x`:`area: (${(p=(g=this.area.scale)==null?void 0:g.x)==null?void 0:p.toFixed(1)}x, ${(w=this.area.scale.y)==null?void 0:w.toFixed(1)}y)`}}}d(O1,"area");function B1(n={}){let a=null,s=null,r=!1,o=Y(0),f=null,h=null,v;return{id:"body",require:["pos"],vel:Y(0),drag:n.drag??0,jumpForce:n.jumpForce??qA,gravityScale:n.gravityScale??1,isStatic:n.isStatic??!1,mass:n.mass??1,add(){if(f=this.pos.clone(),h=this.pos.clone(),v=this.pos.clone(),this.mass===0)throw new Error("Can't set body mass to 0");this.has("area")&&(this.onCollideUpdate((g,p)=>{if(!p||!g.has("body")||p.resolved)return;this.trigger("beforePhysicsResolve",p);let w=p.reverse();if(g.trigger("beforePhysicsResolve",w),!(p.resolved||w.resolved)&&!(this.isStatic&&g.isStatic)){if(!this.isStatic&&!g.isStatic){let R=this.mass+g.mass;this.pos=this.pos.add(p.displacement.scale(g.mass/R)),g.pos=g.pos.add(p.displacement.scale(-this.mass/R)),this.transform=Cl(this),g.transform=Cl(g)}else{let R=!this.isStatic&&g.isStatic?p:p.reverse();R.source.pos=R.source.pos.add(R.displacement),R.source.transform=Cl(R.source)}p.resolved=!0,this.trigger("physicsResolve",p),g.trigger("physicsResolve",p.reverse())}}),this.onPhysicsResolve(g=>{if(b.game.gravity)if(g.isBottom()&&this.isFalling()){this.vel=this.vel.reject(b.game.gravity.unit());let p=a;a=g.target,p!=a&&(s=g.target.pos),r?r=!1:p||(this.trigger("ground",a),g.target.trigger("land",this))}else g.isTop()&&this.isJumping()&&(this.vel=this.vel.reject(b.game.gravity.unit()),this.trigger("headbutt",g.target),g.target.trigger("headbutted",this))}))},update(){a&&this.isColliding(a)&&a.exists()&&a.has("body")&&(s&&!a.pos.eq(s)&&n.stickToPlatform!==!1&&this.moveBy(a.pos.sub(s)),s=a.pos);let g=Ku();g&&(this.pos.x==v.x&&(this.pos.x=Pt(f.x,h.x,g/Qu()),v.x=this.pos.x),this.pos.y==v.y&&(this.pos.y=Pt(f.y,h.y,g/Qu()),v.y=this.pos.y))},fixedUpdate(){if(f&&(this.pos.x==v.x&&(this.pos.x=f.x),this.pos.y==v.y&&(this.pos.y=f.y),f=null),b.game.gravity&&!this.isStatic){r&&(a=null,s=null,this.trigger("fallOff"),r=!1),a&&(!this.isColliding(a)||!a.exists()||!a.has("body"))&&(r=!0);let g=this.vel.clone();this.vel=this.vel.add(b.game.gravity.scale(this.gravityScale*xt()));let p=n.maxVelocity??DA;this.vel.slen()>p*p&&(this.vel=this.vel.unit().scale(p)),g.dot(b.game.gravity)<0&&this.vel.dot(b.game.gravity)>=0&&this.trigger("fall")}if(this.vel.x+=o.x*xt(),this.vel.y+=o.y*xt(),this.vel.x*=1-this.drag*xt(),this.vel.y*=1-this.drag*xt(),this.move(this.vel),Ku()){f=this.pos.clone();let g=this.vel.add(o.scale(xt()));h=this.pos.add(g.scale(xt())),v=this.pos.clone()}o.x=0,o.y=0},onPhysicsResolve(g){return this.on("physicsResolve",g)},onBeforePhysicsResolve(g){return this.on("beforePhysicsResolve",g)},curPlatform(){return a},isGrounded(){return a!==null},isFalling(){return this.vel.dot(zl())>0},isJumping(){return this.vel.dot(zl())<0},applyImpulse(g){this.isStatic||(this.vel=this.vel.add(g))},addForce(g){this.isStatic||(o.x+=g.x/this.mass,o.y+=g.y/this.mass)},jump(g){this.isStatic||(a=null,s=null,this.vel=zl().scale(-g||-this.jumpForce))},onGround(g){return this.on("ground",g)},onFall(g){return this.on("fall",g)},onFallOff(g){return this.on("fallOff",g)},onHeadbutt(g){return this.on("headbutt",g)},onLand(g){return this.on("land",g)},onHeadbutted(g){return this.on("headbutted",g)},inspect(){return`gravityScale: ${this.gravityScale}x`}}}d(B1,"body");function C1(n=2){let a=n;return{id:"doubleJump",require:["body"],numJumps:n,add(){this.onGround(()=>{a=this.numJumps})},doubleJump(s){a<=0||(a<this.numJumps&&this.trigger("doubleJump"),a--,this.jump(s))},onDoubleJump(s){return this.on("doubleJump",s)},inspect(){return`jumpsLeft: ${a}`}}}d(C1,"doubleJump");function U1(n){return{id:"surfaceEffector",require:["area"],speed:n.speed,speedVariation:n.speedVariation??0,forceScale:n.speedVariation??.9,add(){this.onCollideUpdate("body",(a,s)=>{var h;let r=s==null?void 0:s.normal.normal(),o=a.vel.project(r),f=(h=r==null?void 0:r.scale(this.speed))==null?void 0:h.sub(o);a.addForce(f==null?void 0:f.scale(a.mass*this.forceScale))})}}}d(U1,"surfaceEffector");function z1(n){return{id:"areaEffector",require:["area"],useGlobalAngle:n.useGlobalAngle||!1,forceAngle:n.forceAngle,forceMagnitude:n.forceMagnitude,forceVariation:n.forceVariation??0,linearDrag:n.linearDrag??0,add(){this.onCollideUpdate("body",(a,s)=>{if(!a.has("body"))return;let r=K.fromAngle(this.forceAngle).scale(this.forceMagnitude);a.addForce(r),this.linearDrag&&a.addForce(a.vel.scale(-this.linearDrag))})}}}d(z1,"areaEffector");function _1(n){return{id:"pointEffector",require:["area","pos"],forceMagnitude:n.forceMagnitude,forceVariation:n.forceVariation??0,distanceScale:n.distanceScale??1,forceMode:n.forceMode||"inverseLinear",linearDrag:n.linearDrag??0,add(){this.onCollideUpdate("body",(a,s)=>{let r=this.pos.sub(a.pos),o=r.len(),f=o*this.distanceScale/10,h=this.forceMode==="constant"?1:this.forceMode==="inverseLinear"?1/f:1/f**2,v=r.scale(this.forceMagnitude*h/o);a.addForce(v),this.linearDrag&&a.addForce(a.vel.scale(-this.linearDrag))})}}}d(_1,"pointEffector");function H1(n){return{id:"constantForce",require:["body"],force:n.force,update(){this.force&&this.addForce(this.force)}}}d(H1,"constantForce");function N1(n){return{id:"platformEffector",require:["area","body"],surfaceArc:n.surfaceArc??180,useOneWay:n.useOneWay??!1,add(){this.onBeforePhysicsResolve(a=>{let s=a.target.vel,r=zl().scale(-1).angleBetween(s);Math.abs(r)>this.surfaceArc/2&&a.preventResolution()})}}}d(N1,"platformEffector");function G1(n){return{id:"buoyancyEffector",require:["area"],surfaceLevel:n.surfaceLevel,density:n.density??1,linearDrag:n.linearDrag??1,angularDrag:n.angularDrag??.2,flowAngle:n.flowAngle??0,flowMagnitude:n.flowMagnitude??0,flowVariation:n.flowVariation??0,add(){this.onCollideUpdate("body",(a,s)=>{let r=a,o=r.worldArea(),[f,h]=o.cut(Y(-100,this.surfaceLevel),Y(100,this.surfaceLevel));f&&(this.applyBuoyancy(r,f),this.applyDrag(r,f)),this.flowMagnitude&&r.addForce(K.fromAngle(this.flowAngle).scale(this.flowMagnitude))})},applyBuoyancy(a,s){let r=this.density*s.area(),o=Y(0,1).scale(-r);a.addForce(o)},applyDrag(a,s){let r=a.vel,o=this.density*this.linearDrag,f=r.scale(-o);a.addForce(f)}}}d(G1,"buoyancyEffector");function ku(n){if(!n)throw new Error("Please define an anchor");return{id:"anchor",anchor:n,inspect(){return typeof this.anchor=="string"?"anchor: "+this.anchor:"anchor: "+this.anchor.toString()}}}d(ku,"anchor");function Kh(){return{id:"fixed",fixed:!0}}d(Kh,"fixed");function L1(n,a){return{id:"follow",require:["pos"],follow:{obj:n,offset:a??Y(0)},add(){n.exists()&&(this.pos=this.follow.obj.pos.add(this.follow.offset))},update(){n.exists()&&(this.pos=this.follow.obj.pos.add(this.follow.offset))}}}d(L1,"follow");function Y1(n){var s;let a=(s=b.game.layers)==null?void 0:s.indexOf(n);return{id:"layer",get layerIndex(){return a??null},get layer(){var r;return a?((r=b.game.layers)==null?void 0:r[a])??null:null},set layer(r){var o;if(a=(o=b.game.layers)==null?void 0:o.indexOf(r),a==-1)throw Error("Invalid layer name")},inspect(){return`layer: ${this.layer}`}}}d(Y1,"layer");function j1(n,a){let s=typeof n=="number"?K.fromAngle(n):n.unit();return{id:"move",require:["pos"],update(){this.move(s.scale(a))}}}d(j1,"move");function X1(n={}){let a=n.distance??RA,s=!1;return{id:"offscreen",require:["pos"],isOffScreen(){let r=this.screenPos();if(!r)return!1;let o=new et(Y(0),Rt(),zt());return!Ar(o,r)&&o.sdistToPoint(r)>a*a},onExitScreen(r){return this.on("exitView",r)},onEnterScreen(r){return this.on("enterView",r)},update(){this.isOffScreen()?(s||(this.trigger("exitView"),s=!0),n.hide&&(this.hidden=!0),n.pause&&(this.paused=!0),n.destroy&&this.destroy()):(s&&(this.trigger("enterView"),s=!1),n.hide&&(this.hidden=!1),n.pause&&(this.paused=!1))}}}d(X1,"offscreen");function vr(...n){return{id:"pos",pos:Y(...n),moveBy(...a){this.pos=this.pos.add(Y(...a))},move(...a){this.moveBy(Y(...a).scale(xt()))},moveTo(...a){if(typeof a[0]=="number"&&typeof a[1]=="number")return this.moveTo(Y(a[0],a[1]),a[2]);let s=a[0],r=a[1];if(r===void 0){this.pos=Y(s);return}let o=s.sub(this.pos);if(o.len()<=r*xt()){this.pos=Y(s);return}this.move(o.unit().scale(r))},worldPos(a=null){return a?(this.pos=this.pos.add(this.fromWorld(a)),null):this.parent?this.parent.transform.multVec2(this.pos):this.pos},toWorld(a){return this.parent?this.parent.transform.multVec2(this.pos.add(a)):this.pos.add(a)},fromWorld(a){return this.parent?this.parent.transform.invert().multVec2(a).sub(this.pos):a.sub(this.pos)},screenPos(a=null){if(a)return this.pos=this.pos.add(this.fromScreen(a)),null;{let s=this.worldPos();return s?Pa(this)?s:Wu(s):null}},toScreen(a){let s=this.toWorld(a);return Pa(this)?s:Wu(s)},fromScreen(a){return Pa(this)?this.fromWorld(a):this.fromWorld(zh(a))},toOther(a,s){return a.fromWorld(this.toWorld(s))},fromOther(a,s){return a.toOther(this,s)},inspect(){return`pos: (${Math.round(this.pos.x)}x, ${Math.round(this.pos.y)}y)`},drawInspect(){Xi({color:Ge(255,0,0),radius:4/rh()})}}}d(vr,"pos");function V1(n){return{id:"rotate",angle:n??0,rotateBy(a){this.angle+=a},rotateTo(a){this.angle=a},inspect(){return`angle: ${Math.round(this.angle)}`}}}d(V1,"rotate");function br(...n){if(n.length===0)return br(1);let a=Y(...n);return{id:"scale",set scale(s){if(!(s instanceof K))throw Error("The scale property on scale is a vector. Use scaleTo or scaleBy to set the scale with a number.");a=Y(s)},get scale(){return a},scaleTo(...s){a=Y(...s)},scaleBy(...s){a=a.scale(Y(...s))},inspect(){return a.x==a.y?`scale: ${a.x.toFixed(1)}x`:`scale: (${a.x.toFixed(1)}x, ${a.y.toFixed(1)}y)`}}}d(br,"scale");function Q1(n){return{id:"z",z:n,inspect(){return`z: ${this.z}`}}}d(Q1,"z");var E2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOcAAACDCAYAAAB2kQxsAAAAAXNSR0IArs4c6QAABqxJREFUeJztnU1yFDkQRtMEB+AG7Fk6fBPO6ZsQLGc/N5gbMAtosJvqKv2kpPxS763A0W5XSXqVqZ+SngzgF58/fflx/7N///vnacW1gBkFD2Z2LOYNBF3Dx9UXAGs5kxLWwhNxU2qlJHrOhwLfkNZoiaBzIa3dCFJYLXgSboKXmETPeVDQyamR8vX55fe/v37/9vBzCDoH0tqktEpZ+t0IOh4KOBm16euZmETPtVDAiRgRLRF0HRRuEkrFrE1hzR4Lipxj+bD6AqCPz5++/Bgp5tXfdv1CeAdPPmFmSkn0nE+a0drdFm6XiOkdKWEuKRptTXqlLuqqFNaM6Dkb+T5nbb+npo8WjZVinqFantFJk9bWojaRThq7HzKN8wiPJ7aCoJHEZN5zHvJp7RE1DTV6SnZ1fa/PL1MjJtF5HmnT2tJF3GZ/BIj05I8ULUtR6ypER7ogjxpw61rRGxEal4KYjNyORzatbUlHSxr06tFcBTHPiN5NUEJWzlZKG/aKRqYk5tl1IKgPafucZ7w+vxSluLP6olHnL6MQQfYV6bpk/+BRZXm+cXHEiApSipZHlE6tRBDMkxmyysl5VsmtjXiFoJmiZU35ZWK0oNv1OY+omSv0GDDKJCaMI42cHg25dvFCi6QZxVS6ViVSpLUz38A4oiS9ySjlW2althGWKZrN6XNuOVpbwq0ReIzqZhfTrHwE/PZZuEYqcnqO0tZQGxVqRylprLGIEDXNkLOKEakbYsYiiphmiQaEZuD9BghixiKSmGYJIueqBt4TRZEyHtHENCNyNtMaRREzHhHFNBOKnKv7myVcVXKka4WfRBXTjMjpypl8iBmP6MsOmed0Bgk1UHjxXlpORIAWIqeybyGtha1QEdNMRM5s7wLCGpTENBORE6AXNTHNkBM2QFFMM4F5ToX5TYiLqphmRE7YmMhimiEnJEb9XBdJOUlp4Qp1Mc1E5QQ4I/qyvFJCy8n8JnijEjXNAi3fQ0TwIEM6e2OqnAgII8kkptkgOZEQZlN6BquZjqhVFxlBOkZq4Z6WASAFQQ8jZwQJ70FK8CTiaeb3fDSLJyMiwiwiS/q0SkwEBE+85jYjSTpcTiSE2WQRtVlOpAMVemVdtjXmlZxICFlQk/TJjHcmYS96JJ0p6KmcZggKeWmVdPopYwgKuxJVUuQE+EU0Sd99KYICxJH0ry9DUIA/rFy3WyWnGYLCnqyQ9PCXERTgmJmSPvwlBAU4p1bUWklPP1yytA9JYWdGRtLLDyEowDUjomiRwQgKUIZnJC3OgREUoByPSDpkDyEkBfhJj6RNQ7xEUYA6aiS9Cdo8SUoUBaijVtCuFQwICtBGiajdawARFKCNK0HdVtEjKUAd0+Q0q9v/FklhJ1rmP4e8JEoUBejfq2jYNgtEUdgJzwN7u6dSSkBQyMSME7O7FyHUQpoLCqw8rv5o+d6Uw3NvfzjagUkAZvOlLH1lLMyx8wCzWBEhW3ZDmLZ7NTsrwCpmyui5A1+IPidigjcjhZy14/vytBYxwRsPMVcf/2c2QU72wQUVIgj5lqFyIiZEJ5qQb1me1gLMJLKM93wY9cVETYiGkphmg+RETFhJljY2LHICQB/uchI1AXxwlRMxAfwgrYVtUHvxwk1OoiaAL8MjJ2ICtOEip1q6APnJEBS6VwiRzp4vtM5YBvf3m/EeI8DyvUZK33z4+v1bqsZ7dN+3n2W6zwgMO44hY0X1vIqkXh419x7lXh9ds8oyviFyRqmcXrxf2FUtF89ymFkG6nI2p7WZB4FGvUWfLcVt4ahsdy+TR7ifz6lc0F5v0GfalmXldpE3esrr6PrTR84sjNjS4kpQhQhaUi4lD6KR1xK9DHupfoKoR02vSFDy9FWNoKVivv1/lG7OfZkqR043OZUbWgmtFaomaGl51ZTHCnFv5bqNnFGjZvRtEFUEHSHmI1ZHWgVBXZ5+sxvX7ANlPChpjKsknSllKaPlRU4nZo0Yjq6wiIJGFPMML2mj3M8ZRRe4QkzF6FhCJEFbBn4i0iKswn11yenZiLLKeMRqQdWiZSmlkqrcV9d0gPfksAcqBW+2ZqAoq5gZGSrnTtGwlVmCIqUepxWxerj7iIyNZ7SgiKmJhJw7NJpRgiKmLuHl3KnReA4UIaU+y+WkcbzHQ1DEzMGQ9aJH0BDK6RE0y9wlTDp2HuppERQxc0FFBaZGUMTMB5UlQG/fHyk1odJEaBUUMXWh4oSoFRQxtaHyxMi2uBseQwUKciUoYuaAShTlkaCImQcqUph7QREzF/8DSS/2GZ2/N/sAAAAASUVORK5CYII=",M2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOcAAACDCAYAAAB2kQxsAAAAAXNSR0IArs4c6QAABdRJREFUeJzt3d3N3TYMgGG16ADdoAhyl7UyV9bqXRB0g2zQXgRGDcOWSIoUaX3vAwQBknMk/4gWLcnHrQEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACDEb9kb8FH99eeXf6Wf/efn35ynDyj1pEsb6G6NUxOYZ7sdB/QtPdnWRnn29gbKMYDUspPs0SgPb22cHANo/JG9AZF6wWBp3JLgeir36bvff3x9LOvzp2/dbSFA97bk5I4a9VMD7TXOUcP0uJ+d6emu5d6V1QvMs5nj8FZPx37X/b2TFpzShtnafeP0DipJMFnLnN3/w1OQ7tZgP+pA4VVKcHo0TG36KNULKGt5XsHZmi1APS5WM2Vqg0i7vbsG6YcIznN9vRTxXHavgdxtv6Tc3vc1pAHqdaG6ipwKYprpf1sFp6aH0gRTrxxLubPB2avHu+c/l3mICvqnsr//+Cq+qGrK1Xw/wzbBaRkNvSv3yew9cq+cu89L6nu6F/cMzCgzF1ftANlbe+Otp1IkDVxyVfbo6Z481f3507dhvXfbrk3HpdtjKTNqKuio8678c7mzF6ns6arfMyrVNoA75wMfNU2hKSeCx3Fq7dc+SPfDc39H9Vqn2CT//4bsYeT1PecOJyGSJdh6PZOlbElPZz2PHtlD1cUeS4LT4z5IOihwfNaD5ERm9qxH/dZ7Vmt9M999CtCZbdLUP/p3r2zFQ0paG8lr4Eb6+ZWBcSeq/qhyK6bXUfXOSgtO7/tOb9eT1NveqKttpYbiyXu/euV51JV16/T6e86zyF5TUp731V5Sp+Z7M71h9QvFNWWuvr0Sy4LzLfNvrel6zRX1e+hN2VzrnNlfaYD0xhCs++851lDh3vNV95xe6YvHgb8bwbNcuc+f09wbaUj2dzYgjz93//5kh94t0quCM8OKK6glKKuM0EYHfhUZWd8WwenZa0rLsp6s2YY66o0k9WUvS4NManBaGuo1eDIHgUZ1ePdkntsfFaCz5VZJdStsxyt7ziMNXHEAK5yk1mqmhrMPf1fcp57Vqe3SqZTMEduZhqAZyaywFne0DVHngHTZ11bznE88l/1lBZ9meP8851plWkBCO7drmQvWnL/sY/fKtFaqN3iy6iofsQxNktJnTMgfPXJUz3w3VaP5vOQ7Iyszvy2DczSi+aYFET2jINUEqFcAS4+rV480WlwRWXe07dLa0YGvfl9kmbTvPZJ1TXGvn4t4yuRp+2aMgk27wkm63DIztU3vOVfueC8wK4zKWtK0M+nvJXmOdlt65MgFFCva06qsKz044SvjIiN5TjLaaHxhtNyyouXBGZ1WSn66Ivt+M7pRZAWoZsDq+t2emeM1am/WtHxFG9runrO1/n1CxLK7CilxJM/H4bwuTJJBvWtgvm0gcNu01uvpd8la1soLE7xkpYDea4Ot6W3GOSzRc3o/qHw2M9qmXWA+uw+jbd0hyO9Yz0+vJ9QGcO/8ZV2YUqYVPN8dImXp3aJ/w1XTGGYfKZN+P7IXiXqO1uINLzFOm/Pz+BV4C03PNEqpZl//ELXP1ro8nhLyKLPHMyAiXyvh4cMFZ2uyAJXc62gzgJl1nhrSLMEzcLx+5qQnIhgqv6qhTHC2Zmus1tUuowCVDkRU6j0jgiJqhLPSSq2q7wMtMSBkdbcQWjNCq2nMlRrTnajAPP/t+c5Sj3K8VNueQ+pGzaa2MyOb2sZseW2dpL6ZnjMzfeQFt/Fe3XP2WIfGvRY6a569jCJ9TaIlcCS9KQE5p1TP2VrMbwLNDlZEvpE5AkGxh9f2nLO/QOetytIwAnMf6SfS2ns+jaZ6B4i2sWvSvF0HWOAj/aRGNFAaPXbw2rS2Rzr0T/ChshKNM3qd4135BCaqK9VAKy+lAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/4DBC0k0jFtF9wAAAAASUVORK5CYII=",T2="3001.0.0",b={k:null,globalOpt:null,gfx:null,game:null,app:null,assets:null,fontCacheCanvas:null,fontCacheC2d:null,debug:null,audio:null,pixelDensity:null,canvas:null,gscale:null,kaSprite:null,boomSprite:null},R2=d((n={tagsAsComponents:!0})=>{b.k&&(console.warn("KAPLAY already initialized, you are calling kaplay() multiple times, it may lead bugs!"),b.k.quit()),b.globalOpt=n;let a=n.root??document.body;a===document.body&&(document.body.style.width="100%",document.body.style.height="100%",document.body.style.margin="0px",document.documentElement.style.width="100%",document.documentElement.style.height="100%");let s=n.canvas??a.appendChild(document.createElement("canvas"));b.canvas=s;let r=n.scale??1;b.gscale=r;let o=n.width&&n.height&&!n.stretch&&!n.letterbox;o?(s.width=n.width*r,s.height=n.height*r):(s.width=s.parentElement.offsetWidth,s.height=s.parentElement.offsetHeight);let f=["outline: none","cursor: default"];if(o){let de=s.width,Ae=s.height;f.push(`width: ${de}px`),f.push(`height: ${Ae}px`)}else f.push("width: 100%"),f.push("height: 100%");n.crisp&&(f.push("image-rendering: pixelated"),f.push("image-rendering: crisp-edges")),s.style.cssText=f.join(";");let h=n.pixelDensity||1;b.pixelDensity=h,s.width*=h,s.height*=h,s.tabIndex=0;let v=document.createElement("canvas");v.width=256,v.height=256,b.fontCacheCanvas=v;let g=v.getContext("2d",{willReadFrequently:!0});b.fontCacheC2d=g;let p=VA({canvas:s,touchToMouse:n.touchToMouse,gamepads:n.gamepads,pixelDensity:n.pixelDensity,maxFPS:n.maxFPS,buttons:n.buttons});b.app=p;let w=[],R=p.canvas.getContext("webgl",{antialias:!0,depth:!0,stencil:!0,alpha:!0,preserveDrawingBuffer:!0});if(!R)throw new Error("WebGL not supported");let y=R,q=wy(y,{texFilter:n.texFilter}),E=r2(n,q);b.gfx=E;let N=A2();b.audio=N;let x=a2(q,n.spriteAtlasPadding??0);b.assets=x;let D=v2();b.game=D,D.root.use($u());function V(de,Ae){let Se=new Fu(q,de,Ae);return{clear:d(()=>Se.clear(),"clear"),free:d(()=>Se.free(),"free"),toDataURL:d(()=>Se.toDataURL(),"toDataURL"),toImageData:d(()=>Se.toImageData(),"toImageData"),width:Se.width,height:Se.height,draw:d(Le=>{sn(),Se.bind(),Le(),sn(),Se.unbind()},"draw"),get fb(){return Se}}}d(V,"makeCanvas");function $(){y.clear(y.COLOR_BUFFER_BIT),E.frameBuffer.bind(),y.clear(y.COLOR_BUFFER_BIT),E.bgColor||pa(()=>{is({width:Rt(),height:zt(),quad:new lt(0,0,Rt()/64,zt()/64),tex:E.bgTex,fixed:!0})}),E.renderer.numDraws=0,E.fixed=!1,E.transformStack.length=0,E.transform=new Wn}d($,"frameStart");function re(de,Ae){E.postShader=de,E.postShaderUniform=Ae??null}d(re,"usePostEffect");function ee(){sn(),E.lastDrawCalls=E.renderer.numDraws,E.frameBuffer.unbind(),y.viewport(0,0,y.drawingBufferWidth,y.drawingBufferHeight);let de=E.width,Ae=E.height;E.width=y.drawingBufferWidth/h,E.height=y.drawingBufferHeight/h,yr({flipY:!0,tex:E.frameBuffer.tex,pos:new K(E.viewport.x,E.viewport.y),width:E.viewport.width,height:E.viewport.height,shader:E.postShader,uniform:typeof E.postShaderUniform=="function"?E.postShaderUniform():E.postShaderUniform,fixed:!0}),sn(),E.width=de,E.height=Ae}d(ee,"frameEnd");let O=!1,U={inspect:!1,timeScale:1,showLog:!0,fps:d(()=>p.fps(),"fps"),numFrames:d(()=>p.numFrames(),"numFrames"),stepFrame:se,drawCalls:d(()=>E.lastDrawCalls,"drawCalls"),clearLog:d(()=>D.logs=[],"clearLog"),log:d((...de)=>{let Ae=n.logMax??8,Se=de.length>1?de.concat(" ").join(" "):de[0];D.logs.unshift({msg:Se,time:p.time()}),D.logs.length>Ae&&(D.logs=D.logs.slice(0,Ae))},"log"),error:d(de=>U.log(new Error(de.toString?de.toString():de)),"error"),curRecording:null,numObjects:d(()=>P("*",{recursive:!0}).length,"numObjects"),get paused(){return O},set paused(de){O=de,de?N.ctx.suspend():N.ctx.resume()}};b.debug=U;function G(de,Ae){try{return JSON.parse(window.localStorage[de])}catch{return Ae?(j(de,Ae),Ae):null}}d(G,"getData");function j(de,Ae){window.localStorage[de]=JSON.stringify(Ae)}d(j,"setData");function F(de,...Ae){let Se=de(rt),Le;typeof Se=="function"?Le=Se(...Ae)(rt):Le=Se;for(let Je in Le)rt[Je]=Le[Je],n.global!==!1&&(window[Je]=Le[Je]);return rt}d(F,"plug");function ae(de){let Ae=p.canvas.captureStream(de),Se=N.ctx.createMediaStreamDestination();N.masterNode.connect(Se);let Le=new MediaRecorder(Ae),Je=[];return Le.ondataavailable=Ce=>{Ce.data.size>0&&Je.push(Ce.data)},Le.onerror=()=>{N.masterNode.disconnect(Se),Ae.getTracks().forEach(Ce=>Ce.stop())},Le.start(),{resume(){Le.resume()},pause(){Le.pause()},stop(){return Le.stop(),N.masterNode.disconnect(Se),Ae.getTracks().forEach(Ce=>Ce.stop()),new Promise(Ce=>{Le.onstop=()=>{Ce(new Blob(Je,{type:"video/mp4"}))}})},download(Ce="kaboom.mp4"){this.stop().then(gt=>zf(Ce,gt))}}}d(ae,"record");function ue(){return document.activeElement===p.canvas}d(ue,"isFocused");let ge=D.root.add.bind(D.root),me=D.root.readd.bind(D.root),ve=D.root.removeAll.bind(D.root),P=D.root.get.bind(D.root),ne=D.root.wait.bind(D.root),le=D.root.loop.bind(D.root),he=D.root.query.bind(D.root),M=D.root.tween.bind(D.root),W=Ul(null,M2),te=Ul(null,E2);b.kaSprite=W,b.boomSprite=te;function ce(){D.root.fixedUpdate()}d(ce,"fixedUpdateFrame");function se(){D.root.update()}d(se,"updateFrame");const qt=class qt{constructor(Ae,Se,Le,Je,Ce=!1){_(this,"source");_(this,"target");_(this,"normal");_(this,"distance");_(this,"resolved",!1);this.source=Ae,this.target=Se,this.normal=Le,this.distance=Je,this.resolved=Ce}get displacement(){return this.normal.scale(this.distance)}reverse(){return new qt(this.target,this.source,this.normal.scale(-1),this.distance,this.resolved)}hasOverlap(){return!this.displacement.isZero()}isLeft(){return this.displacement.cross(D.gravity||Y(0,1))>0}isRight(){return this.displacement.cross(D.gravity||Y(0,1))<0}isTop(){return this.displacement.dot(D.gravity||Y(0,1))>0}isBottom(){return this.displacement.dot(D.gravity||Y(0,1))<0}preventResolution(){this.resolved=!0}};d(qt,"Collision");let Ee=qt;function we(){if(!D1())return;let de={},Ae=n.hashGridSize||64,Se=new Wn,Le=[];function Je(Ce){if(Le.push(Se.clone()),Ce.pos&&Se.translate(Ce.pos),Ce.scale&&Se.scale(Ce.scale),Ce.angle&&Se.rotate(Ce.angle),Ce.transform=Se.clone(),Ce.c("area")&&!Ce.paused){let gt=Ce,fn=gt.worldArea().bbox(),us=Math.floor(fn.pos.x/Ae),os=Math.floor(fn.pos.y/Ae),_t=Math.ceil((fn.pos.x+fn.width)/Ae),Qi=Math.ceil((fn.pos.y+fn.height)/Ae),wa=new Set;for(let jt=us;jt<=_t;jt++)for(let Xt=os;Xt<=Qi;Xt++)if(!de[jt])de[jt]={},de[jt][Xt]=[gt];else if(!de[jt][Xt])de[jt][Xt]=[gt];else{let Sa=de[jt][Xt];e:for(let Ht of Sa){if(Ht.paused||!Ht.exists()||wa.has(Ht.id))continue;for(let Rn of gt.collisionIgnore)if(Ht.is(Rn))continue e;for(let Rn of Ht.collisionIgnore)if(gt.is(Rn))continue e;let ui=v0(gt.worldArea(),Ht.worldArea());if(ui){let Rn=new Ee(gt,Ht,ui.normal,ui.distance);gt.trigger("collideUpdate",Ht,Rn);let qn=Rn.reverse();qn.resolved=Rn.resolved,Ht.trigger("collideUpdate",gt,qn)}wa.add(Ht.id)}Sa.push(gt)}}Ce.children.forEach(Je),Se=Le.pop()}d(Je,"checkObj"),Je(D.root)}d(we,"checkFrame");function st(de){console.error(de),N.ctx.suspend();let Ae=de.message??String(de)??"Unknown error, check console for more info";p.run(()=>{},()=>{$(),pa(()=>{let Se=Rt(),Le=zt(),Je={size:36,width:Se-32*2,letterSpacing:4,lineSpacing:4,font:Xu,fixed:!0};rn({width:Se,height:Le,color:Ge(0,0,255),fixed:!0});let Ce=ai({...Je,text:"Error",pos:Y(32),color:Ge(255,128,0),fixed:!0});ii(Ce),Lf({...Je,text:Ae,pos:Y(32,32+Ce.height+16),fixed:!0}),Jt(),D.events.trigger("error",de)}),ee()})}d(st,"handleErr");function Oe(de){w.push(de)}d(Oe,"onCleanup");function Fe(){D.events.onOnce("frameEnd",()=>{p.quit(),y.clear(y.COLOR_BUFFER_BIT|y.DEPTH_BUFFER_BIT|y.STENCIL_BUFFER_BIT);let de=y.getParameter(y.MAX_TEXTURE_IMAGE_UNITS);for(let Ae=0;Ae<de;Ae++)y.activeTexture(y.TEXTURE0+Ae),y.bindTexture(y.TEXTURE_2D,null),y.bindTexture(y.TEXTURE_CUBE_MAP,null);y.bindBuffer(y.ARRAY_BUFFER,null),y.bindBuffer(y.ELEMENT_ARRAY_BUFFER,null),y.bindRenderbuffer(y.RENDERBUFFER,null),y.bindFramebuffer(y.FRAMEBUFFER,null),q.destroy(),w.forEach(Ae=>Ae())})}d(Fe,"quit");let Ne=!0;p.run(()=>{try{x.loaded&&(U.paused||ce(),we())}catch(de){st(de)}},(de,Ae)=>{try{de(),x.loaded||ti()===1&&!Ne&&(x.loaded=!0,oh().forEach(Se=>D.events.trigger("loadError",...Se)),D.events.trigger("load")),!x.loaded&&n.loadingScreen!==!1||Ne?($(),Ey(),ee()):(U.paused||se(),we(),$(),xy(),n.debug!==!1&&Sy(),ee()),Ne&&(Ne=!1),D.events.trigger("frameEnd"),Ae()}catch(Se){st(Se)}}),Sh(),Gh();let rt={_k:b,VERSION:T2,loadRoot:ny,loadProgress:ti,loadSprite:Ul,loadSpriteAtlas:yh,loadSound:py,loadMusic:my,loadBitmapFont:oy,loadFont:ry,loadShader:hy,loadShaderURL:dy,loadAseprite:sy,loadPedit:cy,loadBean:ly,loadJSON:ay,load:Zu,getSound:mh,getFont:dh,getBitmapFont:gh,getSprite:ch,getShader:ph,getAsset:iy,Asset:Tn,SpriteData:ni,SoundData:mr,width:Rt,height:zt,center:pr,dt:xt,fixedDt:Qu,restDt:Ku,time:p.time,screenshot:p.screenshot,record:ae,isFocused:ue,setCursor:p.setCursor,getCursor:p.getCursor,setCursorLocked:p.setCursorLocked,isCursorLocked:p.isCursorLocked,setFullscreen:p.setFullscreen,isFullscreen:p.isFullscreen,isTouchscreen:p.isTouchscreen,onLoad:po,onLoadError:Jy,onLoading:Ky,onResize:Zy,onGamepadConnect:p.onGamepadConnect,onGamepadDisconnect:p.onGamepadDisconnect,onError:Fy,onCleanup:Oe,flash:Uh,setCamPos:Rh,getCamPos:qh,setCamRot:Bh,getCamRot:Ch,setCamScale:Dh,getCamScale:Oh,getCamTransform:Py,camPos:$y,camScale:ky,camFlash:t1,camRot:e1,camTransform:Wy,shake:Iy,toScreen:Wu,toWorld:zh,setGravity:n1,getGravity:a1,setGravityDirection:i1,getGravityDirection:zl,setBackground:P0,getBackground:W0,getGamepads:p.getGamepads,getTreeRoot:h1,add:ge,make:mo,destroy:Yh,destroyAll:ve,get:P,query:he,readd:me,pos:vr,scale:br,rotate:V1,color:xh,opacity:Eh,anchor:ku,area:O1,sprite:Iu,text:y1,polygon:zy,rect:Th,circle:qy,uvquad:v1,outline:Cy,particles:Uy,body:B1,platformEffector:N1,surfaceEffector:U1,areaEffector:z1,pointEffector:_1,buoyancyEffector:G1,constantForce:H1,doubleJump:C1,shader:_y,textInput:q1,timer:$u,fixed:Kh,stay:Qh,health:E1,lifespan:M1,named:T1,state:R1,z:Q1,layer:Y1,move:j1,offscreen:X1,follow:L1,fadeIn:Oy,mask:By,drawon:Dy,raycast:Mh,tile:jh,animate:x1,serializeAnimation:Vh,agent:b1,sentry:S1,patrol:w1,pathfinder:A1,trigger:o2,on:It,onFixedUpdate:c2,onUpdate:f2,onDraw:h2,onAdd:Ny,onDestroy:d2,onTag:Gy,onUntag:m2,onUse:g2,onUnuse:p2,onClick:y2,onCollide:Ly,onCollideUpdate:Yy,onCollideEnd:jy,onHover:Xy,onHoverUpdate:Vy,onHoverEnd:Qy,onKeyDown:p.onKeyDown,onKeyPress:p.onKeyPress,onKeyPressRepeat:p.onKeyPressRepeat,onKeyRelease:p.onKeyRelease,onMouseDown:p.onMouseDown,onMousePress:p.onMousePress,onMouseRelease:p.onMouseRelease,onMouseMove:p.onMouseMove,onCharInput:p.onCharInput,onTouchStart:p.onTouchStart,onTouchMove:p.onTouchMove,onTouchEnd:p.onTouchEnd,onScroll:p.onScroll,onHide:p.onHide,onShow:p.onShow,onGamepadButtonDown:p.onGamepadButtonDown,onGamepadButtonPress:p.onGamepadButtonPress,onGamepadButtonRelease:p.onGamepadButtonRelease,onGamepadStick:p.onGamepadStick,onButtonPress:p.onButtonPress,onButtonDown:p.onButtonDown,onButtonRelease:p.onButtonRelease,mousePos:uh,mouseDeltaPos:p.mouseDeltaPos,isKeyDown:p.isKeyDown,isKeyPressed:p.isKeyPressed,isKeyPressedRepeat:p.isKeyPressedRepeat,isKeyReleased:p.isKeyReleased,isMouseDown:p.isMouseDown,isMousePressed:p.isMousePressed,isMouseReleased:p.isMouseReleased,isMouseMoved:p.isMouseMoved,isGamepadButtonPressed:p.isGamepadButtonPressed,isGamepadButtonDown:p.isGamepadButtonDown,isGamepadButtonReleased:p.isGamepadButtonReleased,getGamepadStick:p.getGamepadStick,isButtonPressed:p.isButtonPressed,isButtonDown:p.isButtonDown,isButtonReleased:p.isButtonReleased,setButton:p.setButton,getButton:p.getButton,pressButton:p.pressButton,releaseButton:p.releaseButton,getLastInputDeviceType:p.getLastInputDeviceType,charInputted:p.charInputted,loop:le,wait:ne,play:s1,setVolume:Hh,getVolume:Nh,volume:r1,burp:_h,audioCtx:N.ctx,Line:cn,Rect:et,Circle:un,Ellipse:ba,Point:vA,Polygon:Wt,Vec2:K,Color:De,Mat4:Wn,Quad:lt,RNG:Hm,rand:St,randi:Kf,randSeed:Nm,vec2:Y,rgb:Ge,hsl2rgb:pA,quad:ht,choose:Ym,chooseMultiple:Lm,shuffle:Zf,chance:Gm,lerp:Pt,tween:M,easings:gr,map:Nn,mapc:_m,wave:Qf,deg2rad:dt,rad2deg:ei,clamp:Gn,evaluateQuadratic:n0,evaluateQuadraticFirstDerivative:a0,evaluateQuadraticSecondDerivative:i0,evaluateBezier:so,evaluateBezierFirstDerivative:l0,evaluateBezierSecondDerivative:s0,evaluateCatmullRom:r0,evaluateCatmullRomFirstDerivative:u0,curveLengthApproximation:th,normalizedCurve:o0,hermite:ss,cardinal:nh,catmullRom:hr,bezier:c0,kochanekBartels:f0,easingSteps:y0,easingLinear:p0,easingCubicBezier:m0,testLineLine:eo,testRectRect:Ff,testRectLine:to,testRectPoint:Ar,testCirclePolygon:Sr,testLinePoint:no,testLineCircle:ls,isConvex:x0,triangulate:ih,NavMesh:t2,drawSprite:Ty,drawText:Lf,formatText:ai,drawRect:rn,drawLine:Bl,drawLines:go,drawTriangle:Ah,drawCircle:Xi,drawEllipse:vh,drawUVQuad:is,drawPolygon:ya,drawCurve:bh,drawBezier:Ay,drawFormattedText:ii,drawMasked:My,drawSubtracted:Ry,pushTransform:ln,popTransform:Jt,pushTranslate:it,pushScale:as,pushRotate:Gi,pushMatrix:I0,usePostEffect:re,makeCanvas:V,debug:U,scene:d1,getSceneName:m1,go:g1,onSceneLeave:p1,layers:f1,getLayers:o1,setLayers:Lh,getDefaultLayer:c1,addLevel:Hy,getData:G,setData:j,download:uo,downloadJSON:B0,downloadText:sh,downloadBlob:zf,plug:F,ASCII_CHARS:E0,canvas:p.canvas,addKaboom:u1,LEFT:K.LEFT,RIGHT:K.RIGHT,UP:K.UP,DOWN:K.DOWN,RED:De.RED,GREEN:De.GREEN,BLUE:De.BLUE,YELLOW:De.YELLOW,MAGENTA:De.MAGENTA,CYAN:De.CYAN,WHITE:De.WHITE,BLACK:De.BLACK,quit:Fe,KEvent:Ft,KEventHandler:dr,KEventController:Li,cancel:d(()=>T0,"cancel")};b.k=rt;let Yn=n.plugins;if(Yn&&Yn.forEach(F),n.global!==!1)for(let de in rt)window[de]=rt[de];return n.focus!==!1&&p.canvas.focus(),rt},"kaplay"),q2=R2;function D2(){return q2({global:!1,pixelDensity:2,touchToMouse:!0,debug:!0,debugKey:"u",canvas:document.getElementById("game"),background:[255,255,255]})}function Vi(n,a){return n.add([n.text(a,{font:"gaegu"}),n.anchor("topleft"),n.color("000000"),n.pos(n.center().sub(n.vec2(n.width()/2-16,n.height()/2-16))),n.layer("fg"),n.fixed(),n.z(1)])}function We(n,a,s=3,r=48){const o=n.add([n.pos(n.center().add(n.vec2(0,n.height()/2-116))),n.anchor("bot"),n.text(a,{size:r,font:"gaegu"}),n.color(0,0,0),n.fixed(),n.layer("fg"),n.z(2)]),f=n.add([n.rect(o.width+64,o.height+32),n.anchor("bot"),n.pos(n.center().add(n.vec2(0,n.height()/2-100))),n.outline(4),n.fixed(),n.layer("fg"),n.z(1),{isDestroyed:!1}]);return s>0&&n.wait(s,()=>{f.isDestroyed=!0,n.destroy(f),n.destroy(o)}),f.onDestroy(()=>{n.destroy(o)}),[f,o]}function Fa(n,a,s,r="left"){const o=s.split("-")[0];let f="left",h=0;return r=="left"?(f="right",h=10):h=-20,n.add([n.pos(a.sub(n.vec2(h,-45))),n.anchor(f),n.color("000000"),n.text(o,{font:"gaegu",color:"000000",size:32})]),n.add([n.rect(10,100),n.outline(4),n.area(),n.body({isStatic:!0}),n.pos(a),n.layer("fg"),s])}function ri(n,a,s,r="down"){const o=n.add([n.sprite("player",{anim:"down-idle"}),n.scale(8),n.anchor("bot"),n.area({shape:new n.Rect(n.vec2(0),6,2)}),n.body(),n.pos(a),n.layer("game"),n.z(10),"player",{direction:r,dir_vec:n.vec2(0,0),rec_coll:null,frozen:!1}]);return n.onKeyDown(["w","up"],()=>{o.frozen||(o.dir_vec=n.vec2(0,-1),o.move(n.vec2(0,-1).scale(s)),o.direction="up")}),n.onKeyDown(["a","left"],()=>{o.frozen||(o.dir_vec=n.vec2(-1,0),o.move(n.vec2(-1,0).scale(s)),o.direction="left")}),n.onKeyDown(["s","down"],()=>{o.frozen||(o.dir_vec=n.vec2(0,1),o.move(n.vec2(0,1).scale(s)),o.direction="down")}),n.onKeyDown(["d","right"],()=>{o.frozen||(o.dir_vec=n.vec2(1,0),o.move(n.vec2(1,0).scale(s)),o.direction="right")}),o.onCollide(f=>{o.rec_coll=f}),o.onUpdate(()=>{n.getCamPos().eq(o.pos)||n.tween(n.getCamPos(),o.pos,.1,h=>n.setCamPos(h),n.easings.linear);let f=o.getCollisions();if(f.length!=0)for(let h=0;h<f.length;h++){let v=n.vec2(f[h].normal.x,f[h].normal.y*-1);o.move(v)}switch(!n.isKeyDown()&&!o.direction.includes("idle")&&(o.direction=o.direction+"-idle"),o.direction){case"up":(!o.getCurAnim().name.includes("up")||o.getCurAnim().name.includes("idle"))&&o.play("up",{speed:6});break;case"down":(!o.getCurAnim().name.includes("down")||o.getCurAnim().name.includes("idle"))&&o.play("down",{speed:6});break;case"left":(!o.getCurAnim().name.includes("left")||o.getCurAnim().name.includes("idle"))&&o.play("left",{speed:6});break;case"right":(!o.getCurAnim().name.includes("right")||o.getCurAnim().name.includes("idle"))&&o.play("right",{speed:6});break;case"down-idle":o.getCurAnim().name.includes("down-idle")||o.play("down-idle");break;case"up-idle":o.getCurAnim().name.includes("up-idle")||o.play("up-idle");break;case"left-idle":o.getCurAnim().name.includes("left-idle")||o.play("left-idle");break;case"right-idle":o.getCurAnim().name.includes("right-idle")||o.play("right-idle");break}}),o}function rs(n,a){const s=n.pos,r=a.pos,o=n.width,f=n.height,h=a.width,v=a.height,g=[r.x-(s.x+o),s.x-o-(r.x+h),r.y-(s.y+f),s.y-(r.y+v)];let p=1/0;for(const w of Object.entries(g))Math.abs(w[1])<Math.abs(p)&&(p=w[1]);return p}function cr(n,a,s,r,o=""){return n.add([n.sprite(s),n.anchor("topleft"),n.scale(1),n.area(),n.body({isStatic:!0}),n.pos(a),n.layer(r),o])}function Yt(n,a,s,r,o){const f=n.add([n.rect(a+r,r),n.anchor("center"),n.pos(o.x,o.y-s/2-r/2),n.color(0,0,0),n.area(),n.body({isStatic:!0}),n.layer("bg"),"wall"]),h=n.add([n.rect(a+r,r),n.anchor("center"),n.pos(o.x,o.y+s/2+r/2),n.color(0,0,0),n.area(),n.body({isStatic:!0}),n.layer("bg"),"wall"]),v=n.add([n.rect(r,s),n.anchor("center"),n.pos(o.x+a/2+r/2,o.y),n.color(0,0,0),n.area(),n.body({isStatic:!0}),n.layer("bg"),"wall"]),g=n.add([n.rect(r,s),n.anchor("center"),n.pos(o.x-a/2-r/2,o.y),n.color(0,0,0),n.area(),n.body({isStatic:!0}),n.layer("bg"),"wall"]);return[f,v,h,g]}let Ln=!1;function O2(){const[n,a]=_u.useState(!1),s=_u.useRef(null);_u.useEffect(()=>{s.current=document.getElementById("game")},[]);const r=()=>{a(!n),Ln=!n,document.querySelectorAll("audio").forEach(f=>{f.muted=Ln}),s.current.focus()};return Yu.jsx("div",{children:Yu.jsx("img",{className:"mute-button",src:n?"/images/sound_muted.png":"/images/sound_unmuted.png",alt:n?"Muted":"Unmuted",onClick:r})})}function B2(n){return n.scene("bathroom",(a,s)=>{n.onUpdate(()=>{Ln?s.stop():s.paused=!1}),n.setCamPos(a.playerPos);let r=ri(n,a.playerPos,400,a.direction);Vi(n,"bathroom");let o=null;n.onKeyPress("space",()=>{if(r.rec_coll!=null&&rs(r,r.rec_coll)<17){let f=null;switch(r.rec_coll.tags[1]){case"toilet":f="ploop";break;case"bathroom_sink":a.playerPos=n.center(),a.direction="up",n.go("bathroom_mirror",a,s);break;case"bath":f="you don't have time for a shower right now (stinky)";break;case"hallway-door":r.rec_coll=null,n.play("door_open",{volume:.3,speed:1.2}),a.playerPos=n.center().add(-50,0),a.direction="right",n.go("hallway",a,s);return}o!=null&&!o[0].isDestroyed&&(o[0].destroy(),o[1].destroy()),f!=null&&(n.play("interact",{volume:1}),o=We(n,f))}}),Yt(n,500,250,4,n.center().sub(n.vec2(200,100))),cr(n,n.center().sub(190,450),"bathroom_sink","game","bathroom_sink"),n.add([n.sprite("toilet"),n.scale(.8),n.area(),n.body({isStatic:!0}),n.pos(n.center().sub(n.vec2(300,350))),n.layer("game"),"toilet"]),n.add([n.sprite("bath"),n.scale(.8),n.area(),n.body({isStatic:!0}),n.pos(n.center().sub(n.vec2(470,430))),n.layer("game"),"bath"]),Fa(n,n.center().add(n.vec2(47,-100)),"hallway-door","right")})}function C2(n){return n.scene("bathroom_mirror",(a,s)=>{n.onUpdate(()=>{Ln?s.stop():s.paused=!1}),n.setCamPos(a.playerPos),n.add([n.sprite("you"),n.anchor("center"),n.scale(1.1),n.area(),n.body({isStatic:!0}),n.pos(n.center().add(n.vec2(0,100))),n.layer("game")]),cr(n,0,"mirror_background","bg"),n.wait(1.5,()=>{We(n,"looking beautiful as ever, my love.",0)}),n.onKeyPress("space",()=>{a.playerPos=n.center().sub(60,80),a.direction="up",n.go("bathroom",a,s)})})}function yo(n,a,s){s.frozen=!0;let r=n.add([n.sprite("present_open0"),n.anchor("center"),n.scale(4),n.pos(n.center()),n.layer("fg"),n.fixed()]);n.play("open_present",{volume:1,speed:1}),n.wait(.5,()=>{r.sprite="present_open1"}),n.wait(1,()=>{r.sprite="present_open2"}),n.wait(1.5,()=>{r.destroy()});let o=null,f=null;n.wait(1.5,()=>{switch(a){case"figure":{o=n.add([n.sprite("figure"),n.anchor("center"),n.scale(3),n.pos(n.center()),n.layer("fg"),n.fixed()]),f=We(n,"it's a figure! (i wonder who made that...)",0);break}case"note":{o=n.add([n.sprite("note"),n.anchor("center"),n.scale(2),n.pos(n.center()),n.layer("fg"),n.fixed()]),f=We(n,"you found a note!",0);break}case"toy":{o=n.add([n.sprite("toy"),n.anchor("center"),n.scale(4),n.pos(n.center()),n.layer("fg"),n.fixed()]),f=We(n,"you found a cute little thing! who could have left him here?",0);break}case"magnet":{o=n.add([n.sprite("magnet"),n.anchor("center"),n.scale(3),n.pos(n.center()),n.layer("fg"),n.fixed()]),f=We(n,"you found a magnet!",0);break}}}),n.onKeyPress("space",()=>{o!=null&&f!=null&&(o.destroy(),f[0].destroy(),f[1].destroy(),s.frozen=!1)})}function K1(n,a){return n.add([n.sprite("present"),n.anchor("topleft"),n.scale(.5),n.area(),n.body({isStatic:!0}),n.pos(a),n.layer("game"),"present"])}function U2(n){return n.scene("bedroom",(a,s)=>{n.onUpdate(()=>{Ln?s.stop():s.paused=!1}),n.setCamPos(a.playerPos);let r=ri(n,a.playerPos,400,a.direction);Vi(n,"bedroom");let o=null,f=null;n.onKeyPress("space",()=>{if(r.rec_coll!=null&&!r.frozen&&rs(r,r.rec_coll)<17){let g=null;switch(r.rec_coll.tags[1]){case"table":if(o!=null){r.frozen=!0,g="you open the present on the table...",a.flags.push("opened3"),o.destroy(),o=null,n.wait(2,()=>{yo(n,"toy",r)});break}else g="i didn't have time to draw all the table things...";break;case"bed":g="it's your bed!! you love your bed";break;case"laundry":g="maybe its time for laundry";break;case"dresser":g="so many clothes";break;case"hallway-door":r.rec_coll=null,n.play("door_open",{volume:.3,speed:1.2}),a.playerPos=n.center().add(50,-50),a.direction="left",n.go("hallway",a,s);return}f!=null&&!f[0].isDestroyed&&(f[0].destroy(),f[1].destroy()),g!=null&&(n.play("interact",{volume:1}),f=We(n,g))}});let h=300,v=400;Yt(n,v,h,4,n.center()),cr(n,n.center().sub(n.vec2(v/2+10,h/2+60)),"bed","game","bed"),cr(n,n.center().sub(n.vec2(v/2-200,h/2+270)),"window","game","window"),cr(n,n.center().add(n.vec2(v/2-90,h/2-350)),"dresser","game","dresser"),n.add([n.sprite("table"),n.scale(1),n.area(),n.body({isStatic:!0}),n.pos(n.center().add(n.vec2(v/2-240,-300/2-50))),n.layer("game"),n.z(-1),"table"]),n.add([n.sprite("laundry"),n.scale(1.5),n.anchor("center"),n.area({shape:new n.Rect(n.vec2(0),40,40)}),n.pos(n.center().add(n.vec2(v/2-170,h/2-100))),n.layer("game"),"laundry"]);for(let g=0;g<a.flags.length;g++)a.flags[g].includes("opened")&&!a.flags.includes("opened3")&&(o=K1(n,n.center().sub(0,230)));Fa(n,n.center().sub(n.vec2(v/2+6,-300/2+110)),"hallway-door")})}function z2(n){n.scene("downstairs",(a,s)=>{n.onUpdate(()=>{Ln?s.stop():s.paused=!1}),n.setCamPos(a.playerPos),n.setCamScale(.8,.8);let r=ri(n,a.playerPos,400,a.direction);Vi(n,"downstairs");let o=null;n.onKeyPress("space",()=>{if(r.rec_coll!=null&&!r.frozen&&rs(r,r.rec_coll)<17){let y=null;switch(r.rec_coll.tags[1]){case"counter1":y="this air fryer has been so useful at 1AM";break;case"fridge":y="we should have charcuterie again soon";break;case"counter2":y="there's some hot water in the kettle";break;case"stove":y="yeowch! it's still hot";break;case"counter3":y="mother made some food";break;case"island":y="phew, no dishes to wash. thank goodness";break;case"kitchen_table":y="might be a good idea to eat more fruits baby";break;case"chair":y="no time to sit around!";break;case"pantry":r.frozen=!0,y="woah! who put this here!",p.untag("pantry"),a.flags.push("opened4"),n.play("door_open"),n.wait(2,()=>{yo(n,"magnet",r),p.tag("pantry_open")});break;case"pantry_open":y="nothing but food in here now";break;case"couch1":y="such a comfy couch. great for naps";break;case"couch3":y=`i remember when you were sitting here and 
 i spilled soup all over the stairs...`;break;case"couch2":y="nobody really sits here huh";break;case"living_table":y="remember when we slept here that one night?";break;case"mantle":y="watching camping videos while eating is our specialty";break}o!=null&&!o[0].isDestroyed&&(o[0].destroy(),o[1].destroy()),y!=null&&(n.play("interact",{volume:1}),o=We(n,y))}}),Yt(n,520,200,4,n.center().add(450,0))[1].destroy(),Yt(n,150,190,4,n.center().add(-180,0))[1].destroy(),Yt(n,800,500,4,n.center().add(310,-350))[2].destroy();let g=Yt(n,950,1200,4,n.center().add(380,700));g[0].destroy(),g[3].destroy(),n.add([n.sprite("kitchen_island"),n.scale(.8),n.body({isStatic:!0}),n.area(),n.pos(n.center().add(300,300)),"island"]),n.add([n.sprite("kitchen_counter1"),n.scale(.6),n.body({isStatic:!0}),n.area(),n.pos(n.center().add(200,0)),"counter1"]),n.add([n.sprite("kitchen_counter2"),n.scale(.8),n.body({isStatic:!0}),n.area(),n.pos(n.center().add(700,200)),"counter2"]),n.add([n.sprite("kitchen_counter3"),n.scale(.7),n.body({isStatic:!0}),n.area(),n.pos(n.center().add(700,480)),n.z(1),"counter3"]);let p=n.add([n.sprite("kitchen_pantry"),n.scale(.8),n.body({isStatic:!0}),n.area({shape:new n.Polygon([n.vec2(0,380),n.vec2(180,450),n.vec2(150,0),n.vec2(0,0)])}),n.pos(n.center().add(570,-80)),"pantry"]);n.add([n.sprite("blank"),n.scale(.8),n.area(),n.pos(n.center().add(400,0)),n.layer("bg")]),n.add([n.sprite("kitchen_fridge"),n.scale(.6),n.body({isStatic:!0}),n.area(),n.pos(n.center().add(390,-65)),"fridge"]),n.add([n.sprite("kitchen_stove"),n.scale(.7),n.body({isStatic:!0}),n.area(),n.pos(n.center().add(690,330)),"stove"]),n.add([n.sprite("kitchen_table"),n.scale(.8),n.body({isStatic:!0}),n.area(),n.pos(n.center().add(200,900)),n.z(2),"kitchen_table"]),n.add([n.sprite("kitchen_chair"),n.scale(.6),n.pos(n.center().add(250,780)),"chair"]),n.add([n.sprite("kitchen_chair"),n.scale(.6),n.pos(n.center().add(450,780)),"chair"]),n.add([n.sprite("kitchen_chair_left"),n.body({isStatic:!0}),n.area(),n.scale(.6),n.pos(n.center().add(500,900)),"chair"]),Yt(n,750,700,4,n.center().add(-470,450))[1].destroy();let R=n.add([n.sprite("stairs"),n.scale(1.2),n.anchor("right"),n.area({shape:new n.Rect(n.vec2(-100,0),40,150)}),n.pos(n.center().sub(80,0))]);n.add([n.sprite("couch"),n.scale(1.2),n.body({isStatic:!0}),n.area(),n.pos(n.center().add(-200,250)),"couch1"]),n.add([n.sprite("couch_2"),n.scale(.8),n.body({isStatic:!0}),n.area(),n.pos(n.center().add(-600,620)),"couch2"]),n.add([n.sprite("couch_3"),n.scale(.9),n.body({isStatic:!0}),n.area(),n.pos(n.center().add(-600,0)),"couch3"]),n.add([n.sprite("living_table"),n.scale(.7),n.body({isStatic:!0}),n.area({shape:new n.Rect(n.vec2(0),250,420)}),n.pos(n.center().add(-500,250)),"living_table"]),n.add([n.sprite("living_mantle"),n.scale(.9),n.body({isStatic:!0}),n.area(),n.pos(n.center().add(-850,230)),"mantle"]),n.add([n.sprite("living_tv"),n.scale(.9),n.body({isStatic:!0}),n.area(),n.pos(n.center().add(-850,120)),"tv"]),n.add([n.rect(3,500),n.pos(n.center().add(-96,800)),n.color(0,0,0),n.area(),n.body({isStatic:!0}),n.layer("bg"),"wall"]),r.onCollide(()=>{r.isColliding(R)&&(a.playerPos=n.center().add(190,260),a.direction="left",n.go("stairwell",a,s))})})}function _2(n){n.scene("finale",(a,s)=>{s.stop(),n.setCamPos(n.center());let r=n.add([n.sprite("big_present_scene"),n.scale(1.5),n.anchor("bot"),n.pos(n.center().add(0,200))]);n.wait(1,()=>{n.tween(n.center(),n.center().sub(0,1e3),3,h=>n.setCamPos(h),n.easings.easeInOutSine)});let o=-1,f=null;n.wait(5,()=>{n.play("interact"),f=We(n,"woah.",0),o=1}),n.onKeyPress("space",()=>{o!=-1&&(f!=null&&!f[0].isDestroyed&&(n.play("interact",{volume:1}),f[0].destroy(),f[1].destroy()),o==1&&(f=We(n,"how did this get in here??",0)),o==2&&(f=We(n,"how do you even open something this big?",0)),o==3&&(f=We(n,"i really hope it doesnt blow up",0),n.wait(.5,()=>{r.destroy(),f[0].destroy(),f[1].destroy(),H2(n)})),o<3&&o++)})})}function H2(n){n.scene("explosion",()=>{n.play("explode_sound"),n.shake(120);let a=n.add([n.sprite("explosion"),n.scale(2),n.anchor("center"),n.pos(n.center())]);n.wait(2,()=>{a.sprite="letter1"}),n.wait(2.2,()=>{a.sprite="letter2"}),n.wait(2.4,()=>{a.sprite="letter3"}),n.wait(2.6,()=>{a.sprite="letter4"}),n.wait(2.8,()=>{a.sprite="letter5"}),n.wait(3,()=>{a.sprite="letter6"}),n.wait(3.2,()=>{a.sprite="letter7"}),n.wait(3.4,()=>{a.sprite="letter8"});let s=-1,r=null;n.wait(5,()=>{n.play("interact"),r=We(n,"i shouldn't have said anything...",0),s=1}),n.onKeyPress("space",()=>{s!=-1&&(r!=null&&!r[0].isDestroyed&&(n.play("interact",{volume:1}),r[0].destroy(),r[1].destroy()),s==1&&(r=We(n,"there's a letter though!",0)),s==2&&(r=We(n,"might as well read it after that...",0)),s==3&&(a.destroy(),r[0].destroy(),r[1].destroy(),N2(n)),s<3&&s++)})}),n.go("explosion")}function N2(n){n.scene("read_letter",()=>{n.play("pageturn");let a=n.add([n.sprite("letter"),n.scale(2),n.anchor("top"),n.pos(n.center().sub(0,300))]);n.onKeyDown("space",()=>{a.pos=a.pos.sub(0,1),a.pos.y<-1500&&G2(n)})}),n.go("read_letter")}function G2(n){n.scene("end_screen",()=>{n.add([n.pos(n.center()),n.anchor("center"),n.text("happy valentine's day, my love",{size:64,font:"gaegu"}),n.color(0,0,0),n.fixed(),n.layer("fg"),n.z(2)])}),n.go("end_screen")}function L2(n){n.scene("hallway",(a,s)=>{n.onUpdate(()=>{Ln?s.stop():s.paused=!1}),n.setCamPos(a.playerPos);let r=ri(n,a.playerPos,400,a.direction);Vi(n,"hallway");let o=null;n.onKeyPress("space",()=>{if(r.rec_coll!=null&&rs(r,r.rec_coll)<17){let R=null;switch(r.rec_coll.tags[1]){case"bedroom-door":r.rec_coll=null,n.play("door_open",{volume:.3,speed:1.2}),a.direction="right",a.playerPos=n.center().sub(150,-100),n.go("bedroom",a,s);return;case"bathroom-door":r.rec_coll=null,n.play("door_open",{volume:.3,speed:1.2}),a.playerPos=n.center(),a.direction="left",n.go("bathroom",a,s);return;case"spare room 1-door":r.rec_coll=null,n.play("door_open",{volume:.3,speed:1.2}),a.playerPos=n.center(),a.direction="right",n.go("spare1",a,s);return;case"spare room 2-door":r.rec_coll=null,n.play("door_open",{volume:.3,speed:1.2}),a.playerPos=n.center(),a.direction="left",n.go("spare2",a,s);return;case"couch1":R=`i could have zonked out on this couch 
 that night after asian glow`;break;case"tv":R="interstellar was goated. we should watch more movies on this";break;case"table":R="remember sleeping on the ground here lol";break;case"couch2":R="nap time here was goated";break;case"big_present":n.go("finale",a,s);return}o!=null&&!o[0].isDestroyed&&(o[0].destroy(),o[1].destroy()),R!=null&&(n.play("interact"),o=We(n,R,5))}});let f=Yt(n,200,1e3,4,n.center().sub(0,200));f[3].destroy(),f[0].destroy();let h=Yt(n,300,300,4,n.center().sub(-50,850));h[2].destroy(),h[0].destroy(),n.add([n.rect(100,4),n.pos(n.center().sub(-100,700)),n.color(0,0,0),n.area(),n.body({isStatic:!0}),n.layer("bg"),"wall"]),n.add([n.rect(100,4),n.pos(n.center().sub(-100,1e3)),n.color(0,0,0),n.area(),n.body({isStatic:!0}),n.layer("bg"),"wall"]),Yt(n,800,600,4,n.center().sub(200,1300))[2].destroy(),n.add([n.rect(500,4),n.pos(n.center().sub(600,1e3)),n.color(0,0,0),n.area(),n.body({isStatic:!0}),n.layer("bg"),"wall"]),n.add([n.sprite("couch"),n.scale(1),n.body({isStatic:!0}),n.area(),n.pos(n.center().sub(0,1500)),"couch1"]),n.add([n.sprite("couch_3"),n.scale(.8),n.body({isStatic:!0}),n.area(),n.pos(n.center().sub(500,1700)),"couch2"]);let g=n.add([n.sprite("bonus_table"),n.scale(.8),n.body({isStatic:!0}),n.area(),n.pos(n.center().sub(200,1470)),"table"]);n.add([n.sprite("bonus_tv"),n.scale(.8),n.body({isStatic:!0}),n.area(),n.pos(n.center().sub(600,1500)),"tv"]);for(let R=0;R<a.flags.length;R++)a.flags[R].includes("opened1")&&a.flags.includes("opened2")&&a.flags.includes("opened3")&&a.flags.includes("opened4")&&(g.destroy(),n.add([n.sprite("big_present"),n.scale(1),n.body({isStatic:!0}),n.area(),n.pos(n.center().sub(400,1500)),"big_present"]));Yt(n,100,100,4,n.center().sub(n.vec2(154,-150)))[1].destroy(),n.add([n.rect(4,800),n.anchor("center"),n.pos(n.center().sub(n.vec2(102,300))),n.color(0,0,0),n.area(),n.body({isStatic:!0}),n.layer("bg"),"wall"]),n.add([n.rect(4,100),n.anchor("center"),n.pos(n.center().sub(n.vec2(102,-250))),n.color(0,0,0),n.area(),n.body({isStatic:!0}),n.layer("bg"),"wall"]);let w=n.add([n.sprite("stairs"),n.scale(.7),n.area({shape:new n.Rect(n.vec2(-100,0),40,150)}),n.anchor("right"),n.pos(n.center().sub(n.vec2(100,-150)))]);r.onCollide(()=>{r.isColliding(w)&&(a.playerPos=n.center().sub(-200,50),a.direction="left",n.go("stairwell",a,s))}),Fa(n,n.center().add(n.vec2(97,-100)),"bedroom-door","right"),Fa(n,n.center().add(n.vec2(-107,-100)),"bathroom-door"),Fa(n,n.center().add(n.vec2(97,100)),"spare room 1-door","right"),Fa(n,n.center().add(n.vec2(-107,-300)),"spare room 2-door")})}function Y2(n){n.scene("menu",()=>{n.add([n.pos(n.center()),n.anchor("center"),n.text("press space to play",{size:64,font:"gaegu"}),n.color(0,0,0),n.fixed(),n.layer("fg"),n.z(2)]),n.onKeyPress("space",()=>{let a=n.play("intro_bgm",{volume:.5,loop:!0,paused:!0}),s={playerPos:n.center(),direction:"down",flags:["opened1","opened2","opened3","opened4"]};n.go("intro",s,a)})}),n.scene("intro",(a,s)=>{n.onUpdate(()=>{Ln?s.stop():s.paused=!1}),n.setCamPos(n.center()),ri(n,n.center(),400,"down");let r=null,o=-1;o==-1&&n.wait(1,()=>{r=We(n,"hi baby! how are you doing? (press space)",0),o=1}),n.onKeyPress("space",()=>{n.play("interact",{volume:1}),o!=-1&&(r!=null&&!r[0].isDestroyed&&(r[0].destroy(),r[1].destroy()),o==1&&(r=We(n,"i really hope you enjoy this little game i made for you",0)),o==2&&(r=We(n,"i worked pretty hard on it despite what it looks like",0)),o==3&&(r=We(n,"i hope you have fun exploring the house",0)),o==4&&(r=We(n,"i love you so much, have fun!!",0)),o==5&&(r=We(n,"just remember, WASD or arrow keys to move and SPACE to interact",0)),o==6&&(s.stop(),s=n.play("bedroom_bgm",{volume:.5,loop:!0,paused:!0}),a.playerPos=n.center(),a.direction="down",n.go("bedroom",a,s)),o++)})})}function j2(n){n.scene("spare1",(a,s)=>{n.onUpdate(()=>{Ln?s.stop():s.paused=!1}),n.setCamPos(a.playerPos);let r=ri(n,a.playerPos,400,a.direction);Vi(n,"spare room 1");let o=null;n.onKeyPress("space",()=>{if(r.rec_coll!=null&&!r.frozen&&rs(r,r.rec_coll)<17){switch(r.rec_coll.tags[1]){case"present":a.flags.push("opened1"),r.rec_coll.destroy(),r.rec_coll=null,n.play("interact"),yo(n,"figure",r);break;case"hallway-door":r.rec_coll=null,n.play("door_open",{volume:.3,speed:1.2}),a.playerPos=n.center().add(50,150),a.direction="left",n.go("hallway",a,s);return}o!=null&&!o[0].isDestroyed&&(o[0].destroy(),o[1].destroy())}}),Yt(n,300,300,4,n.center().add(110,80)),Fa(n,n.center().sub(47,65),"hallway-door","left"),a.flags.includes("opened1")||n.wait(1,()=>{o=We(n,"i forget what's in this room. but here's a present!",5),K1(n,n.center().add(50,50))})})}function X2(n){n.scene("spare2",(a,s)=>{n.onUpdate(()=>{Ln?s.stop():s.paused=!1}),n.setCamPos(a.playerPos);let r=ri(n,a.playerPos,400,a.direction);Vi(n,"spare room 2");let o=null;n.onKeyPress("space",()=>{if(r.rec_coll!=null&&!r.frozen&&rs(r,r.rec_coll)<17){let h=null;switch(r.rec_coll.tags[1]){case"bed":h="wow. a lot of clothes.";break;case"closet":r.frozen=!0,h="you open the closet and...",a.flags.push("opened2"),n.wait(2,()=>{yo(n,"note",r),f.sprite="closet_door_open",f.untag("closet"),f.tag("closet_open")});break;case"closet_open":h="there's nothing else in the closet";break;case"hallway-door":r.rec_coll=null,n.play("door_open",{volume:.3,speed:1.2}),a.playerPos=n.center().sub(50,220),a.direction="right",n.go("hallway",a,s);return}o!=null&&!o[0].isDestroyed&&(o[0].destroy(),o[1].destroy()),h!=null&&(n.play("interact",{volume:1}),o=We(n,h))}}),Yt(n,300,350,4,n.center().sub(110,150)),Fa(n,n.center().add(37,-80),"hallway-door","right"),n.add([n.sprite("spare2_bed"),n.area(),n.body({isStatic:!0}),n.pos(n.center().sub(130,350)),n.layer("game"),"bed"]);let f=n.add([n.sprite("closet_door"),n.area({shape:new n.Rect(n.vec2(0),200,250)}),n.scale(.7),n.body({isStatic:!0}),n.pos(n.center().sub(260,490)),n.layer("game")]);a.flags.includes("opened2")?(f.sprite="closet_door_open",f.tag("closet_open")):f.tag("closet")})}function V2(n){n.scene("stairwell",(a,s)=>{n.onUpdate(()=>{Ln?s.stop():s.paused=!1}),n.setCamPos(a.playerPos);let r=ri(n,a.playerPos,400,a.direction);Vi(n,"stairs"),n.add([n.sprite("stairwell"),n.layer("game"),n.anchor("center"),n.pos(n.center())]),Yt(n,500,520,4,n.center().add(n.vec2(-10,110))),Yt(n,300,100,4,n.center().add(n.vec2(90,70)));let o=n.add([n.area({shape:new n.Rect(n.vec2(0,0),40,200)}),n.anchor("right"),n.pos(n.center().sub(-260,65))]),f=n.add([n.area({shape:new n.Rect(n.vec2(0,0),40,350)}),n.anchor("right"),n.pos(n.center().sub(-260,-250))]);r.onCollide(()=>{r.isColliding(o)&&(a.playerPos=n.center().sub(160,-170),a.direction="right",n.go("hallway",a,s)),r.isColliding(f)&&(a.playerPos=n.center().sub(180,0),a.direction="right",n.go("downstairs",a,s))})})}async function Q2(){const n=D2();n.setLayers(["bg","game","fg"],"game"),n.loadFont("gaegu","./fonts/Gaegu-Regular.ttf"),n.loadSprite("player","./sprites/player_sheet.png",{sliceX:2,sliceY:5,anims:{left:{from:2,to:3,loop:!0},right:{from:0,to:1,loop:!0},down:{from:4,to:5,loop:!0},up:{from:6,to:7,loop:!0},"left-idle":3,"right-idle":1,"down-idle":8,"up-idle":9}}),n.loadSprite("blank","./images/blank.png"),n.loadSprite("sound_unmuted","./images/sound_unmuted.png"),n.loadSprite("sound_muted","./images/sound_muted.png"),n.loadSound("interact","./sounds/interact.wav"),n.loadSound("door_open","./sounds/door_open.mp3"),n.loadSound("intro_bgm","./sounds/intro_bgm.mp3"),n.loadSound("bedroom_bgm","./sounds/bedroom_bgm.mp3"),n.loadSound("open_present","./sounds/open_present.mp3"),n.loadSound("explode_sound","./sounds/explosion.mp3"),n.loadSound("pageturn","./sounds.pageturn.mp3"),n.loadSprite("present_open0","./images/present.png"),n.loadSprite("present_open1","./images/present_open1.png"),n.loadSprite("present_open2","./images/present_open2.png"),n.loadSprite("present","./sprites/present.png"),n.loadSprite("big_present","./sprites/big_present.png"),n.loadSprite("toy","./sprites/toy.png"),n.loadSprite("note","./sprites/note.png"),n.loadSprite("figure","./sprites/figure.png"),n.loadSprite("magnet","./sprites/magnet.png"),n.loadSprite("bed","./furniture/bed.png"),n.loadSprite("table","./furniture/table.png"),n.loadSprite("window","./furniture/window.png"),n.loadSprite("dresser","./furniture/dresser.png"),n.loadSprite("laundry","./sprites/laundry.png"),n.loadSprite("stairs","./images/stairs.png"),n.loadSprite("bonus_table","./furniture/bonus_table.png"),n.loadSprite("bonus_tv","./furniture/bonus_tv.png"),n.loadSprite("stairwell","./images/stairwell.png"),n.loadSprite("bathroom_sink","./furniture/bathroom_sink.png"),n.loadSprite("mirror_background","./images/mirror_background.png"),n.loadSprite("you","./images/you.png"),n.loadSprite("toilet","./furniture/toilet.png"),n.loadSprite("bath","./furniture/bath.png"),n.loadSprite("spare2_bed","./furniture/spare2_bed.png"),n.loadSprite("closet_door","./furniture/closet_door.png"),n.loadSprite("closet_door_open","./furniture/closet_door_open.png"),n.loadSprite("couch","./furniture/couch.png"),n.loadSprite("couch_2","./furniture/couch_2.png"),n.loadSprite("couch_3","./furniture/couch_3.png"),n.loadSprite("living_table","./furniture/living_table.png"),n.loadSprite("living_mantle","./furniture/living_mantle.png"),n.loadSprite("living_tv","./furniture/living_tv.png"),n.loadSprite("kitchen_island","./furniture/kitchen_island.png"),n.loadSprite("kitchen_counter1","./furniture/kitchen_counter1.png"),n.loadSprite("kitchen_counter2","./furniture/kitchen_counter2.png"),n.loadSprite("kitchen_counter3","./furniture/kitchen_counter3.png"),n.loadSprite("kitchen_fridge","./furniture/kitchen_fridge.png"),n.loadSprite("kitchen_pantry","./furniture/kitchen_pantry.png"),n.loadSprite("kitchen_stove","./furniture/kitchen_stove.png"),n.loadSprite("kitchen_table","./furniture/kitchen_table.png"),n.loadSprite("kitchen_chair","./furniture/kitchen_chair.png"),n.loadSprite("kitchen_chair_left","./furniture/kitchen_chair_left.png"),n.loadSprite("big_present_scene","./images/big_present_scene.png"),n.loadSprite("explosion","./images/explosion.png"),n.loadSprite("letter1","./images/letter1.png"),n.loadSprite("letter2","./images/letter2.png"),n.loadSprite("letter3","./images/letter3.png"),n.loadSprite("letter4","./images/letter4.png"),n.loadSprite("letter5","./images/letter5.png"),n.loadSprite("letter6","./images/letter6.png"),n.loadSprite("letter7","./images/letter7.png"),n.loadSprite("letter8","./images/letter8.png"),n.loadSprite("letter","./images/letter.png"),(()=>{if(n.width()<1e3){n.setCamScale(.7,.7);return}n.setCamScale(1,1)})(),U2(n),L2(n),V2(n),Y2(n),B2(n),C2(n),j2(n),X2(n),z2(n),_2(n),n.go("menu")}const K2=document.getElementById("ui"),Z2=hA.createRoot(K2);Z2.render(Yu.jsx(_u.StrictMode,{children:Yu.jsx(O2,{})}));Q2();
